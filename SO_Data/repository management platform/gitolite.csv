Post Link,User Link,CreationDate,Score,ViewCount,Tags,Title,Body,CommentCount,AnswerCount,FavoriteCount
"38801251","6505662","2016-08-06 06:27:09","4","332","<git><gitolite><umask>","What causes git's post-receive umask to be different from the user's umask?","<p>After some digging and help here <a href=""https://stackoverflow.com/questions/38789261/how-to-find-out-what-causes-file-permissions-to-change-when-checking-out-files-w"">from other people</a>, I found out that I have a problem with the <code>umask</code> setting in git. What I want to achieve is that any git repo that is being checked out on my server, that the <code>umask</code> setting defaults to 0002. I don't want to have to configure this in every post-receive hook... I want this to be the default <code>umask</code>. How do I achieve that? </p>

<p>My repositories are uploaded by logging in to ssh with the <code>git</code> user on the server. When I check the <code>umask</code> setting, this is already set to the right setting:</p>

<pre><code>root@server:~# su git 
git@server:~$ umask
0002
</code></pre>

<p>However, if I put <code>umask &gt; /tmp/debug.log</code> in my post-receive hook, then that file shows an <code>umask</code> of 0077! What causes this to be different?</p>

<p>The root server also has the same <code>umask</code> and I just can't figure out why the <code>umask</code> is different when I check out a repository. If I change to the <code>git</code> user and create a file, then all works well:</p>

<pre><code>git@server:~$ touch newfile
git@server:~$ ls -la
total 8
-rw-rw-r-- 1 git git    0 Aug  6 02:17 newfile
-rw------- 1 git git    0 Aug  6 02:16 post
</code></pre>

<p><code>newfile</code> is the file I just created, The <code>post</code> file is a file I checked out via git, clearly with different permissions. I also added <code>umask</code> to the .bashrc of the git user, but to no avail:</p>

<pre><code>git@server:~$ cat ~/.bashrc 
export LANGUAGE=""en_US.UTF-8""
export LC_ALL=""en_US.UTF-8""
export LANG=""en_US.UTF-8""
export LC_TYPE=""en_US.UTF-8""
umask 0002
</code></pre>

<p>For what it's worth, I use gitolite to manage my repositories.</p>

<p>And this an example post-receive hook script I use:</p>

<pre><code>#!/bin/sh
export GIT_WORK_TREE=/home/user/www/
git checkout -f
</code></pre>
","0","6505662","0"
"10184378","402468","2012-04-17 02:42:23","1","1604","<git><push><gitolite>","Gitolite: git push origin master fails with ""fatal: The remote...""","<p>We have a new gitolite server where I work, and I'm having trouble push a repo to the server.</p>

<p>I cloned the conf file, added my repo, then pushed it back.  After confirming that the empty repo is there I clone the repo to my computer.  I get an error that says, warning you've cloned an empty repo.  So to test this I add a README, and commit it.  No problem.  But when I try to push it back to the server with the change I get a <code>fatal: The remote end hung up unexpectedly</code>.</p>

<p>It may also be of note, but when I'm working in a repo, I have a little script for my prompt that tells me when the repo isn't pushed... this isn't present here.</p>

<p>Any help would be great.  Thanks!</p>
","0","402468","0"
"40608280","7005955","2016-11-15 11:06:58","0","381","<git><gitolite>","can't push file using gitolite","<p>I have one git server over ubuntu machine, I have installed gitolite and also clone gitolite-admin repo, now the problem is I cant push or pull other repos excluding gitolite-admin and testing provided by gitolite.</p>

<pre><code>ADMIN@CSO49-PC MINGW64 /e/heena/heena/gitolite-admin (master)
$ git clone git@192.168.0.106:gitolite-admin
Cloning into 'gitolite-admin'...
remote: Counting objects: 6, done.
remote: Compressing objects: 100% (4/4), done.
remote: Total 6 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (6/6), done.
Checking connectivity... done.

ADMIN@CSO49-PC MINGW64 /e/heena/heena/gitolite-admin (master)
$ git push git@192.168.0.106:gitolite-admin
Everything up-to-date

ADMIN@CSO49-PC MINGW64 /e/heena/heena/gitolite-admin (master)
$ git push git@192.168.0.106:testing.git
Counting objects: 6, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (6/6), 731 bytes | 0 bytes/s, done.
Total 6 (delta 0), reused 6 (delta 0)
To git@192.168.0.106:testing.git
 * [new branch]      master -&gt; master

ADMIN@CSO49-PC MINGW64 /e/heena/heena/gitolite-admin (master)
$ git push git@192.168.0.106:cicd.git
FATAL: W any cicd admin DENIED by fallthru
(or you mis-spelled the reponame)
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>
","4","7005955","0"
"3202081","308174","2010-07-08 09:12:07","12","8518","<git><gitosis><gitorious><gitolite><gerrit>","Is good idea to use gerrit to host the git repository instead of gitolite or gitosis?","<p>Originally I try to use gitosis to manage the git repositories in the company, and later notice gitolite is kind of enhancement of gitosis. </p>

<p>And also I heard gerrit could be used for the same purpose, but from the description, gerrit is mainly used for code review.</p>

<p>So which is the best way for setting up git server</p>

<ul>
<li>using gitolite (for git repo) <strong>AND</strong> gerrit (for code review) together</li>
<li>using gerrit <strong>ONLY</strong> to manage git repository and codereview</li>
</ul>

<p>Can you give some suggestion ?</p>

<p>BTW: <a href=""http://gitorious.org/"" rel=""noreferrer"">http://gitorious.org/</a> is considered in the future</p>
","0","308174","0"
"3204881","234780","2010-07-08 14:55:07","6","2987","<git><gitolite>","gitolite: allow to change only selelected files","<p>How to configure git and gitolite to allow specific user to change just files that are inside specific directory?</p>

<p>e.g. files in origin master branch:</p>

<pre><code>/dir1/
/dir2/file1
/dir2/file2
/dir3/file1
</code></pre>

<p>User <code>kathrine</code>, allow to change only <code>/dir2/file1</code> and <code>/dir2/file2</code></p>

<pre><code>$kathrine: git clone git@example.com:test.git
</code></pre>

<p>results in:</p>

<pre><code>/dir2/file1
/dir2/file2
</code></pre>

<p>Are there any per-dir directives in <code>gitolite.conf</code> or shall I configure git with new branch for this user?</p>

<p>I just don't want graphics designer to have access to the source code files.</p>
","0","234780","0"
"21946499","1103892","2014-02-21 22:30:20","2","394","<git><githooks><gitolite><pivotaltracker>","How to add git hook for sending commit messages into pivotal tracker story as comments?","<p>I am using mac os, git(without github), gitolite as git server and pivotal tracker. </p>

<p>I would like to add git hook which notify pushed commit for ex: <code>[#432324] some commit</code> will add as a comment to PT story. And maybe I will be able to close finish story when in commit message will be 'Fixed' text.</p>
","0","1103892",""
"41191795","4447395","2016-12-16 20:12:17","1","402","<git><ssh><gitolite>","gitolite - how to clone and push to repo that's created under a ""user"" folder","<p>ok so first off, i have to apologize in advance for being such a git / gitolite noob. </p>

<p>ok so now..</p>

<p><strong>problem</strong></p>

<p>there is a folder on my git server that looks like this: </p>

<pre><code>mstgit:/var/git/repositories/user/johnd/tmp.git# ls
HEAD         branches     config       description  gl-creator   hooks        info         objects      refs
mstgit:/var/git/repositories/user/johnd/tmp.git# 
</code></pre>

<p>And it shows up in our web inteface (gitolite i guess??) as an empty folder. </p>

<p>I'm trying to clone it using the following command:</p>

<pre><code>localdev:/var/git/mystuff/projectX# git clone git@mastergit.fntx.net:user/johnd/tmp.git
Cloning into 'tmp'...
Permission denied (publickey,keyboard-interactive).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>I don't understand why i'm getting permission denied.  I created the user repo on the git server.  I logged into the server using the same ssh key that I used to log into the ""localdev"" box. </p>

<p>Here are the file permissions on the johnd folder, in case it matters: </p>

<pre><code>mstgit:/var/git/repositories/user/johnd/tmp.git# ls -lah
total 44
drwxr-sr-x    7 git      git         4.0K Dec 16 20:01 .
drwxr-sr-x    3 git      git         4.0K Dec 16 20:01 ..
-rw-r--r--    1 git      git           23 Dec 16 20:01 HEAD
drwxr-sr-x    2 git      git         4.0K Dec 16 20:01 branches
-rw-r--r--    1 git      git           66 Dec 16 20:01 config
-rw-r--r--    1 git      git           73 Dec 16 20:01 description
-rw-r--r--    1 git      git            5 Dec 16 20:01 gl-creator
drwxr-sr-x    2 git      git         4.0K Dec 16 20:01 hooks
drwxr-sr-x    2 git      git         4.0K Dec 16 20:01 info
drwxr-sr-x    4 git      git         4.0K Dec 16 20:01 objects
drwxr-sr-x    4 git      git         4.0K Dec 16 20:01 refs
</code></pre>

<p>Also, the contents on gl-creator is ""johnd"" which is my ssh id name. 
not sure what else i should check. </p>
","0","4447395","0"
"22492814","1069083","2014-03-18 22:56:24","-1","131","<git><gitolite><gitosis>","How do I create a '.git' file folder from an existing git repository?","<p>I have a git repository called ""shop"" that has the remote ""oldserver.com""</p>

<pre><code>remote.origin.url=git@oldserver.com:shop.git
</code></pre>

<p>How do I create the <code>shop.git</code> folder from my local repository, so I can load it on my ""newserver.com"" (that uses gitolite or gitosis) so we can use that as a new remote?</p>
","4","1069083",""
"4275014","121828","2010-11-25 08:28:52","4","1807","<git><gitolite>","Backup git repositories using fetch instead of push","<p>If your git version is too old to support <code>git push --mirror</code> from your gitolite server is it possible to simulate the feature by first <code>git clone --bare</code>ing new repositories and then using <code>git fetch refs/*:refs/*</code> on the backup server? Can you specify <code>*:*</code> as a refspec too? Since the repositories on the gitolite server are bare repos it doesn't matter if the fetch command doesn't manage to fetch objects that are only used when you have a working directory.</p>

<p>My recovery strategy would be to hopefully just copy the content of the backup server's $BACKUPDIR to the new gitolite server if the current one blows up. Would that also work as expected in this scenario?</p>
","0","121828",""
"38789261","6505662","2016-08-05 12:26:54","5","607","<git><permissions><gitolite>","How to find out what causes file permissions to change when checking out files with git?","<p>After pushing files to our server, the following post-receive hook is executed:</p>

<pre><code>#!/bin/sh
export GIT_WORK_TREE=/home/user/www/
git checkout -f
</code></pre>

<p>However, files get a very odd <code>600</code> permission, and folders <code>700</code> upon checkout. This is not what I expect (on our other servers we get <code>644</code> and <code>755</code>). From <a href=""https://stackoverflow.com/questions/14557106/git-changes-my-file-permissions-upon-checkout"">this thread</a> I understand that git does not set permissions, so git is not to blame. My question is: what is? How can I figure out what the cause is of this issue? </p>

<p>I have already temporarily solved it by running an extra script upon checkout to fix the permissions, but I am interested in solving the root cause.</p>

<p>I'm using gitolite to manage the repositories, but I doubt that is the cause. But again, I'm happy to learn where I can start because at this point I'm not sure how to investigate this. </p>

<p>As per the initial answers I have looked into the umask settings on the server. The <code>git</code> user (that's the user used to upload the files), the umask setting is 0002. This is confirmed in the following exercise:</p>

<pre><code>git@server:~$ umask
0002
git@server:~$ touch newfile
git@server:~$ ls -la newfile
-rw-rw-r-- 1 git git 0 Aug  5 10:46 newfile
</code></pre>

<p>Additional details:</p>

<ul>
<li>Linux used on both server side and development side</li>
<li>In the local repo, permissions are 755 and 644</li>
<li>filemode is set to true in .git/config</li>
</ul>
","2","6505662","0"
"19784975","2955550","2013-11-05 08:55:36","1","207","<git><gitolite><gitweb>","Is it necessary to install gitweb?","<p>Is it necessary to install gitweb to the server or are there other ways to add gitweb with installed gitolite on the server?</p>
","0","2955550","0"
"579714","16203","2009-02-23 22:43:04","10","9947","<git><gitosis><gitolite>","Using gitosis to specify permissions per branch?","<p>With gitosis, is it possible to specify write permissions so that users can push freely to branches with their own name, but not merge with the master? E.g. $USER/test1 .. $USER/test5</p>

<p>This mean you could host just one repository per project, rather than hosting multiple repositories for the same project, specific to each user:</p>

<pre><code> project1-user1
 project1-user2
 project1-user3
 ...
 project5-user1
 project5-user2
 project5-user3
</code></pre>
","0","16203","0"
"31818667","1009979","2015-08-04 20:26:14","2","137","<git><gitolite>","Multiple gitolite ""hosting user"" accounts","<p>From <a href=""http://gitolite.com/gitolite/gitolite.html#hu"" rel=""nofollow"">http://gitolite.com/gitolite/gitolite.html#hu</a></p>

<p>""When you install gitolite in ssh mode, you pick one specific user on the Unix system to be the ""hosting user"". This is the user whose name goes into the repo URLs your users will be cloning, for example ssh://git@server/repo, or the simpler form git@server:repo.""</p>

<p>It quite clearly states <em>one specific user</em>, but can we also have <em>multiple</em> hosting users, e.g. <code>git.1</code>, <code>git.2</code>, each with their own repositories, and which we could access separately using e.g. <code>git.1@server:repo</code>, <code>git.2@server:anotherrepo</code>, etc?</p>
","1","1009979","0"
"49980282","4542466","2018-04-23 11:42:10","1","126","<gitolite>","gitolite3: Change a normal repo into a wild repo?","<p>I have created about 20 repos by manual entries:</p>

<pre><code>repo u1
    RW+ = u1

repo u2
    RW+ = u2
...
</code></pre>

<p>Now I have noticed, that I could have used:</p>

<pre><code>@u = u1 u2
repo CREATOR
    C = @u
    RW+ = CREATOR
    R = READERS
    RW = WRITERS
</code></pre>

<p>Is there an easy way to switch from the upper normal repos to the wild card repos?</p>

<p>(Of course, now I notice, that I should have used something like <code>user/CREATOR/..*</code> but there is no easy way without annoying 20 users)</p>
","1","4542466","0"
"14718646","1986344","2013-02-05 23:04:23","1","331","<gitolite><gitweb>","gitolite + gitweb | 'repo @all R = gitweb' not working","<p>For some reason the following gitolite.conf does not add any repository to projects.list.
When I set 'R = gitweb' for each repository manually, they get added to projects.list.</p>

<pre><code>[....]

repo aaa
repo bbb

repo @all
    RW+ = @admins
    R = gitweb

[...]
</code></pre>

<p>Any hints for me? I'd really like to allow gitweb access to all repositories and then remove permissions for a single repositories via '- = gitweb' ...</p>
","0","1986344","0"
"14721043","514802","2013-02-06 03:37:15","2","270","<ruby><git><gitolite><githooks>","How can I cd outside my git hook directory","<p>I'm writing my own git post-receive hook in ruby, and it resembles something like this:</p>

<pre><code>if !File.exists?(rep_dir+repo)
     puts ""Cloning repository #{repo} into #{rep_dir}.""
     `cd #{rep_dir}; sudo git clone file:////home/git/repositories/#{repo}.git`
exit
end
</code></pre>

<p>This hook is setup in gitolite common hooks, so when I push configurations for a new repository, I clone it right away to a new location.</p>

<p>I also loop for each project in gitolite config to check if the repository exists for each project, but that's not where I'm having problems.</p>

<p>My issue is, whenever this script runs I get:</p>

<pre><code>remote: cd: 1: can't cd to /home/&lt;somedir&gt;/repositories/
remote: Cloning repository gitolite-admin into /home/&lt;somedir&gt;/repositories/.
</code></pre>

<p>The repository was not cloned to the target directory after the hook ran. I read about unsetting the GIT_DIR environment variable, but I had no success.</p>
","1","514802","0"
"15407350","873836","2013-03-14 10:59:43","1","3851","<git><unix><version-control><gitolite><githooks>","deploying a website/webapp via git/gitolite permissions error","<p>I've setup a development/testing server where developers can push repositories to a remote repo/webserver via gitolite/git.
On the repository site everything works well and developers can use the server however:</p>

<p><strong>Problem:</strong></p>

<p>I want to deploy the code to an apache documentroot (chown'd apache:apcahe and chmod'd 755). <a href=""http://toroid.org/ams/git-website-howto"" rel=""nofollow noreferrer"">I am following these instructions</a> and when edit my post-receive hook as describe like so:</p>

<pre><code>#!/bin/sh
echo ""deploying to DocumentRoot""
GIT_WORK_TREE=/var/www/www.example.com git checkout -f
</code></pre>

<p>however now when I run git push from my local repo I get permissions errors like:</p>

<pre><code>error: git checkout-index: unable to create file .gitignore (Permission denied)
error: git checkout-index: unable to create file .htaccess (Permission denied)
</code></pre>

<p>And my document root is empty...The post-receive hook is running as the user 'gitolite' (not sure whether that's important).</p>

<p>gitolite is already in the sudoers list so I want to run something like:</p>

<pre><code>GIT_WORK_TREE=/var/www/www.example.com sudo git checkout -f
</code></pre>

<p>but this doesn't seem to work either, I want to avoid <a href=""https://stackoverflow.com/questions/12481197/deploying-node-apps-via-gitolite-and-post-receive-hook/12481490#12481490"">calling a separate shell script</a> if possible.</p>

<p>Any ideas would be really appreciated.</p>
","4","873836","0"
"15417099","873836","2013-03-14 18:15:47","1","75","<git><unix><version-control><gitolite>","gitolite/git clone no overwriting previous version","<p>My <a href=""https://stackoverflow.com/questions/15407350/deploying-a-website-webapp-via-git-gitolite-permissions-error"">struggles with git/gitolite continue</a>. I am trying to setup a means of deploying a website/webapp by using the <code>post-receive</code> hook.</p>

<p>basically I have a remote repo which is then cloned into a <code>DocumentRoot</code> for apache to serve.
My <code>post-receive</code> hook looks like this:</p>

<pre><code>document_root=/path/to/document/root
echo ""deploying to web directory""
sudo GIT_WORK_TREE=$document_root git checkout -f
sudo chown -R apache:apache $document_root
</code></pre>

<p>Everything works great -- for the first deployment, however git seems to ignore any changes thereafter.
If I <code>add</code> files then <code>git push</code> they go to my remote repo but are not cloned into the <code>DocumentRoot</code> and no errors are given.</p>

<p>Can anyone think of what might be going wrong? </p>
","2","873836","0"
"15485912","2107985","2013-03-18 20:07:03","1","1136","<git><gitolite><ssh-keys>","gitolite configuration - connect error","<p>I would like to use gitolite for my git folders on server. I searched many blogs with tutorials, but a didnt able to find some examples with correct connection to server.</p>

<p>So, I added a new user gitolite and I created home directory /home/gitolite. I installed gitolite to /home/gitolite/bin and I did setup with ssh-key.</p>

<p>On my PC I succesfully cloned gitolite-admin and I generated new ssh-keys (test, test.pub), they is saved in .ssh/:</p>

<pre><code>honza@honza-sg:~$ ls .ssh/t*
.ssh/test  .ssh/test.pub
</code></pre>

<p>next: copy 'test.pub' to keydir and modify gitolite.conf:</p>

<pre><code>honza@honza-sg:~$ ls -l gitolite-admin/keydir/
-rw-rw-r-- 1 honza honza 396 bře 18 16:46 gitolite.pub
-rw-r--r-- 1 honza honza 396 bře 18 20:39 test.pub

honza@honza-sg:~$ cat gitolite-admin/conf/gitolite.conf 
repo gitolite-admin
    RW+     =   gitolite

repo work
    RW+     =   test
</code></pre>

<p>I pushed this changes to server:</p>

<pre><code>honza@honza-sg:~/gitolite-admin$ git add .
honza@honza-sg:~/gitolite-admin$ git commit -m 'add test user'
[master bff8df5] add test user
 2 files changed, 2 insertions(+), 10 deletions(-)
 create mode 100644 keydir/test.pub
honza@honza-sg:~/gitolite-admin$ git push
Counting objects: 10, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (5/5), done.
Writing objects: 100% (6/6), 774 bytes, done.
Total 6 (delta 1), reused 0 (delta 0)
remote: Initialized empty Git repository in /home/gitolite/repositories/work.git/
To gitbox:gitolite-admin
   3102ec2..bff8df5  master -&gt; master
</code></pre>

<p>I guess, that's a correct procedure. Now, I need to clone new git repository. In .ssh/config I have this:</p>

<pre><code>honza@honza-sg:~$ cat .ssh/config 
Host gitbox
        User gitolite
        Hostname 192.168.1.10
        Port 22
        IdentityFile ~/.ssh/gitolite
Host gittest
        User test
        Hostname 192.168.1.10
        Port 22
        IdentityFile ~/.ssh/test
</code></pre>

<p>And clone command:</p>

<pre><code>honza@honza-sg:~/temp$ git clone gittest:work
</code></pre>

<p>Problem is here:</p>

<pre><code>Cloning into 'work'...
test@192.168.1.10's password: 
Permission denied, please try again.
test@192.168.1.10's password: 
Permission denied, please try again.
test@192.168.1.10's password: 
Permission denied (publickey,password).
fatal: The remote end hung up unexpectedly
</code></pre>

<p>Why did it ask me for a password? When I was generating key, I didn't insert password (I only twice pressed 'enter').</p>

<p>Thanks for help and I'm sorry for my english :)</p>

<p>edit: </p>

<p>ssh -vvvT gittest:</p>

<pre><code>honza@honza-sg:~/temp$ ssh -vvvT gittest
OpenSSH_6.0p1 Debian-3ubuntu1, OpenSSL 1.0.1c 10 May 2012
debug1: Reading configuration data /home/honza/.ssh/config
debug1: /home/honza/.ssh/config line 6: Applying options for gittest
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to 192.168.1.10 [192.168.1.10] port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load ""/home/honza/.ssh/test"" as a RSA1 public key
debug1: identity file /home/honza/.ssh/test type 1
debug1: Checking blacklist file /usr/share/ssh/blacklist.RSA-2048
debug1: Checking blacklist file /etc/ssh/blacklist.RSA-2048
debug1: identity file /home/honza/.ssh/test-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_6.0p1 Debian-3ubuntu1
debug1: match: OpenSSH_6.0p1 Debian-3ubuntu1 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_6.0p1 Debian-3ubuntu1
debug2: fd 3 setting O_NONBLOCK
debug3: load_hostkeys: loading entries for host ""192.168.1.10"" from file ""/home/honza/.ssh/known_hosts""
debug3: load_hostkeys: found key type ECDSA in file /home/honza/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug3: order_hostkeyalgs: prefer hostkeyalgs: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: kex_parse_kexinit: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: 
debug2: kex_parse_kexinit: first_kex_follows 0 
debug2: kex_parse_kexinit: reserved 0 
debug2: mac_setup: found hmac-md5
debug1: kex: server-&gt;client aes128-ctr hmac-md5 none
debug2: mac_setup: found hmac-md5
debug1: kex: client-&gt;server aes128-ctr hmac-md5 none
debug1: sending SSH2_MSG_KEX_ECDH_INIT
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ECDSA d6:32:05:31:ea:3a:30:45:31:99:ca:90:b3:53:cb:75
debug3: load_hostkeys: loading entries for host ""192.168.1.10"" from file ""/home/honza/.ssh/known_hosts""
debug3: load_hostkeys: found key type ECDSA in file /home/honza/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug1: Host '192.168.1.10' is known and matches the ECDSA host key.
debug1: Found key in /home/honza/.ssh/known_hosts:1
debug1: ssh_ecdsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /home/honza/.ssh/test (0x7fa857d08e60)
debug1: Authentications that can continue: publickey,password
debug3: start over, passed a different list publickey,password
debug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /home/honza/.ssh/test
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey,password
debug2: we did not send a packet, disable method
debug3: authmethod_lookup password
debug3: remaining preferred: ,password
debug3: authmethod_is_enabled password
debug1: Next authentication method: password
test@192.168.1.10's password: 
</code></pre>
","0","2107985","0"
"19455393","1069083","2013-10-18 17:13:55","1","1328","<git><debian><gitolite><gitosis>","How can I install gitosis on debian wheezy?","<p><code>gitosis</code> is replaced by <code>gitolite</code> in debian wheezy.</p>

<p>But the easiest way for to continue your work after an update would be to just install gitosis from source or a debian packet.</p>

<p>Is this possible on wheezy?</p>
","1","1069083",""
"12117942","850825","2012-08-24 23:39:31","1","1626","<git><gitolite><gitweb>","git-http-backend returns error 502","<p>I'm running gitweb and gitolite on my server: <a href=""http://git.jshawl.com/"" rel=""nofollow"">http://git.jshawl.com/</a></p>

<p>I'm having trouble setting up the <code>git-http-backend</code> to allow anonymous cloning.</p>

<p>Here's what my vhosts file (<code>/etc/apache2/extra/httpd-vhosts.conf</code>) looks like: </p>

<pre><code>&lt;VirtualHost *:80&gt;
DocumentRoot ""/Users/git/repositories""
ServerName git.jshawl.com
 &lt;Directory ""/Users/git/repositories""&gt;
    Options ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch
    AllowOverride All
    order allow,deny
    Allow from all
    AddHandler cgi-script cgi
    DirectoryIndex gitweb.cgi
&lt;/Directory&gt;

&lt;LocationMatch ""^/.*/git-receive-pack$""&gt;
    AuthType Basic
    AuthName ""Git Access""
    Require group committers
&lt;/LocationMatch

SetEnv GIT_PROJECT_ROOT /Users/git/repositories
SetEnv GIT_HTTP_EXPORT_ALL
ScriptAliasMatch \
    ""(?x)^/(.*/(HEAD | \
        info/refs | \
            objects/(info/[^/]+ | \
                [0-9a-f]{2}/[0-9a-f]{38} | \
                    pack/pack-[0-9a-f]{40}\.(pack|idx)) | \
            git-(upload|receive)-pack))$"" \
    /usr/libexec/git-core/git-http-backend/$1

ScriptAlias / /Users/git/repositories/gitweb.cgi/
</code></pre>

<p>`</p>

<p>I followed the directions here: <a href=""http://www.kernel.org/pub/software/scm/git/docs/git-http-backend.html"" rel=""nofollow"">http://www.kernel.org/pub/software/scm/git/docs/git-http-backend.html</a>, but am consistently confronted with that 502 error. </p>

<p>My apache error log says: <code>[Fri Aug 24 19:29:32 2012] [error] [client 198.228.200.148] client denied by server configuration: /usr/libexec/git-core/git-http-backend</code></p>

<p>Also, adding all of this has taken down my gitweb installation (which used to be at <a href=""http://git.jshawl.com"" rel=""nofollow"">http://git.jshawl.com</a>)</p>

<p>What am I doing wrong? </p>
","0","850825",""
"12144827","407513","2012-08-27 15:20:27","1","313","<git><gitolite><gitweb>","Gitweb: how to only list the git repositories and nothing else (like log, shortlog, summary, tree)?","<p>I have gitweb correctly displaying all the git repositories in the gitolite server. But I want to completely exclude the options to look at logs, summary, shortlogs from the web view.</p>

<p>Is there a way to do this? </p>

<p>Thanks.</p>
","2","407513","0"
"12176644","282849","2012-08-29 11:14:36","1","459","<gitolite>","gitolite: How to prevent change of permissions for admin repo?","<p>Is there a way how to prevent users, who I would like to be able to add repositories and modify permissions, from changing permissions of gitolite-admin?</p>
","2","282849",""
"12177623","1233041","2012-08-29 12:11:25","1","176","<git><gitolite>","git/gitolite push issue - directory not allowed","<p>After correct (I hope) installation of gitolite, I cloned gitolite-admin repository to my local pc. Unfortunately, when I try to push changes to the server, I receive following error:</p>

<pre><code>[me@PC gitolite-admin]$ git push origin master
Counting objects: 7, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 349 bytes, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: Directory /var/lib/gitolite not allowed in require at /usr/lib/perl5/vendor_perl/5.8.8/gitolite_rc.pm line 42.
remote: Compilation failed in require at hooks/update line 23.
remote: BEGIN failed--compilation aborted at hooks/update line 23.
remote: error: hook declined to update refs/heads/master
To my.server:/var/git/repos/gitolite-admin.git
![remote rejected] master -&gt; master (hook declined)
error: failed to push some refs to my.server:/var/git/repos/gitolite-admin.git
</code></pre>

<p>Does anybody knows what is the cause of this issue?
Thank you in advance for a help.</p>

<p>Piotr</p>
","3","1233041","0"
"19847111","1396588","2013-11-07 21:32:42","1","181","<gitolite>","gitolite permission denied for files I didn't change","<p>I'm in the process of migrating a project from SVN to Git/Gitolite and I'm getting an unexplained behavior.  The relevant portion of the config file is</p>

<pre><code>repo ade
    RW                                     = jenkins matt
    -   dev/USER/master and VREF/NAME/ade/ = @grads
    RW+ dev/USER/                          = @all
    option hook.post-receive               = jenkins
</code></pre>

<p>which I believe means ""Anyone can push to their own dev branch, as long as they don't touch any files in the ade/ directory and try to commit that to their personal master branch"".  Is that right?  Well, ok, spoilers, that's not right, but I don't see what I'm doing wrong.</p>

<p>The problem is that when I run</p>

<pre><code>git clone git@server:ade
git branch foo
git checkout foo
&lt;&lt;edit some file that's not in /ade/ and commit it&gt;&gt;
git push origin foo:dev/tom/foo
</code></pre>

<p>it says</p>

<pre><code>remote: FATAL: W VREF/NAME/ade/filename.java ade tom DENIED by VREF/NAME/ade/
remote: error: hook declined to update refs/heads/dev/tom/foo
</code></pre>

<p>and I don't know why.  Any ideas?</p>

<p>Edit:</p>

<p>Solved the problem... sorta.  I still don't know what I had been doing wrong, but I wrote a custom VREF that seems to do what I want:</p>

<pre><code>#!/usr/bin/env python
from subprocess import check_output
import sys

if sys.argv[8] in sys.argv[1] and ""/"".join(sys.argv[9:]) in check_output([""git"", ""diff-tree"", ""--no-commit-id"", ""--name-only"", ""-r"", sys.argv[3]]):
  print sys.argv[7]
</code></pre>

<p>Hopefully this'll save the next person a few hours of hair pulling.</p>
","0","1396588","0"
"12206290","850825","2012-08-30 22:10:44","8","7315","<git><gitolite>","gitolite post receive hook for specific bare repo","<p>After I push my local git repo to the server:</p>

<pre><code>$ git push origin master
</code></pre>

<p>I want the bare repo on the server (after it received the push from me) to:</p>

<pre><code>$ cd /Users/me/Sites
$ git pull
$ exit
</code></pre>

<p>I've looked at some questions here and they mention hooks in $HOME/gitolite/hooks,</p>

<p>but here's what I'm working with:</p>

<pre><code>git@mm:gitolite $ pwd
/Users/git/gitolite
git@mm:gitolite $ ls
.git/                 README.txt            install*
CHANGELOG             check-g2-compat*      src/
COPYING               convert-gitosis-conf* t/
</code></pre>

<p>How do I add a post-receive hook for a specific bare repo?</p>

<p>If I go into my bare repo:</p>

<pre><code>git@mm:bare-repo.git $ ls hooks
applypatch-msg.sample*     pre-rebase.sample*
commit-msg.sample*         prepare-commit-msg.sample*
post-update.sample*        update@
pre-applypatch.sample*     update.sample*
pre-commit.sample*
</code></pre>

<p>I don't see a post-receive hook. What gives?</p>
","0","850825","0"
"16592864","2390848","2013-05-16 16:32:11","2","477","<gitolite>","Cannot find my project files on the server gitolite is running","<p>I cannot find my project files on the server gitolite is running.
Basically, I built a git server using gitolite on a CentOS 6.2, and I created a new repository,I can successfully clone, pull, commit and push files to this new project, but when I logged in this server, trying to find my project files on it, I could not find them. the repository is in /home/mygituser/repositories/myproject.git/ , but none of my pushed files can be found any in there.</p>

<p>Is gitolite keeping the actual project contents somewhere else or is there a way to config and seperate project contents and its repository?</p>

<p>This is driving me crazy, any help will be highly appreciated.</p>
","0","2390848","0"
"17375876","2533737","2013-06-29 01:40:14","6","2107","<gitolite><gitlab>","File-level access permission for Gitlab V5 without gitolite","<p>Since Gitlab V5 has gotten rid of gitolite, but I still want to use gitolite's useful functions like directory/file-level, branch/tag-level access permission. </p>

<p>Could anyone tell me how to achieve those functionalities within gitlab-shell of Gitlab V5? Is there any configuration file that I can set the rules as I 
can do in gitolite?</p>

<p>Thanks
s</p>
","0","2533737","0"
"17411006","308079","2013-07-01 18:17:00","1","386","<gitolite><gitweb>","git repo description is not updating","<p>In my <code>gitolite.conf</code> file I've added a bunch of <code>config gitweb.description</code> lines but I dont see the changes when I view gitweb. If I look in the repos on the server the <code>description</code> hasn't been updated.</p>

<p>How do I get them to sync up?</p>
","1","308079","0"
"17546790","2564049","2013-07-09 11:13:49","2","339","<git><gitolite>","git branching with gitolite, how to checkout from master when in develop","<p>summary:<br/>
(I'm quite new to git;)<br/>
trying to to work like described here: <a href=""http://nvie.com/posts/a-successful-git-branching-model/"" rel=""nofollow"">http://nvie.com/posts/a-successful-git-branching-model/</a><br/>
however I seems to miss to understand how to work with several branches (i.e. master, develop, hotfix)<br/> </p>

<ul>
<li>shall I use ""stash"" when checking out a 3rd branch (hotfix from master, whilst in develop) </li>
<li>do I miss sth. when using ""push"" </li>
</ul>

<p>In Detail:<br/>
I've created with gitolite a repos:</p>

<ul>
<li>called ""BE"" which is from origin master <br/>(1st use: git push origin master)</li>
<li>added some files and pushed them<br/> ( git add.; git commit -m ""bla""; git push )</li>
<li>then a branch origin develop <br/>( git checkout -b develop master )</li>
<li>added some files and pushed them <br/>( ...; git push origin develop )</li>
<li>now I'd like to create a brunch from ""master"" called hotfix_3.0.1<br/> ( git checkout -b hotfix-3.0.1 master ) </li>
</ul>

<p>=> And I get a problem: <br/></p>

<blockquote>
  <p>error: Your local changes to the following files would be overwritten
  by checkout:<br/>  ....<br/>  Please, commit your changes or stash
  them before you can switch branches.<br/>  Aborting<br/></p>
</blockquote>

<p>====
the question is: <br/>
how to establish working simultaneously with two branches? <br/>
shall I stash my changes in ""develop"" - brunch before checking out a new branch from master?</p>
","1","2564049","0"
"17782419","2381132","2013-07-22 07:49:48","6","3448","<apache><gitolite><cgit>","Access control in Cgit","<p>I would like to introduce access control to cgit once the cgi of cgit has been launched. The idea would be to list all the repos available in gitolite but enable/disable the directory listing based on user authentication.</p>

<p>I managed to get access control before apache is executing the cgit cgi:</p>

<p></p>

<pre><code> AllowOverride None
 AuthType Basic
 AuthName ""Restricted Files""
 AuthUserFile /var/lib/git_alfonso/passwords

  Options +ExecCGI
   Order allow,deny
   Allow from all
</code></pre>

<p></p>

<pre><code>Alias /cgit.png /var/www/htdocs/cgit/cgit.png
Alias /cgit.css /var/www/htdocs/cgit/cgit.css
ScriptAlias /cgit ""/var/www/htdocs/cgit/cgit.cgi""
RewriteRule ^$ / [R]
RewriteRule ^/(.*)$ /cgit.cgi/$1****
</code></pre>

<p>But I don't know how to get the same effect once the repositories paths are accessed, I tried with the directory directive and adding the authentication there but once cgit is launched apache doesn't apply any other directive stated in the http.conf file.</p>

<p>Any clue on how to achieve it?</p>

<p>Thanks a lot in advance.</p>

<p>Br
Alfonso.</p>
","0","2381132","0"
"19775604","1871274","2013-11-04 19:35:01","3","1029","<git><gitolite><gitweb><gitlist>","Categorize git repositories","<p>I would like to organize my git repositories into categories. My main reason to do this is to get a better overview of my code repositories in the web interface I use (GitList - <a href=""http://www.gitlist.org"" rel=""nofollow"">http://www.gitlist.org</a>).</p>

<p>Now I get a long list of all the repositories, it would be nice to see only a few categories (as ""repositories"" or something else with description). And when you select one category you see all the repositories within that category.
I have my own git server with Gitolite (<a href=""https://github.com/sitaramc/gitolite/"" rel=""nofollow"">https://github.com/sitaramc/gitolite/</a>) and Gitolite has some settings to categorize repositories for GitWeb, but I can't see that information in either GitWeb nor GitList, the later is not that surprising, when the setting is for GitWeb.</p>

<p>It would be really great to be able to categorize the repositories from Gitolite and that it showed up in GitList. But since this may not be possible (I can't see that it even works for GitWeb, where it is supposed to work) is there an other way I can manage this?</p>

<p>I have read some about nested git repositories, but that is not really what I am after, it does not have to affect the repositories at all, just the way that they are presented in the web interface.</p>

<p>Someone with helpful tips on the subject?</p>
","0","1871274","0"
"35038066","829174","2016-01-27 12:58:16","1","445","<git><gitolite>","gitolite mirror error set access issues","<p>I am setting a git test repo via gitolite.</p>

<p>Don't understand what the issue here,
when trying to push </p>

<pre><code>""C:\Program Files (x86)\Git\bin\git.exe"" push --recurse-submodules=check --progress ""origin"" refs/heads/master:refs/heads/master
Counting objects: 4, done.
Delta compression using up to 4 threads.
Total 3 (delta 0), reused 0 (delta 0)
remote: WARNING: subconf 'gitserver1' attempting to set access for repo1
remote: WARNING: split conf not set, gl-conf present for 'repo1'
remote: WARNING: split conf not set, gl-conf present for 'repo1'
remote: WARNING: split conf not set, gl-conf present for 'repo1'
remote: WARNING: split conf not set, gl-conf present for 'repo1'
To git@10.50.2.221:gitolite-admin
   e79a565..a6aeecf  master -&gt; master
Done
</code></pre>

<p>on gitolite logs I am getting:</p>

<pre><code> FATAL: W any gitolite-admin gitserver1 DENIED by fallthru
2016-01-27.12:44:56     12481           mirror: (or you mis-spelled the reponame)
2016-01-27.12:44:56     12481           mirror: fatal: The remote end hung up unexpectedly
2016-01-27.12:44:56     12410           system() failed,/home/git/bin/commands/mirror,push,gittrain3,gitolite-admin,-&gt; 256
</code></pre>

<p><strong>EDIT</strong></p>

<p>running gitolite3 v3.1-8-ga509b20 on git 1.7.9.5</p>
","4","829174","0"
"35044606","829174","2016-01-27 17:52:04","1","160","<git><gitolite>","gitolite not creating repos with subconf","<p>Edited and pushed the the following configuration files:</p>

<p>file: <code>gitolite-admin\conf\gitolite.conf</code>with the content:</p>

<pre><code>subconf %HOSTNAME ""%HOSTNAME/*.conf""
repo gitolite-admin
    RW+     =   useradmin
    option mirror.master = server1
    option mirror.slaves = server2 server3
</code></pre>

<p>and the files </p>

<pre><code>gitolite-admin\conf\server1\server1.conf
gitolite-admin\conf\server2\server2.conf
gitolite-admin\conf\server3\server3.conf
</code></pre>

<p>with the content of </p>

<pre><code>repo test1
    RW+     =   adminuser
</code></pre>

<p>when pushing I get the following and the repo is not created in none of the servers</p>

<pre><code>""C:\Program Files (x86)\Git\bin\git.exe"" push --recurse-submodules=check --progress ""origin"" refs/heads/master:refs/heads/master
Counting objects: 5, done.
Delta compression using up to 4 threads.
Total 3 (delta 1), reused 0 (delta 0)
remote: WARNING: subconf 'server1' attempting to set access for test1
To git@10.12.42.12:gitolite-admin
   d25ffe1..186ba79  master -&gt; master
Done
</code></pre>

<p><strong>edit</strong>
running gitolite3 v3.1-8-ga509b20 on git 1.7.9.5</p>
","0","829174","0"
"18567553","2164525","2013-09-02 07:15:54","2","1249","<gitolite>","Gitolite push error for gitolite-admin","<p>When i try to push the repository gitolite-admin it gives me below error</p>

<pre><code>Counting objects: 7, done.  
Delta compression using up to 2 threads.  
Compressing objects: 100% (3/3), done.  
Writing objects: 100% (4/4), 360 bytes | 0 bytes/s, done.  
Total 4 (delta 1), reused 0 (delta 0)
error: unpack failed: unpack-objects a  bnormal exit  
To http://server.name/git/gitolite-admin.git  
 ! [remote rejected] master -&gt; master (n/a (unpacker error))
error: failed to push some refs to 'http://server.name/git/gitolite-admin.git'
</code></pre>

<p>Below is my apache log</p>

<pre><code>[Mon Sep 02 08:39:50 2013] [error] [client ] error: insufficient permission for adding an object to repository database ./objects
[Mon Sep 02 08:39:50 2013] [error] [client ] fatal: failed to write object
</code></pre>

<p>Your Help would be appreciated</p>

<p>Thanks</p>
","0","2164525","0"
"19976239","898478","2013-11-14 11:15:37","7","22242","<linux><gitolite>","Cannot clone repository: FATAL: R any gitolite-admin gitolite DENIED by fallthru","<p>I'm setting up <em>gitolite</em> for first time. I'm following <a href=""http://git-scm.com/book/ch4-8.html"" rel=""nofollow noreferrer"">this instructions</a>.</p>

<p>When I ssh, it looks fine:</p>

<pre><code>$ ssh -p 2222 gitolite@debian
PTY allocation request failed on channel 0
hello gitolite, this is gitolite@debian running gitolite3 v3.5.3.1-1-gf8776f5 on git 1.7.2.5

 R W    gitolite-admin
 R W    testing
Connection to debian closed.
</code></pre>

<p>But when trying to clone, it gives me the following error:</p>

<pre><code>$ git clone ssh://gitolite@debian:2222/home/gitolite/repositories/gitolite-admin.git
Cloning into 'gitolite-admin'...
FATAL: R any home/gitolite/repositories/gitolite-admin gitolite DENIED by fallthru
(or you mis-spelled the reponame)
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I'm trying to clone from <em>yasin@vonneumann</em> account. I uploaded this user RSA public key to <em>debian</em> server, renamed it to <code>gitolite.pub</code> and ran <code>gitolite setup -pk gitolite.pub</code> with no messages or errors. Then at <em>yasin@vonneumann</em> host I created a file at <code>~/.ssh/config</code> with the following content:</p>

<pre><code>host debian
     user gitolite
     hostname debian
     identityfile ~/.ssh/gitolite
</code></pre>

<p>(I also copied <code>id_rsa</code> as <code>gitolite</code> at <em>vonneumann</em>)</p>

<p>I found <a href=""https://stackoverflow.com/questions/12617672/git-clone-gitmyservergitolite-admin-fails"">this question</a> to be similar, but the answers did not work for me.</p>

<p>Any help appreciated, thanks.</p>
","4","898478","0"
"18575287","1699971","2013-09-02 14:16:36","3","1765","<git><gitolite>","installing gitolite without cloning gitolite repo","<p>I'm trying to install gitolite on a redhat virtual machine. 
Now, the machine is <strong>not connected to the internet</strong>. Therefore, I can't run the 'clone' step of the standard installation.
I do have the source code on my machine, and when I run the 'install -ln' step - it throws:</p>

<pre><code>fatal: Not a git repository (or any of the parent directories): .git
</code></pre>

<p>Which makes sense, because it's not a git repository (I don't understand why should it be a repository anyway).</p>

<p>I have also tried initializing a repo in the gitolite folder.. didn't help.</p>

<p><strong>How can I workaround the clone step?</strong></p>
","0","1699971","0"
"4635763","147601","2011-01-08 19:43:50","1","2224","<git><version-control><gitolite>","Problem cloning gitolite on Windows","<p>I use Windows 7. I am working with a project that is using Redmine and a Gitolite repo. I gave the admin my id_rsa.pub, and he added it to the list of authenticated users. However, I am unable to clone the repo. When I use:</p>

<pre><code>git clone git@foo:bar
</code></pre>

<p>I am asked for a password. I have no idea what to put. I tried my public key, private key, password for Redmine, etc, but nothing works.</p>

<p>Apparently, if I was using Linux this would just work, without asking for a password.</p>

<p>I tried it with both the command line, and msysgit (GitGUI), but it didn't work.</p>

<p>Is there some trick to this?</p>

<p><strong>Update</strong>: This looks like it might be useful: <a href=""http://devlicio.us/blogs/sergio_pereira/archive/2009/05/06/git-ssh-putty-github-unfuddle-the-kitchen-sink.aspx"" rel=""nofollow"">http://devlicio.us/blogs/sergio_pereira/archive/2009/05/06/git-ssh-putty-github-unfuddle-the-kitchen-sink.aspx</a>, but I don't see where in the msysgit installation process I can specify that it must use PLink as the SSH executable.</p>
","0","147601",""
"19239289","83149","2013-10-08 04:47:34","1","3288","<linux><windows><eclipse><ssh><gitolite>","Connecting to a gitolite server from Windows and Eclipse","<p>So, I followed <strong><a href=""http://www.bigfastblog.com/gitolite-installation-step-by-step"" rel=""nofollow"">this tutorial</a></strong> to install a gitolite server.</p>

<p>But my client machine is a Windows machine, not a Linux box.<br>
So, instead of using <code>ssh-keygen</code>, I used Eclipse ""<code>ssh2</code>"" utility (in windows, preferences, general, network connections, <code>ssh2</code>).</p>

<p>I generated the <code>.pub</code> file and used to setup gitolite (like in the tutorial).<br>
But it doesn't seems to work, I always get a ""<code>Connection refused: connect</code>"" when I try to connect to my server from windows using this URL : </p>

<pre><code>ssh://gitolite@192.168.0.193:22/gitolite-admin
</code></pre>

<p>I opened the <code>.pub</code> files generated by Eclipse and what I find funny is that there is always 2 equals signs at the end.</p>

<p>For example, here's one generated public key : </p>

<pre><code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQCQbDy+Nfoq+AitTrAbxy0PwRuBmgnm/vJk27KNOB3EzsZFKQ7+89I12nbxc8N+7z4Seq9fhNrYHfM7PvzgdI8F5QLxWbl2QV0UapBpjWmX+7WEE9bjEHIf7re3FpRzVdJrCAwscaUawmsIGi1rvw8ZFrbfPdS6ITiI10WcfTEdCw== RSA-1024
</code></pre>

<ol>
<li>Is it possible to try another key pair without having to reinstall gitolite?</li>
<li>Can I generate the key pairs on my linux box and just upload the private key generated on my Windows machine?</li>
<li>Any other help on how I can diagnose the problem would be great.</li>
</ol>

<p><strong>UPDATE #1 :</strong></p>

<p>I found out that no ssh server was running on my server. You can see that with :</p>

<pre><code>sudo nmap -sS xxx.xxx.xxx.xxx -p 22
</code></pre>

<p>If the port's state is closed, then your SSH service is either closed or doesn't exists.
You can also try to connect with Putty (on windows) with SSH on your Linux machine, you'll see if the SSH server is working properly.</p>

<p>If your SSH service is not started, you can start the service with :
sudo service ssh start</p>

<p>If the service doesn't exists, you'll need to install an ssh server. I installed mine (on Ubuntu) like this :
sudo apt-get purge openssh-server
sudo apt-get install openssh-server</p>

<p>After installing openssh, everything was working fine on my box.</p>
","0","83149","0"
"51129369","3416447","2018-07-02 05:03:39","0","264","<git><tortoisegit><gitolite><plink>","How to use gitolite and TortoiseGit","<p>I use local git repos.
It is located on an Ubuntu machine,
and, I installed gitolite in local git.</p>

<p>I succeed git clone in linux client.
but I failed windows client.
I want to use TortoiseGit client in windows.</p>

<p>I tried,</p>

<ol>
<li>create .PPK file using PuttyGen.exe</li>
<li>upload keydir in gitolite-admin repo</li>
<li>git clone in windows</li>
</ol>

<p>let's see follows, plz</p>

<p><a href=""https://i.stack.imgur.com/FwH2Z.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/FwH2Z.png"" alt=""enter image description here""></a></p>

<p>but result is </p>

<p><a href=""https://i.stack.imgur.com/iPtML.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iPtML.png"" alt=""enter image description here""></a></p>

<p><a href=""https://i.stack.imgur.com/4x41B.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4x41B.png"" alt=""enter image description here""></a></p>

<p>I don't understand why It need to git-repo's password? I uploaded .ppk file correctly.
and, I don't understand this message,  ""does not appear to be a git repository""
repository located exactly. /home/git-repo/repositories/test.git</p>

<p>I want to use TortoiseGit with gitolite.</p>
","0","3416447","0"
"19301375","2860433","2013-10-10 16:33:18","2","745","<linux><git><gitolite>","How so show SSH key in git log?","<p>We are using git with gitolite and sometimes my users change there names with</p>

<pre><code>git config --global user.name 
</code></pre>

<p>so I would like to see some more details in the log to find out if someone has change the name setting but is still the same workstation (ssh key).  Anyway to do this?</p>
","2","2860433",""
"19302502","2860433","2013-10-10 17:36:17","1","416","<git><version-control><gitolite>","How can I use gitolite to limit developers to development branch only:","<p>We are looking to use gitolite and git but we are trying to find a way to stop the developers from pushing (commiting) code to the release branch of the repo</p>

<p>We want to give the developers access to the master and development branches only. Can this be done using gitolite? How?</p>
","0","2860433",""
"19347928","1823604","2013-10-13 17:09:13","1","822","<git><gitolite>","setting up git in a private server, it asks for git password","<p>I am setting up git in an ubuntu 12.10 VPS. This is my first time setting up a git repository so I am just a beginner, and I'm sure I'm missing some important stuff. I have executed the following commands in my server:</p>

<pre><code># apt-get install git-core
# git config --global user.name ""Roberto""
# git config --global user.name ""roberto@example.com""
# apt-get install gitolite
# adduser --system --gecos 'git version control' --shell /bin/bash --group --disabled-password --home /home/git git
# su git
$ echo ""PATH=$HOME/bin:$PATH"" &gt; ~/.bashrc
$ cd
$ gl-setup /tmp/roberto.pub
</code></pre>

<p>roberto.pub is my public certificate in my work machine. Then from that work machine, I have tried to clone the gitolite-admin repository, to manage the git server:</p>

<pre><code>$ git clone git@vps:gitolite-admin.git
Cloning into 'gitolite-admin'...
git@vps's password:
</code></pre>

<p>Which I have not even set! Shouldn't it be asking me for roberto's password instead?</p>

<p>Thanks for your help!</p>
","0","1823604","0"
"19356167","1980099","2013-10-14 08:26:42","1","1017","<git><gitolite>","How to move gitolite directory to another place","<p>I install gitolite in home directory of git user in /home/git. Now I would like to move it to /git.
I copy /home/git to /git and change the home directory in /etc/passwd to be /git. I also tried it by making a link from /home/git to /git.</p>

<p>After the changes, when I tried to git clone git@gitserver:test1 
I got the error:</p>

<pre><code>fatal: 'test1' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I think I can be in the same situation, if my disk is crushed and I need to recover everything from backup.</p>

<p>How I can make the /git work as /home/git work? What I'm missing?</p>

<p>Thanks.</p>
","0","1980099","0"
"19371673","316184","2013-10-15 01:00:09","3","1026","<git><localization><gitolite>","Can git use a different locale on a remote server?","<p>I have gitolite running on a remote server (in English_US) and one of my computers accesses it using git with es_MX (español, Mexico) as the locale. Everytime I access the server, it gives me an error:</p>

<pre><code>perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LANGUAGE = (unset),
    LC_ALL = (unset),
    LC_PAPER = ""es_MX.UTF-8"",
    LC_ADDRESS = ""es_MX.UTF-8"",
    LC_MONETARY = ""es_MX.UTF-8"",
    LC_NUMERIC = ""es_MX.UTF-8"",
    LC_TELEPHONE = ""es_MX.UTF-8"",
    LC_IDENTIFICATION = ""es_MX.UTF-8"",
    LC_MEASUREMENT = ""es_MX.UTF-8"",
    LC_TIME = ""es_MX.UTF-8"",
    LC_NAME = ""es_MX.UTF-8""
    are supported and installed on your system.
perl: warning: Falling back to the standard locale (""C"").
</code></pre>

<p>Is there a way to tell git to use en_US when connecting to gitolite only?</p>

<p><strong>Edit:</strong>
I have already tried the answer to <a href=""https://stackoverflow.com/questions/10633564/how-does-one-change-the-language-of-the-command-line-interface-of-git"">this question</a>, but that only changes the local language, and does not affect the error.</p>
","0","316184","0"
"19406092","46478","2013-10-16 14:27:33","1","255","<gitolite><gitweb>","Gitolite and gitweb","<p>Weird permissions problem with gitweb: -- repositories in the ""www-data"" group (<code>chgrp -R www-data</code>) are seen in the web interface, but repositories still in the default ""git"" group aren't:</p>

<pre><code>&gt; ll repositories
drwxr-x---  7 git www-data 4096 Oct 16 14:34 this_works.git/
drwxr-x---  7 git git      4096 Oct 14 17:07 this_doesnt_work.git/
</code></pre>

<p>www-data is in the ""git"" group (done using <code>usermod -a -G git www-data</code>):</p>

<pre><code>&gt; groups www-data
www-data : www-data git
</code></pre>

<p>Users in the right group can read the repositories because .gitolite.rc contains:</p>

<pre><code>UMASK =&gt;  0027
</code></pre>

<p>Both repositories are in projects.list, and are otherwise identical.  Checked with <code>sudo su www-data</code> that www-data can view the contents of both repositories. </p>
","0","46478","0"
"25687250","792589","2014-09-05 13:38:44","1","422","<git><gitolite>","How to add multiple pub files for the same username in gitolite?","<p>I'm new at using gitolite and have been doing some tests and there is one thing I don't understand. When a user generates its key (say, ""pablo"") the id_rsa.pub needs to be renamed to ""pablo.pub"" because it says in the file content pablo@pc10 and hence the username needs to match the name of the file. This work.</p>

<p>Now the problem is that there is another username pablo in another pc (pc12). So I obviously can't add both keys to the keydir as they both have the same file name. I have tried to rename them to pablo@pc10.pub and pablo@pc12.pub, but this doesn't work (whenever they try to clone the repository it asks for the gitolite3 password, which should not happen). I have also edited the conf file to reflect that the user is pablo@pc10 and pablo@pc12 after the RW+ = sentence.</p>

<p>My question is, what am I doing wrong? How do I add multiple keys for the same username on different machines?</p>
","6","792589",""
"26336902","368068","2014-10-13 09:38:55","4","849","<git><gitolite>","how to rename a master branch when using gitolite","<p>I'm using gitolite for git access right management.</p>

<p>I want to rename the master branch to production.</p>

<p>I have RW+ permision on that repo in gitolite</p>

<p>I rename the branch localy with :</p>

<p>git branch -m master production</p>

<p>and then I want to delte the remote master branch, but I get:</p>

<pre><code>remote: error: By default, deleting the current branch is denied, because the next
remote: error: 'git clone' won't result in any file checked out, causing confusion.
remote: error:
remote: error: You can set 'receive.denyDeleteCurrent' configuration variable to
remote: error: 'warn' or 'ignore' in the remote repository to allow deleting the
remote: error: current branch, with or without a warning message.
remote: error:
remote: error: To squelch this message, you can set it to 'refuse'.
remote: error: refusing to delete the current branch: refs/heads/master
To gitolite@virgo:/puppeteer
 ! [remote rejected] master (deletion of the current branch prohibited)
</code></pre>

<p>How can I remove the master branch also on remote? </p>
","0","368068",""
"8543561","420028","2011-12-17 08:29:09","1","3318","<linux><git><gitolite>","Gitolite Error: gitolite-admin not a repo","<p><strong>Quick Note</strong>: Before anyone points it out, I did originally post this on Server Fault, but after doing so I realized this site may be more appropriate. Sorry for the ""double post"".</p>

<p>I had installed gitolite about 6 months ago and all of a sudden I started getting this error:</p>

<pre><code>fatal: 'gitolite-admin' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I have read a lot of other topics on this and done everything they suggested from removing the auth keys and adding a config file in ~/.ssh. Mine is below:</p>

<pre><code>host myhost
   user git
   hostname myhost
   port 22
   identityfile ~/.ssh/id_rsa

host mygit
   user git
   hostname myhost
   port 22
   identityfile ~/.ssh/obto
</code></pre>

<p>Sadly, though, I'm still getting the fatal error. Does anyone have any ideas?</p>
","3","420028",""
"31032816","601976","2015-06-24 17:08:46","2","245","<apache><httpd.conf><gitolite><cgit>","Plugin to use gitolite's ACLs for CGIT/Apache httpd?","<p>We use gitolite's ACL mechanism to control who has access to different repositories.  We also use CGIT with Apache httpd to allow browsing of readable repositories.</p>

<p>We'd like to also use the gitolite ACLs in the Apache httpd access control system.</p>

<p>Is there an Apache httpd authn/authz module that provides this functionality?</p>

<p>Thanks!</p>
","0","601976","0"
"31033097","221450","2015-06-24 17:23:37","1","154","<git><githooks><gitolite>","gitolite/git: how can I bypass a pre-receive hook on demand?","<p>I wrote a pre-receive hook that secure static analyze the submitted code and prevent the push whenever some code contains some bugs/weakness/vulnerabilities. </p>

<p>Unlikely in some cases cppcheck reports some false positive and I would like to give to sw engineers the possibility to quickly bypass the hooks. </p>

<p>How can I achieve that on gitolite/git ? </p>

<p>I'm aware of the comments that can instruct cppcheck to report some findings but I can't use it. </p>
","0","221450","0"
"31033196","221450","2015-06-24 17:29:34","0","140","<git><githooks><gitolite>","gitolite/git: how can I automatically populate the git pre-commit/pre-push hook","<p>I would like to automatically populate the .git/hook/pre-push/pre-commit file with custom content whenever someone clone my repositories. </p>

<p>How can I achieve that ? </p>
","0","221450",""
"51395809","3416447","2018-07-18 07:16:45","1","71","<git><perl><gitolite>","git push error message","<p>I installed gitolite and git server in linux.
I created repository, push anythings.</p>

<p>""git push"" is succeed. because I succeed add new user.
but It show error.
is this,</p>

<p><a href=""https://i.stack.imgur.com/QvTX7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/QvTX7.png"" alt=""enter image description here""></a></p>

<blockquote>
  <p>remote: FATAL: invalid repo ''</p>
</blockquote>

<p>what is this?
I checked this answers,  <a href=""https://stackoverflow.com/questions/35847483/gitolite-refuses-to-accept-commits-to-gitolite-admin-git"">Gitolite refuses to accept commits to gitolite-admin.git</a>. but unsolved.</p>

<p>I want to clear this error.</p>

<p>and, This error is not only 1 repository but also all of repositories show. This error is not only 1 user but also all of user show.</p>

<p>I chekced 
<a href=""https://stackoverflow.com/questions/15396853/how-to-solve-invalid-repo-name-git-error?answertab=active#tab-top"">How to solve &#39;invalid repo name&#39; Git error?</a></p>

<p>but I don't understand.</p>

<pre><code>_die ""invalid repo name: '$repo'"" if $repo !~ $REPONAME_PATT; 
</code></pre>

<p>will be work only  <code>$soc =~ m(^($git_commands) '?/?(.*?)'?$)</code> is true.
maybe $soc is ""git push"". and $git_commands is ""git-upload-pack|git-receive-pack|git-upload-archive"".</p>

<p>so, My question seems to have nothing to do with that answer.
I don't know about perl. If I wrong that, please help me. </p>
","7","3416447","0"
"14636150","1155002","2013-01-31 22:15:23","2","873","<git><github><go><gitolite>","Using go language with gitolite","<p>Does know how to use Google's go languages clever get command with Gitolite?
It works great with Google Code and Github as follows:</p>

<blockquote>
  <p>go get code.google.com/p/go.example/hello</p>
</blockquote>

<p>or</p>

<blockquote>
  <p>go get github.com/alphazero/Go-Redis</p>
</blockquote>

<p>But my gitolite access look more like:</p>

<blockquote>
  <p>git clone git@mygitolite:myproject</p>
</blockquote>

<p>Any suggestions?</p>
","3","1155002","0"
"57455337","11915828","2019-08-12 03:30:25","1","601","<gitolite>","WARNING: Can't exec ""git"": No such file or directory at /home/git/bin/lib/Gitolite/Common.pm line 152","<pre><code>git clone git@127.0.0.1:gitolite-admin.git
Cloning into 'gitolite-admin'...
WARNING: Can't exec ""git"": No such file or directory at /home/git/bin/lib/Gitolite/Common.pm line 152, &lt;DATA&gt; line 1.

fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>
","0","11915828","0"
"75273156","16144719","2023-01-29 07:08:08","1","71","<gitolite>","gitolite: error: src refspec master does not match any","<p>I have created an empty git repository by use of gitolite and cloned it to my laptop. Usually, I can add files to it on my laptop on and push them to the repo but now an error occurs:</p>
<pre><code>user@laptop Myproject % git clone newergit:Repo-Myrepo
Cloning into 'Repo-Myrepo'...
warning: You appear to have cloned an empty repository.
user@laptop Myproject % cd Repo-Myrepo
user@laptop Repo-Myrepo % vi test.txt
user@laptop Repo-Myrepo % git add test.txt 
user@laptop Repo-Myrepo % git commit -m &quot;add test file to repo&quot;
[main (root-commit) 27aa970] add test file to repo
 1 file changed, 1 insertion(+)
 create mode 100644 test.txt
user@laptop Repo-Myrepo % git push origin master
error: src refspec master does not match any
error: failed to push some refs to 'newergit:Repo-Myrepo'
</code></pre>
<p>This used to work in the past but newly I am experiencing this error and don't know how to proceed?</p>
","2","16144719",""
"7355599","538418","2011-09-08 23:18:08","4","2398","<git><version-control><gitolite>","dealing with long personal branch names in git and gitolite","<p>I am using the <a href=""http://progit.org/book/ch5-1.html"" rel=""nofollow noreferrer"">""Integration-Manager"" workflow</a> with Git, while using gitolite for permission management.  Gitolite has this neat option for easily managing <a href=""http://sitaramc.github.com/gitolite/doc/3-faq-tips-etc.html#_personal_branches"" rel=""nofollow noreferrer"">personal user branches</a> in:</p>

<pre><code>refs/personal/USERNAME/USERBRANCHNAME
</code></pre>

<p>In our case, these are the only branches to which the developers have write access.  This means they are routinely pulling from the ""blessed"" repository, which is the ""master"" branch on the ""origin"" remote, like so:</p>

<pre><code>$ git pull origin master
</code></pre>

<p>However, they need to routinely push their work back up to their personal branches, like so:</p>

<pre><code>$ git push origin master:refs/personal/mysuername/mybranchname
</code></pre>

<p>Typing those long branch names gets old, really fast, especially for the integrator, who is having to pull routinely from various, long branch names.  Most people want to type something simpler, like:</p>

<pre><code>$ git push origin master:mybranchname
</code></pre>

<p>So, my question is, ""How do I make this easier with shorter names and reduced typos?""  Is there some way to create an alias or shortcut for the user's remote branch?  Our integrator would like to be able to create aliases for each of the developers to simplify her commands also.</p>

<p>Also, is it possible to configure git to always pull from one branch and push to a different branch without having to specify the remote and branch names in both cases?  This would help our developers, although it would not help our integrator.  ...  I'm familiar with <a href=""https://stackoverflow.com/questions/658885/how-do-you-get-git-to-always-pull-from-a-specific-branch"">configuring a single default to push and pull from the same remote and branch</a>, but that does not work in this case, since the push and pull branches are different.</p>

<p>Thanks!</p>
","1","538418","0"
"62831619","13904799","2020-07-10 09:46:41","1","1905","<gitolite>","gitolite FATAL: R any gitolite-admin git DENIED by fallthru","<blockquote>
<p>.ssh/config</p>
<p>host git-server</p>
<p>user git</p>
<p>hostname 127.0.0.1</p>
<p>identityfile ~/.ssh/git</p>
<p>port 6827</p>
<p>run: git ls-remote git-server:gitolite-admin.git</p>
</blockquote>
<blockquote>
<p>error: FATAL: R any gitolite-admin git DENIED by fallthru (or you
mis-spelled the reponame) fatal: Could not read from remote
repository.</p>
</blockquote>
<p>Please make sure you have the correct access rights</p>
","0","13904799","0"
"25863743","685107","2014-09-16 08:13:52","2","2097","<git><gitolite>","Can’t connect to gitolite: gl-auth-command not found","<pre><code>$ git push
sh: /usr/bin/gl-auth-command: No such file or directory
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p><code>gl-auth-command</code> is called from <code>~/.ssh/authorized_keys</code>, and is supposed to be in the gitolite repo under <code>src/</code></p>

<p>I’ve pulled the last changes for gitolite repo successfully, but didn’t find any gl-auth-command in it. </p>

<pre><code>git@home ~ $ find gitolite -iname ""gl-auth*""
git@home ~ $ 
</code></pre>

<p>I’ve accomplished migration to v3 a month ago, and it worked back then. The logs in ~/.gitolite/logs/ have last messages about successful repo updates on September, 10th. Then something happened and users can’t log in since then. I have no idea what could it be, moreover, if it looks for <code>gl-auth-command</code>, that means that the ssh connection goes normal, so at least, it is not a network problem.</p>
","0","685107","0"
"8297397","894031","2011-11-28 14:34:08","3","2170","<git><debian><gitolite>","Debian Squeeze : gitolite +ssh +apache2 +suexec +http-backend","<p>I follow this step by ste configuration : <a href=""http://sitaramc.github.com/gitolite/ggshb.html"" rel=""nofollow"">http://sitaramc.github.com/gitolite/ggshb.html</a></p>

<p>but when I'll try to make a git clone I've got this erros :</p>

<pre><code>git clone http://guillaume@git.domain.net/gitolite-admin
Initialized empty Git repository in /home/guidtz/tmp/tmp/gitolite-admin/.git/
Password: 
fatal: http://guillaume@git.domain.net/gitolite-admin/info/refs not found: did you run git update-server-info on the server?
</code></pre>

<p>I done git update-server-info.</p>

<p>I put http config in repos/config :</p>

<pre><code>[http]
      receivepack = true
</code></pre>

<p><strong>info/refs</strong> file exist</p>

<p>My apache vhost :</p>

<pre><code>&lt;VirtualHost *:80&gt;
   ServerName git.domain.net
   ServerAdmin sysadmin@domain.net

   LogLevel debug
   ErrorLog ""|/usr/bin/cronolog /var/log/apache2/git/%Y/%W/%d-error.log""
   CustomLog ""|/usr/bin/cronolog /var/log/apache2/git/%Y/%W/%d-access.log"" combined

   DocumentRoot /var/www/gitweb

   SuexecUserGroup gitolite gitolite

   SetEnv GIT_PROJECT_ROOT /home/git/repositories
   SetEnv GIT_HTTP_EXPORT_ALL
   SetEnv GITOLITE_HTTP_HOME /home/git

   ScriptAliasMatch ""(?x)^/(.*/(HEAD | info/refs | objects/(info/[^/]+ | [0-9a-f]{2}/[0-9a-f]{38} | pack/pack-[0-9a-f]{40}\.(pack|idx)) | git-(upload|receive)-pack))$"" /var/www/bin/gitolite-suexec-wrapper.sh/$1
  &lt;Directory ""/var/www/gitweb""&gt;
            Options ExecCGI
            AllowOverride None
            AddHandler cgi-script .cgi
            DirectoryIndex gitweb.cgi
            Order allow,deny
            Allow from all
   &lt;/Directory&gt;
   &lt;Directory ""/var/www/bin""&gt;
            &lt;Files ""gitolite-suexec-wrapper.sh""&gt;
                    Order allow,deny
                    Allow from all
            &lt;/Files&gt;
   &lt;/Directory&gt;

   &lt;Location / &gt;
           AuthType Basic
           AuthName ""Private Git Access""
           AuthUserFile /etc/apache2/gitusers
           Require valid-user
   &lt;/Location&gt;
&lt;/VirtualHost&gt;
</code></pre>

<p>My wrapper file <strong>/var/www/bin/gitolite-suexec-wrapper.sh</strong></p>

<pre><code>#!/bin/bash
#
# Wrapper for gl-auth-command
#

USER=$1

export GIT_PROJECT_ROOT=""/home/git/repositories""
export GITOLITE_HTTP_HOME=""/home/git""

exec  /home/git/bin/gl-auth-command $USER

# End
</code></pre>
","0","894031","0"
"8322860","1067880","2011-11-30 08:11:29","12","7186","<hook><gitolite>","gitolite hook for specific repository","<p>I don't understand how do I create a post-receive hook for a <strong>specific</strong> repository in gitolite (non-root install)</p>

<p>My bare repository contains a website that should copy the working directory to the docRoot
(<code>GIT_WORK_TREE=/path/htdocs git checkout -f</code>) on update</p>

<p>Before gitolite, I would just update the hook for the specific repository.<br>
Gitolite documentation mentions that all hooks should be at <code>hooks/common</code> so I don't understand how it works.</p>

<p>What should be the name of hooks, where it should be located and how it's structure should be changed (if it should)?</p>
","0","1067880","0"
"9086041","356746","2012-01-31 19:58:44","0","286","<git><gitolite>","gitolite broken: pull is not possible","<p>Some filenames with unicode characters being passed between Windows and *nix have caused some weirdness with gitolite. </p>

<p>This led to files not being able to be ignored/removed from cache, which made merges/rebasing impossible. I added the directory containing the files to my <code>.gitignore</code> and removed them from cache. Upon push, <code>gitolite</code> is having some issues:</p>

<pre><code>remote: U (a bunch of files that were removed from the repo)
remote: Pull is not possible because you have unmerged files.
remote: Please, fix them up in the work tree, and then use 'git add/rm &lt;file&gt;'
remote: as appropriate to mark resolution, or use 'git commit -a'.
</code></pre>

<p>Everything seems like it is business as usual on the computers that have a copy of the repo, but I'd like to resolve this message. My first intuition was to make some changes on the <code>gitolite</code> server directly, but I'm not sure that is the correct course of action.</p>
","0","356746",""
"9116294","1185633","2012-02-02 16:47:39","0","2336","<git><ssh><tortoisegit><gitolite><pam>","how do I disable pam authentication for gitolite user","<p>I have gitolite setup on a RHEL linux host. It is functional and it's doing its job of accepting ssh keys.</p>

<p>I've instructed my users to use tortoisegit as the management tool of their repositories. This is because tortoisegit comes with a ssh key generator, and the pageant. With the pageant running, and their key loaded, it works fine. </p>

<p>BUT.</p>

<p>some of the users forget to load the key, and they get a popup asking for the gitolite user password. dialog title:TortoisePlik content: git@servername.com password:
image of dialog: <a href=""http://i.imgur.com/Vbbk7.png"" rel=""nofollow"">http://i.imgur.com/Vbbk7.png</a></p>

<p>is there a way I could deny this dialog by changing a configuration on the server side, like in pam or sshd?</p>
","0","1185633","0"
"9540336","1244070","2012-03-02 21:03:10","1","1388","<git><repository><restore><gitolite>","How to restore all my gitolites repos from a backup or another Gitolite server?","<p>I have a working Gitolite server right now and I backup every week.</p>

<p>Now I configured a new gitolite server, and I need to copy all the repos from the original server to the new one.</p>

<p>Any clues on how to do this?</p>
","0","1244070",""
"27290424","2071938","2014-12-04 09:29:37","1","503","<git><gitolite><git-bash>","gitolite SSH Problems","<p>I have Problems to connect to my gitolite server via GIT-Bash on Windows.
I have done the following:</p>

<pre><code>ssh-keygen -t rsa
</code></pre>

<p>on my local windows machine an the git-bash. Afterwards I copied this keyfile to </p>

<pre><code>gitolite-admin/keydir 
</code></pre>

<p>on my the linux machine running the gitolite server</p>

<p>Then I added the new keyfile and commited/pushed the repository.</p>

<p>But everytime I try to do </p>

<pre><code>git clone user@server-ip:testing.git
</code></pre>

<p>I get </p>

<pre><code>fatal: 'testing.git' does not appear  to be a git repository
fatal: could not read  from remove repository

Please make sure you have the correct access rights and the repository exists
</code></pre>

<p>I had the same error message at the beginning when I tried to clone the gitolite-admin repo due invalid ssh-keys.</p>

<p>Any Ideas?</p>
","4","2071938","0"
"27292973","328817","2014-12-04 11:32:41","1","174","<git><gitolite>","New repo added to gitolite on server, getting ""unable to checkout"" when try to push there","<p>I've got a server set up with a handful of git repositories using <a href=""http://gitolite.com/gitolite/index.html"" rel=""nofollow"">gitolite</a>.</p>

<p>I added a new repository by updating <code>gitolite.conf</code> to have an entry for the new repo, and pushing (as described <a href=""http://gitolite.com/gitolite/gitolite.html#repos"" rel=""nofollow"">here</a>).</p>

<p>I then added a git remote entry on my local machine so that I can push to the new gitolite repo.</p>

<p>When I try and push any branch other than master there, I see the following error:</p>

<pre><code>remote: warning: remote HEAD refers to nonexistent ref, unable to checkout
</code></pre>
","1","328817","0"
"9777459","712506","2012-03-19 20:29:25","1","3586","<gitolite><gitweb>","How to get gitolite / gitweb working together?","<p>I have gitweb and gitolite installed. I can configure a repo for gitweb access and it appears in the ""projects.list"" file but the repo is not listed by gitweb in the browser.</p>

<p>I've been searching and searching but can't find what I am missing to make this work.</p>

<p>My gitweb.conf contains </p>

<pre><code>$git_temp = ""/tmp"";

# The directories where your projects are. Must not end with a slash.
$projectroot = ""/srv/git/repositories""; 
$projects_list = ""/srv/git/projects.list"";
</code></pre>

<p>My .gitolite.rc contains</p>

<pre><code>$PROJECTS_LIST = $ENV{HOME} . ""/projects.list"";
</code></pre>

<p>I've checked and the projects.list file goes get updates as per changes to the gitlite config once that is pushed back to the repo. So I think it's just gitweb not seeing the list and acting on it, but I can't figure out know why. </p>

<p>I just get the gitweb page with ""404 - No projects found"" where the project list should be.</p>

<p>UPDATE:</p>

<p>I found that in my case the problem was caused by incorrect Apache config. I had followed <a href=""http://git@boron/testing.git"" rel=""nofollow"">http://git@boron/testing.git</a>. I had the following in my VirtualHost:</p>

<pre><code># Make sure we can execute gitweb okay
&lt;Directory ""/srv/http/gitweb""&gt;
        Options ExecCGI
        AllowOverride None
        AddHandler cgi-script .cgi
        DirectoryIndex gitweb.cgi
        Order allow,deny
        Allow from all
&lt;/Directory&gt;
</code></pre>

<p>This executed gitweb.cgi directly, as the httpd user and without any environment settings. I replaced this block with an explicit call to my suexec wrapper:</p>

<pre><code># Call GitoWeb cgi via suexec wrapper for relevant URLs
ScriptAliasMatch ""^/$"" /srv/http/git-suexec/gitweb.cgi.suexec-wrapper
</code></pre>

<p>And that fixed my problem.</p>
","1","712506",""
"9835235","1052943","2012-03-23 06:58:36","13","10300","<git><ubuntu><repository><gitolite>","Moving gitolite server","<p>I have a working gitolite server.  However, I want to move it to an identical configuration, but on a bigger machine.  Even though I have gitolite working, I am not sure about the strings under it.  Mainly its relationship with ssh.</p>

<p>I would like to just install the packages gitolite, git-core.  And move the repository directories for the git user.   None of the keys need to change.  Is this correct ?  what are the configuration ties gitolite has to the current server.  I am working with Ubuntu</p>

<p>I was specially confused by gl-setup, which did the job, but leaves me in the dark about the process.</p>

<p>Thanks</p>
","0","1052943","0"
"28638874","188533","2015-02-20 21:53:05","2","533","<git><ssh><docker><gitolite>","Automated pulling from gitolite repo within docker container","<pre><code>FROM fedora:latest

RUN yum install -y nginx git uwsgi

RUN echo ""nameserver 8.8.4.4"" &gt; /etc/resolv.conf
RUN rm -rf /root/.ssh/ &amp;&amp; mkdir -p /root/.ssh/
COPY id_rsa.pub /root/.ssh/id_rsa.pub
COPY id_rsa /root/.ssh/id_rsa
RUN cat /root/.ssh/id_rsa* &amp;&amp; chmod 0400 /root/.ssh/id_rsa &amp;&amp; echo """" &gt; /root/.ssh/known_hosts

RUN mkdir -p /srv/nginx/
RUN ssh -vvv -p 49022 git@example.com || true

RUN git config --global user.email ""somethingelse@example.com"" &amp;&amp; git config --global user.name ""FunnyBunny""
RUN git clone --depth=1 ssh://git@example.com:port/repo.git /srv/nginx/repo
RUN chown -Rf nginx:nginx /srv/nginx

RUN rm -rf /root/.ssh/


USER nginx


EXPOSE 8080


CMD [""/usr/sbin/nginx""]
</code></pre>

<p>I added the public ssh <code>id_rsa.pub</code> to my gitolite repo on the same host in another docker container. The bad thing is that cloning always fails.</p>

<pre><code>Cloning into '/srv/nginx/repo'...
Host key verification failed.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>while the ping works just fine.</p>

<p>The <code>ssh -vvv</code> line ends with</p>

<pre><code>Host key verification failed.
</code></pre>

<hr>

<p>On the other hand-side, importing public and private keys into a <code>fedora:latest</code> and running just a <code>git clone --depth ...</code>, <strong>just works</strong>!.</p>

<hr>

<p>I am really puzzled how to fix this issue.</p>

<p>CoreOS version 557.2.0</p>

<hr>

<p>This does not yield a viable solution: <a href=""https://stackoverflow.com/questions/18136389/using-ssh-keys-inside-docker-container"">Using SSH keys inside docker container</a></p>
","6","188533","0"
"11054194","1459145","2012-06-15 15:53:54","2","2347","<git><gitolite><githooks><git-post-receive>","Per-branch, per-repo commit hook in gitolite","<p>I want to add a commit hook that works when a push is received on a gitolite/git server for a given branch and repo combination only (branch 'cat' on repo 'dog').</p>

<p>My environment:
git version 1.7.4.1, </p>

<p>What I have done so far:</p>

<ol>
<li><p>Touched a file at <code>/home/git/repositories/dog.git/hooks/post-receive.secondary</code> on the git/gitolite server.</p></li>
<li><p>Edited the file with the contents:</p>

<pre><code>#!/bin/sh
#
refname=""$1""
oldrev=""$2""
newrev=""$3""
if [ ""$refname"" == ""refs/heads/cat"" ]
then
   touch /tmp/test
fi
</code></pre></li>
<li><p>Set the owner of the file to the 'git' user</p></li>
<li><p>Set the file permissions to 700</p></li>
<li><p>Done a commit to ""cat"" branch of ""dog"" repo</p></li>
</ol>

<p>Results:
the test file is not created</p>
","5","1459145",""
"11565882","221529","2012-07-19 17:07:08","4","3355","<git><gitolite>","How to move git repositories from github to local server running gitolite","<p>I would like to know the preferable way to move all my git repositories currently hosted on github to a new git server gitolite-based.</p>

<p>Just for knowing, the reason why I'm  doing this switch is the adoption of Redmine to support our project management process.</p>
","0","221529","0"
"11586105","1534792","2012-07-20 19:52:07","1","601","<gitolite>","What permissions should be assigned for the ""git"" user in gitolite","<p>I set up git and gitolite with some help from members on this forum and using these instructions:</p>

<p><a href=""https://github.com/sitaramc/gitolite"" rel=""nofollow"">https://github.com/sitaramc/gitolite</a></p>

<p>In the instructions one of the requirements is:</p>

<blockquote>
  <p>a dedicated <code>userid</code> to host the repos (in this document, we assume it is '<code>git</code>'), with shell access ONLY by '<code>su - git</code>' from some other <code>userid</code> on the same server.</p>
</blockquote>

<p>Are these the correct permissions shown below?</p>

<pre><code>sudo chown git /home/git
sudo chmod -R 755 /home/git
</code></pre>

<p>...or are there more appropriate settings to provide necessary security and functionality?</p>
","0","1534792",""
"11628583","378144","2012-07-24 10:07:16","1","454","<installation><gitolite><gentoo>","Unmask gitolite version 3 on Gentoo","<p>I've tried to install gitolite v2, but couldn't setup it because of horrible strange bugs/errors.
Now I want to try gitolite v3 on Gentoo. I've added this line in </p>

<pre><code>/etc/portage/package.unmask: =dev-vcs/gitolite-3*
</code></pre>

<p>As it is the same as in </p>

<pre><code>/usr/portage/profiles/package.mask. 
</code></pre>

<p>But when I type:</p>

<pre><code>emerge -s gitolite or emerge -p gitolite 
</code></pre>

<p>I couldn't find version 3, only version 2.
What am I doing wrong? How to correctly unmask this package? Should I change /usr/portage/profiles/package.mask?</p>

<p><strong>Solution:</strong>
My colleague helped me.</p>

<pre><code>echo '&gt;=dev-vcs/gitolite-3.03 ~x86' &gt;&gt; /etc/portage/package.keywords
</code></pre>
","0","378144",""
"11649208","15441","2012-07-25 12:01:46","1","757","<ubuntu><apache2><gitolite>","gitolite - smart-http - gives uninitialised value for rc(""UMASK"")","<p>I'm getting the following error in my <code>/var/log/apache2/error.log</code> when I try to do a git clone to my server running gitolite with smart-http enabled</p>

<pre><code>[Wed Jul 25 21:53:36 2012] [error] [client 124.149.104.106] FATAL: warn\tUse of 
uninitialized value $rc{""UMASK""} in umask at /opt/git/gitolite-source/src/
gitolite-shell line 95, &lt;DATA&gt; line 1.&lt;&lt;newline&gt;&gt;
</code></pre>

<p>I do have the <code>UMASK</code> value set to <code>0027</code> in <code>/home/git/.gitolite.rc</code></p>

<p>Any thoughts why the value isn't setting when called from an su_exec from a file in <code>sites-available</code>?</p>

<p>I'm running apache as www-data - and have set up permissions on the various scripts as per the instructions <a href=""http://sitaramc.github.com/gitolite/ssh-and-http.html"" rel=""nofollow"">here</a> - ie:</p>

<pre><code>install -d -m 0755 -o git -g git /var/www/bin
install -d -m 0755 -o www -g www /var/www/git
</code></pre>

<p>and then: </p>

<p>create a shell script inside <code>/var/www/bin</code> named <code>gitolite-suexec-wrapper.sh</code>, with mode <code>0700</code> and owned by user and group <code>git</code>. </p>
","5","15441","0"
"11668316","874800","2012-07-26 11:29:41","3","997","<git><github><gitolite>","can't complete the installation of gitolite","<p>I have installed Git and now I am trying to install <code>gitolite</code> on my server , so I typed:</p>

<pre><code>git clone git://github.com/sitaramc/gitolite
gitolite/install 
</code></pre>

<p>the result of this command is as follow</p>

<pre><code>use the following full path for gitolite: /root/gitolite/src/gitolite
</code></pre>

<p>how i can complete the installation </p>
","0","874800",""
"8897166","647037","2012-01-17 15:23:29","0","2633","<ruby-on-rails><git><redmine><githooks><gitolite>","Setting up git commit hook for Redmine","<p>I am trying to migrate the setup here at the office from SVN to Git and am setting up Redmine as the host for our projects and issue management (Currently we use a version of Gforge + SVN).  I should preface by saying that I'm an embedded C software developer by day and have basically zero experience with Rails or web apps, but I like trying new things so I volunteered to set up the project management tools which will take us into the future.</p>

<p>I have Redmine setup and am using Gitolite as the Git repo manager.  Additionally, I am using the <a href=""https://github.com/ericpaulbishop/redmine_git_hosting"" rel=""nofollow"">ericpaulbishop/redmine_git_hosting</a> plugin to facilitate automatic public ssh key pushing to Gitolite and automatic repo creation when we register a new project.  Everything seems to work except the repo view within the project does not keep track of the changesets.  (The ""History"" is just empty, although when you view the files, it does show the latest version correctly)</p>

<p>I copied the post-receive hook from the plugin's contrib directory to the .gitolite/ common hooks, but again I know little about Ruby and how these gitolite hooks work so I don't know how to debug this.  I notice there are log messages and things in the hook, but I have no idea where those are printed, etc...</p>

<p>I even tried the Howto on the Redmine wiki, <a href=""http://www.redmine.org/projects/redmine/wiki/HowTo_setup_automatic_refresh_of_repositories_in_Redmine_on_commit"" rel=""nofollow"">HowTo setup automatic refresh of repositories in Redmine on commit</a>:</p>

<pre><code>#!/bin/sh

curl ""http://&lt;redmine url&gt;/sys/fetch_changesets?key=&lt;your service key&gt;""
</code></pre>

<p>Any ideas on where I start debugging?  I've been able to resolve every problem up to this point, but I'm a little stuck now.  The plugin doesn't make it obvious how this is supposed to work, and to be honest, I'm not even sure if this is a problem with Redmine not reading the repo correctly (or at all), or gitolite not communicating as Redmine expects, etc...</p>
","3","647037",""
"8937783","261718","2012-01-20 06:53:29","1","119","<git><githooks><gitolite>","For remote hook, like post-receive, how to get the permission list for wildcard repository in gitolite?","<p>Working on the remote hook, <strong>post-receive</strong>, to send out notification emails by <strong>post-receive-email</strong>, and I am wondering if we can get the permission list just in <strong>post-receive</strong> for wildcard repositories instead of setting <strong>hooks.mailinglist</strong>?</p>
","0","261718","0"
"44805649","8226586","2017-06-28 14:39:42","1","102","<gitolite>","Accessing git server with specific url","<p>Can we add multiple git-web URL for a single git server. So that specific people can access their projects with their own URL'S?</p>

<p>When I have tired to search the results for above question, it is there like git daemon is used? If it is so? How it is useful?</p>
","3","8226586","0"
"26760661","4219155","2014-11-05 15:19:05","0","385","<ubuntu><gerrit><gitolite>","How to setup gitolite and gerrit on separate ubuntu servers?","<p>I would like to setup gitolite on one ubuntu server. This gitolite is used to host git repositories. I would like to setup gerrit on different ubuntu server and it uses git repositories hosted on gitolite server. Is it possible? If yes, please provide setup steps.</p>
","0","4219155",""
"19828825","1790870","2013-11-07 05:45:44","1","165","<git><gitolite>","Why do I need to read STDIN in gitolite hook","<p>When I ran git push to origin, sometimes I got the error as below:<br>
<code>error: git-shell died of signal 13</code><br>
<code>fatal: The remote end hung up unexpectedly</code><br>
If tried again, it succeeded, but do not know the reason. Anyone can shed some lights?</p>

<p>BTW, I copy the <code>post-receive.mirrorpush</code> hook from <a href=""https://github.com/ellysh/gitolite/blob/master/hooks/common/post-receive.mirrorpush"" rel=""nofollow"">here</a><br>, where mentioned:<br>
<code># flush STDIN coming from git; we have no use for that info in this hook but</code><br>
<code># if you don't do this, git-shell sometimes dies of a signal 13 (SIGPIPE)</code><br>
<code>[ -t 0 ] || cat &gt;/dev/null</code></p>

<p>Shall I read STDIN in <code>pre-receive</code> and <code>post-receive</code> hooks to avoid this?</p>

<p>Thank you in advance.</p>
","5","1790870","0"
"20139116","1858864","2013-11-22 07:11:42","2","2243","<git><ssh><repository><gitolite>","Cannot access gitolite repos with non-gitolite admin users","<p>I've installed Gitolite 3.5.3 on Ubuntu 12.04. I created test repo and I can access it over ssh only with gitolite user but not others. 
I need to allow access other system users (user1,user,user2) or usergroup to git(push, pull merge etc) over ssh like this:</p>

<pre><code>git clone user1@domain.com:megaproject
</code></pre>

<p>But I try to connect like this:</p>

<pre><code>git clone user@domain.com:megaproject
</code></pre>

<p>and write correct password for this user I get:</p>

<pre><code>fatal: 'megaproject' does not appear to be a git repository
fatal: Could not read from remote repository.
Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>Even if I create <code>keydir</code> directory in the home folder of gitolite user with my ssh public key - nothing changes.</p>

<p>What should I change to provide access in such a way?</p>
","0","1858864","0"
"7506832","957884","2011-09-21 21:22:45","15","20553","<git><gitolite>","git push origin master:refs/heads/master what does this do","<p>When I create a new repo on my gitolite repository I always have to enter the following command before I can start pushing code to the server.</p>

<p><code>git push origin master:refs/heads/master</code></p>

<p>What does it do ?</p>

<p>My guess is that is has to do with the head reference not sure. Could someone explain it to me?</p>
","0","957884","0"
"20754018","2503430","2013-12-24 02:20:52","1","564","<git><ubuntu><gitolite><mirror>","Unable to read from remote repository after git mirror","<p>I have been experimenting with creating a mirror of one of my gitolite repositories and have run into a problem. I created the mirror on the same machine as the original git repositories using the commands;</p>

<pre><code>cd /var/repo_mirrors
git clone --mirror /home/gitolite/repositories/Test.git
</code></pre>

<p>( I was essentially following the steps from here: <a href=""http://www.redmine.org/projects/redmine/wiki/RedmineRepositories#Git-repository"" rel=""nofollow"">http://www.redmine.org/projects/redmine/wiki/RedmineRepositories#Git-repository</a> )</p>

<p>I also wanted to be able to browse the repository so i did a chown to www-data so that Apache could read.</p>

<p>That all worked fine. But the problem now is i'm unable to clone/push the original repository. When i try i get the following error;</p>

<blockquote>
  <p>fatal: failed to read object a0d91d1cc22bfbd5666d51c1ea7a5015008e50b6:
  Permission denied fatal: Could not read from remote repository.</p>
  
  <p>Please make sure you have the correct access rights and the repository
  exists.</p>
</blockquote>

<p><strong>Note</strong>: before the mirror everything worked OK</p>

<p>Any ideas on what went wrong would be appreciated.</p>
","0","2503430","0"
"12270177","1015848","2012-09-04 19:35:10","3","1710","<git><gitolite><remote-branch><fast-forward>","How to allow remove remote branches at gitolite and forbid non fast forward","<p>We need to allow developers:</p>

<p>1) to create topic branches and save them at remote repo.</p>

<p>2) Do changes.</p>

<p>3) Do merge to 'development' branch. </p>

<p>4) Remove topic branch (git push origin :TestRemoteBranch).</p>

<p>But we would rather forbid to use non fast forward merges with usage RW permission.
But this permission also forbid to to delete topic branches.</p>

<p>Is there any way to avoid non fast forward merges and allow to remove topic branches (not a 'development' and 'master') ?</p>
","0","1015848","0"
"12905870","1039166","2012-10-16 00:22:40","3","20301","<git><gitolite>","git push origin master -> DENIED by fallthru","<p>When I try to 'git push origin master' I get the error 'DENIED by fallthru'</p>

<p>I've spent the last three hours googling. I can't figure out how to fix it.</p>

<p>gitolite.log</p>

<pre><code>2012-10-15.16:43:47 16930   ssh ARGV=david_neudorfer_lbox_com_1350337154    SOC=git-receive-pack 'Treasure-Hunt.git'    FROM=10.0.4.185
2012-10-15.16:43:47 16930       repo 'Treasure-Hunt' missing
2012-10-15.16:43:47 16930       access(Treasure-Hunt, david_neudorfer_lbox_com_1350337154, W, 'any'),-&gt; W any Treasure-Hunt david_neudorfer_lbox_com_1350337154 DENIED by fallthru
2012-10-15.16:43:47 16930       trigger,Writable,access_1,ACCESS_1,Treasure-Hunt,david_neudorfer_lbox_com_1350337154,W,any,W any Treasure-Hunt david_neudorfer_lbox_com_1350337154 DENIED by fallthru
2012-10-15.16:43:47 16930   die W any Treasure-Hunt david_neudorfer_lbox_com_1350337154 DENIED by fallthru&lt;&lt;newline&gt;&gt;(or you mis-spelled the reponame)
</code></pre>

<p>gitolite.conf</p>

<pre><code>repo    test_project
  RW+                            = david_neudorfer_lbox_com_1350344583
repo    projectsmadesimple-web
  RW+                            = david_neudorfer_lbox_com_1350344583
repo    treasure-hunt
  RW+                            = david_neudorfer_lbox_com_1350344583
</code></pre>

<p>I noticed that the numbers after the names are different. Hoping that had something to do with it I tried:</p>

<pre><code>repo    test_project
  RW+                            = david_neudorfer_lbox_com_1350344583
  RW+                            = david_neudorfer_lbox_com_1350337154
</code></pre>

<p>Didn't work. Any suggestions would be great.</p>
","4","1039166","0"
"12977998","537500","2012-10-19 15:54:18","3","1138","<git><ubuntu><file-permissions><gitolite><githooks>","git ignore filemode config isn't working","<p>I am using gitolite git server on a ubuntu linux server. I used a hook that will be called on every push and will update a server's directory(which include live site's source code).</p>

<p>Now, whenever I change something on my local pc and push the changes to server, the hook is being called and the pull request are being executed fine. But, problem is, the files which were updated, are now having changed permission. Like:</p>

<pre><code>rwxrwxr_x (before)
rwx_____x (After)
</code></pre>

<p>After few searches, I did came up with <a href=""https://stackoverflow.com/questions/1580596/how-do-i-make-git-ignore-mode-changes-chmod"">this solution</a> . I did tried it with both my global git config and repository specific config settings. after setting the config, whenever I am trying to push from my local pc, the same issue is happening again like above, thus seems, for some reason, the solution isn't working.</p>

<p>Does anybody have any idea, what can be the reason plz? Do I have to do anything additionally besides the config settings? Any suggestions are welcome. Thanks in advance.  </p>
","2","537500","0"
"12979262","1389198","2012-10-19 17:19:25","2","911","<ssh><key><public><gitolite>","How does gitolite map a remote user to a repository user ?","<hr>

<p>How does gitolite map a remote user accessing git via gitolite  to a  gitolite user (repo user) ?.Is  this from the <strong>public key file name</strong> in keydir ?. Is  it mandatory to name 
the public-key file as  <strong>username.pub</strong> . 
Thanks.</p>
","0","1389198","0"
"12998273","1763113","2012-10-21 13:31:25","5","3203","<git><msysgit><gitolite>","W access for gitolite-admin DENIED to user","<p>I've been trying very hard to get gitolite working.  I used the package approach and am able to do a first ""git push"" with a first user to the server.  After that, if if I add a key and try to push something again, I get an error saying ""W access for gitolite-admin DENIED to mike""- note that it's supposed to be using the gitolite user- not my username.  I guess this is because I'm adding private keys for both users in my .bash_profile.  (I'm using msysgit)...</p>

<p>Any ideas?</p>

<p>Thanks a lot!</p>
","0","1763113","0"
"30677634","3889600","2015-06-06 00:22:21","1","592","<gitolite>","Adding ""owner"" field in gitolite gitweb?","<p>I am trying to add an owner name of repo that shows up on gitweb.
I can't seem to find anything on the net.</p>

<p>Anybody knows how to do it?</p>

<p>I know to change the description of repo by ssh git@server desc reponame ""string""</p>

<p>But, there seems nothing for owner.</p>

<p>Thanks</p>
","0","3889600",""
"13087625","744734","2012-10-26 13:13:08","4","4972","<git><hook><gitolite><githooks>","git gitolite (v3) pre-receive hook for all commit messages","<p>I am trying to enforce a policy where each push gets rejected when even one of the commit messages does not satisfy a rule. I've distributed a hook to the devs in order for them to use it in their local repos but I also want to enforce this when they push to the origin.</p>

<p>I have two questions:</p>

<ol>
<li><p>Should I use the update hook or the pre-receive hook? (I've tried to setup an update.secondary hook but it seems to me it doesn't get fired, while a pre-receive does).</p></li>
<li><p>How can I get the message for each commit contained in the push? More specifically, I want each commit message to have a specific ""valid"" (for my needs) prefix. So I would like to scan for every commit in this push the commit message and validate it before I accept the push.</p></li>
</ol>

<p>I am using simple bash to code the hooks.</p>

<p>Thanks!</p>
","1","744734","0"
"13099761","462865","2012-10-27 11:29:19","2","275","<git><gitolite><githooks>","Bypassing gitolite restrictions for specific commits","<p>In a gitolite setup, is there a way to allow some commits to bypass some restrictions?</p>

<p>More specifically, I want to deny some actions (like creating a branch) to prevent doing so by accident, these restrictions are done in gitolite.conf file and I know how to do so, but additionally I want users to be able to bypass some of these restrictions if they are really sure (e.g. by including --force in commit message).</p>

<p>Is this possible trough gitolite configuration itself or a plugin? If not, how can I modify gitolite hooks to enable such feature?</p>
","3","462865","0"
"13159731","1688895","2012-10-31 14:00:19","2","2948","<ubuntu><gitolite><gitlab>","server unexpectedly closed network connection gitlab and gitolite","<p>I've made some backup image of gitlab and gitolite server using remastersys backup and I reinstall from the image file. The problem is the windows clients cannot connect to the server. When I tried to clone the repo, it said server unexpectedly closed network connection. I don't know what is the solution because there is no problem with linux client.</p>

<p>When I tried to clone the repo via git bash, it said ""no hostkey alg"" which I have no idea what does that mean.</p>

<p>The server I'm using is ubuntu 12.04, windows clients are windows 7 and XP. I tried to reinstall ssh but that didn't help. Does anybody know how to fix this problem.</p>
","0","1688895","0"
"58088114","3546958","2019-09-24 21:03:10","1","485","<gitolite>","""gitolite mirror push"" failing","<p>I have been running gitolite for some time and this week set up a second server as a mirror for all of my repositories.</p>

<p>I have the following stanzas in the gitolite.conf file that has been pushed to both servers:</p>

<pre><code>repo data/[0-9]+/..*
    C       =   @developers
    RW+     =   @developers
    R       =   @all
    option mirror.master  = oxygen
    option mirror.slaves  = nitrogen

repo mirror_test
    RW+     =   @all
    option mirror.master  = oxygen
    option mirror.slaves  = nitrogen
</code></pre>

<p>I have repos of the names ""data/11756/machine11756.git"", ""data/11756/recorded11756.git"", and ""data/11779/machine11779.git"", over 70 in total.</p>

<p>After setting up mirroring and testing it via the mirror_test repo.  I needed to get copies of the repos onto the slave, so I then wrote a script to run ""ssh gitolite mirror push nitrogen "".  <strong>Only nine of these mirror pushes succeeded</strong>, the remaining ones returned:</p>

<pre><code>fatal: '/home/git/repositories/data/11756/machine11756.git' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>What is going on?</p>
","1","3546958","0"
"20208286","1305463","2013-11-26 04:07:09","0","4919","<git><ssh><gitolite>","Setting up gitolite: FATAL: R any gitolite-admin gitolite denied by fallthru","<p>I'ved tried what I've found here:</p>

<p><a href=""https://stackoverflow.com/questions/10843781/gitolite-adding-user-not-working-and-denied-by-fallthru-when-cloning-as-root"">This question</a></p>

<p><a href=""https://stackoverflow.com/questions/19976239/cannot-clone-repository-fatal-r-any-gitolite-admin-gitolite-denied-by-fallthru"">And this question</a></p>

<p>I've generated my ssh keys with:</p>

<pre><code>ssh-keygen -t rsa -f gitolite
</code></pre>

<p>I then copy them to gitolite server</p>

<pre><code>scp gitolite.pub git@my-server.com:gitolite.pub
</code></pre>

<p>After that I setup gitolite on my server with no apparent errors</p>

<pre><code>gitolite setup -pk gitolite.pub
</code></pre>

<p>The only key in my .gitolite/keydir/ is gitolite.pub. The only one listed in .ssh/authorized_keys is my gitolite.pub. </p>

<p>On my client side I setup a ssh config file as such</p>

<pre><code>host gitolite
    user git
    hostname my-server.com
    identityfile ~/.ssh/gitolite
</code></pre>

<p>I then run </p>

<pre><code>git clone gitolite:gitolite-admin.git
</code></pre>

<p>which gives me:</p>

<pre><code>Cloning into 'gitolite-admin'...
FATAL: R any gitolite-admin gitolite DENIED by fallthru
(or you mis-spelled the reponame)
fatal: Could not read from remote repository.

Please make sure you have the correct access right and the repository exists.
</code></pre>

<p>What should I try next to fix this issue?</p>

<p>EDIT:</p>

<p>IF it helps at all I can clone testing.git just fine this way.</p>
","0","1305463","0"
"20305832","1651105","2013-11-30 21:25:57","1","3570","<git><cygwin><gitolite>","Cygwin and gitolite 3. How to set it up on windows?","<p>I was using <a href=""http://therightstuff.de/2010/03/28/How-To-Set-Up-A-Git-Server-On-Windows-Using-Cygwin-And-Gitolite.aspx"" rel=""nofollow"">this</a> guide.</p>

<p>Cygwin installation was good and all went well.<br>
Gitolite installation, however, is bad and i can't seem to find the solution to what should i do (neither google helps with that, because everybody link to the page i gave a link to, or everybody talk about old versions of gitolite.)</p>

<p>I have reached the step No. 5 of the ""Installing Gitolite"" part.<br>
1. I did the part with gitolite cloning ok.<br>
2. The part with installing gitolite was different, but seems to have gone well. <code>gl-system-install</code> didn't work, so i used <code>gitolite/install -ln</code> as was told by the instructions at <a href=""http://gitolite.com/gitolite/qi.html"" rel=""nofollow"">this</a> site.<br>
3. This is where everything fails. <code>gl-setup</code> doesn't exist anymore, so i used <code>gitolite setup -pk ~/myName.pub</code> command. At this stage it first says <code>Initialized empty Git repository in C:/cygwin64/home/git/repositories/gitolite-admin.git</code>, right after that i get <code>fatal: Could not switch to '/home/git': No such file or directory</code><br>
It did create the file <code>/home/git/.gitolite.rc</code> and i did what the guide told next to do. However when i execute the command <code>git clone git@gitserver:gitolite-admin.git</code> after exiting server shell, i get the error<br>
<code>bash: git-upload-pack: command not found<br>
fatal: could not read from remote repository.</code><br>
The repository gitolite-admin.git does exist in <code>/home/git/repositories</code></p>

<p>I would really like to know what am i doing wrong here. I'd like to be able to run git with authentication on windows machine.</p>
","0","1651105","0"
"39414046","491605","2016-09-09 14:34:59","3","949","<gitolite>","gitolite howto allow full access to all branches, but restrict for a specific set","<p>I want to configure gitolite so that</p>

<ol>
<li>Developers cannot push to master and stage1</li>
<li>Developers can do RW operations to all other branches (any name they want)</li>
</ol>

<p>The best thing I came up with is this:</p>

<pre><code>repo foo bar

    RW        = @developers
    R  master = @developers
    R  stage1 = @developers
</code></pre>

<p>But the first rule gives developers full access to all branches.
So how can this be done?</p>
","0","491605","0"
"35151533","5366746","2016-02-02 10:56:42","0","2469","<git><jenkins><gitolite>","How to push git project with Jenkins to another server?","<p>I was thinking I'll try out Jenkins since it looks a rather nice continous integration environment for our gitolite projects. However I don't know a few things.</p>

<p><strong>Setup:</strong></p>

<ul>
<li>1 Gitolite server </li>
<li>2 Staging servers</li>
<li>Multiple production servers</li>
<li>Multiple developer computers</li>
</ul>

<p><strong>Goal:</strong> I wish Jenkins would check a repository when someone pushes into it, if the latest push does something bad to the whole project (laravel website basically). After that, check if the push was made for developement branch, then pull it to the corresponding staging server. However, if it was pushed into the master, then pull it to the production server.</p>

<p><strong>Question #1</strong>: Is it possible to trigger a git pull command with Jenkins to another server? If yes, then how?</p>

<p><strong>Question #2</strong>: How can I check the commit with Jenkins if it is broken?</p>

<p><strong>Question #3</strong>: Which server should I install Jenkins to? I was thinking of using a docker. Locally it is running like a charm.</p>

<p><strong>Question #4</strong>: Is it possible to import all the repositories to individual projects from the git server automatically or I have to do that manually one-by-one?</p>
","0","5366746",""
"39580851","3799708","2016-09-19 19:40:37","1","410","<git><version-control><gitlab><gitolite>","Sync gitolite and gitlab","<p>I have an upcoming project wherein the vendor uses Gitolite and the client uses Gitlab. The vendor and client both need to make changes and keep both the repositories in sync the code frequently. This isn't a simple migration of code with one time commit history import. The commit history needs to be in sync regularly as well. Is there a way this model can work and what are the factors to keep in mind to build this setup? </p>
","1","3799708","0"
"18721115","2164525","2013-09-10 14:05:38","1","337","<gitolite>","gitolite error after adding a repo in the goitolite.conf","<p>I am getting below error while trying to push <code>gitolite-admin</code> repo after adding a repo name in <code>gitolite.conf</code>.<br>
Below is the error.<br>
Cloning works fine and I have already pushed some of the pub keys to the repo.</p>

<pre><code>open conf/gitolite.conf-compiled.pm.new failed: Permission denied&lt;&lt;newline&gt;&gt;
system() failed,gitolite compile,-&gt; 6400
</code></pre>

<p>Whereas cloning and pushing works fine for testing repo.</p>

<p>Gitolite user is gitolite3 and apache user writes to it and the protocol which am using is http.</p>

<p>Not sure where exactly it is failing. Help is much appreciated.</p>
","1","2164525","0"
"35217205","5776571","2016-02-05 05:55:17","1","77","<gitolite>","gitolite http mode repo can't work successful","<p>I have install gitolite and set it successful with http mode.Then,I modify the gitolite.conf,<a href=""https://i.stack.imgur.com/CS0r0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CS0r0.png"" alt=""enter image description here""></a></p>

<p>But the repo C can't be used.
<a href=""https://i.stack.imgur.com/E0XZj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/E0XZj.png"" alt=""enter image description here""></a></p>

<p>who cant help me?</p>
","1","5776571","0"
"21289643","2082964","2014-01-22 17:21:19","1","515","<apache><gitolite>","gitolite with http acces via LDAP does not pass the username","<p>I'm trying to setup a git server with:</p>

<ul>
<li><p>http-access to be able to clone repositories like this:</p>

<p>git clone <code>http://mygitserver/repository</code></p></li>
<li><p>have a web interface (gitweb), if possible with restrictions per user</p></li>
<li><p>control access based on LDAP accounts</p></li>
</ul>

<p>So far I have gitweb up and running; when I access </p>

<pre><code>http://gitserver/
</code></pre>

<p>it asks ldap login and when I provide this; it shows all repositories (even gitolite-admin repository... not so good)</p>

<p>When I try to clone, I get the error:</p>

<pre><code>fatal: http://gitserver/&lt;reponame&gt;.git/info/refs not valid: is this a git repository?
</code></pre>

<p>I dug into it and I found out that the gitolite-suexec-wrapper.sh does not receive the LDAP username; so gitolite cannot grant access since the username is empty... any ideas?</p>

<p>here is my configuration: </p>

<p>my apache configuration file looks like the one here:
<a href=""http://gitolite.com/gitolite/g2/ggshb.html"" rel=""nofollow"">http://gitolite.com/gitolite/g2/ggshb.html</a>. The most interesting part is this:</p>

<pre><code>ScriptAliasMatch \
        ""(?x)^/(.*/(HEAD | \
                        info/refs | \
                        objects/(info/[^/]+ | \
                                 [0-9a-f]{2}/[0-9a-f]{38} | \
                                 pack/pack-[0-9a-f]{40}\.(pack|idx)) | \
                        git-(upload|receive)-pack))$"" \
        /srv/www/bin/gitolite-suexec-wrapper.sh/$1
</code></pre>

<p>for one or another reason the parameter $1 is not passed or is empty.... in the apache log I get these lines:</p>

<pre><code>10.1.86.100 - - [22/Jan/2014:18:09:52 +0100] ""GET /git/&lt;reponame&gt;.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 - ""-"" ""git/1.8.4""
601 10.1.86.100 - - [22/Jan/2014:18:09:57 +0100] ""GET /git/&lt;reponame&gt;.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 - ""-"" ""git/1.8.4""
602 10.1.86.100 - chris.maes [22/Jan/2014:18:09:57 +0100] ""GET /git/&lt;reponame&gt;.git/info/refs?service=git-upload-pack HTTP/1.1"" 200 120 ""-"" ""git/1.8.4""
</code></pre>

<p>oh yes; my environment:
Opensuse 13.1
gitolite 2.3.1
git 1.8.4</p>
","7","2082964","0"
"18810410","2621679","2013-09-15 08:26:10","1","80","<git><merge><branch><gitolite><repository>","How can I solve this git access rules: any one can create new branch, only admin can merge into ""master""?","<p>We are using git for our codes control, and I have some question on it.</p>

<p>I want this in a repo, using git it self or tools such as ""gitolite"":</p>

<ol>
<li>only specified persion can merge code to specified branch.</li>
<li>somebody( such as a group called ""admin"") can create new branch,
and have full permission ""RW+"", maybe all development group member
should have this access permission</li>
<li>all persion can create new branch with a specified prefix, such as a prefix called ""bug"", will allow all persion create branches
called bug001, bug123...</li>
</ol>

<p>I don't know if I missunderstanded the usage of ""git"", or maybe I should actualize this access rules via ""repo"", not branch?</p>

<p>Look forward to someone can answer my question eagerly, any solution will be ok, such as gitolite, Thanks!</p>
","0","2621679","0"
"21388511","2621216","2014-01-27 18:17:41","1","1461","<linux><centos><gitolite><selinux><gitweb>","How to get Gitweb working with SELinux (on CentOS 6.5, with gitolite v3)","<p>I have installed gitolite and gitweb according to the tutorial in this <a href=""http://monkeyswithbuttons.wordpress.com/2013/02/07/gitolite-git-daemon-gitweb-on-centos-6/"" rel=""nofollow"">blog post</a>. The whole thing runs really good. I am able to clone and commit to the server.</p>

<p>However, Gitweb shows no project with the error code <code>404 - No projects found</code>. I discovered that SELinux denied gitweb.cgi from accessing some files. Gitweb is able to show the repositories only after putting SELinux into permissive mode.</p>

<pre><code># setenforce 0
</code></pre>

<p>I have already tried many solutions from a few sites, but I found none of them work for me. For example, I have tried the solution introduced in this <a href=""http://www.jpsaman.org/node/27"" rel=""nofollow"">blog post</a>.</p>

<pre><code># semanage fcontext -a -t httpd_sys_content_t /var/lib/gitolite/projects.list
# restorecon -v /var/lib/gitolite/projects.list
</code></pre>

<p>I have the following SELinux log but I really have no ideas what to do with it. I have already messing with this problem for a whole day, any suggestions are appreciated. Thanks in advance</p>

<pre><code>type=AVC msg=audit(1390845123.601:280): avc:  denied  { rlimitinh } for  pid=2049 comm=""gitweb.cgi"" scontext=unconfined_u:system_r:httpd_t:s0 tcontext=unconfined_u:system_r:httpd_git_script_t:s0 tclass=process
type=AVC msg=audit(1390845123.601:280): avc:  denied  { siginh } for  pid=2049 comm=""gitweb.cgi"" scontext=unconfined_u:system_r:httpd_t:s0 tcontext=unconfined_u:system_r:httpd_git_script_t:s0 tclass=process
type=AVC msg=audit(1390845123.601:280): avc:  denied  { noatsecure } for  pid=2049 comm=""gitweb.cgi"" scontext=unconfined_u:system_r:httpd_t:s0 tcontext=unconfined_u:system_r:httpd_git_script_t:s0 tclass=process
type=SYSCALL msg=audit(1390845123.601:280): arch=40000003 syscall=11 success=yes exit=0 a0=1d554e0 a1=1d52e38 a2=1d52e48 a3=1d532a8 items=0 ppid=1610 pid=2049 auid=500 uid=48 gid=48 euid=48 suid=48 fsuid=48 egid=48 sgid=48 fsgid=48 tty=(none) ses=2 comm=""gitweb.cgi"" exe=""/usr/bin/perl"" subj=unconfined_u:system_r:httpd_git_script_t:s0 key=(null)
type=AVC msg=audit(1390845124.272:281): avc:  denied  { search } for  pid=2049 comm=""gitweb.cgi"" name=""gitolite"" dev=dm-0 ino=658360 scontext=unconfined_u:system_r:httpd_git_script_t:s0 tcontext=system_u:object_r:gitosis_var_lib_t:s0 tclass=dir
type=SYSCALL msg=audit(1390845124.272:281): arch=40000003 syscall=195 success=no exit=-13 a0=9ce0890 a1=98f50c0 a2=996ff4 a3=98f5008 items=0 ppid=1610 pid=2049 auid=500 uid=48 gid=48 euid=48 suid=48 fsuid=48 egid=48 sgid=48 fsgid=48 tty=(none) ses=2 comm=""gitweb.cgi"" exe=""/usr/bin/perl"" subj=unconfined_u:system_r:httpd_git_script_t:s0 key=(null)
type=AVC msg=audit(1390845124.273:282): avc:  denied  { search } for  pid=2049 comm=""gitweb.cgi"" name=""gitolite"" dev=dm-0 ino=658360 scontext=unconfined_u:system_r:httpd_git_script_t:s0 tcontext=system_u:object_r:gitosis_var_lib_t:s0 tclass=dir
type=SYSCALL msg=audit(1390845124.273:282): arch=40000003 syscall=195 success=no exit=-13 a0=9ce0890 a1=98f50c0 a2=996ff4 a3=98f5008 items=0 ppid=1610 pid=2049 auid=500 uid=48 gid=48 euid=48 suid=48 fsuid=48 egid=48 sgid=48 fsgid=48 tty=(none) ses=2 comm=""gitweb.cgi"" exe=""/usr/bin/perl"" subj=unconfined_u:system_r:httpd_git_script_t:s0 key=(null)
</code></pre>
","0","2621216","0"
"18850039","776301","2013-09-17 12:35:34","2","272","<git><gitolite>","Serializing git commits and sending them via REST","<p>I have for example 3 machines with same git repo. And I also have DMZs between pairs of machines, DMZ here being internal network without external access, <em>machine B</em> only has access two both DMZs and as such needs to server as conduit between <em>machine A</em> and <em>machine C</em>.</p>

<p>All machines have <em>gitolite</em> installed (for the sake of clarity). I need to bring <em>pull</em> data from machine C to machine A.</p>

<p><img src=""https://i.stack.imgur.com/egS3s.png"" alt=""enter image description here""></p>

<p>My idea is to have machines <strong>B</strong> pull code from <strong>C</strong>, serialize that data and send it via REST to machine <strong>A</strong>.</p>

<p>And somehow I need to use deserialized that to encorporate those commits to machine <strong>A</strong>'s repo. Thous emulating pull from machine <strong>C</strong> to <strong>A</strong> machine. Hope that this makes sense and does anybody have idea how to go about implementing this?</p>
","0","776301","0"
"59371581","476625","2019-12-17 09:52:27","1","499","<git><gitolite>","GIt push dry run and git pull works, but not git push","<p>In the server that I am currently working on, I checkout a branch that I tried to modify. At the moment I am trying to push my change to thisbranch.</p>

<p>After checkout the branch (git checkout myfeature), to check that I am in the correct branch, I do the following.</p>

<pre><code>workdir&gt;git branch
* myfeature
  master
</code></pre>

<p>and after I made a local change, commit it (git commit -m) and try to push it with first dry-run</p>

<pre><code>workdir&gt;git push --dry-run
To http://myurl/myrepo.git
   64344f9c4..54efeffb6  myfeature -&gt; myfeature
</code></pre>

<p>to check the latest status I do the following</p>

<pre><code>workdir&gt;git status
On branch myfeature
Your branch is ahead of 'origin/myfeature' by 1 commit.
  (use ""git push"" to publish your local commits)
</code></pre>

<p>however when I tried to push it, I kept getting this error</p>

<pre><code>workdir&gt;git push
Enumerating objects: 9, done. Counting objects: 100% (9/9), done. Delta compression using up to 8 threads Compressing objects: 100% (5/5), done. Writing objects: 100% (5/5), 542 bytes |
    67.00 KiB/s, done. 
    Total 5 (delta 4), reused 0 (delta 0) 

remote: WARNING: Use of uninitialized value $repo in concatenation (.) or string at /home/gitolite/gitolite-source/src/lib/Gitolite/Conf/Load.pm line 239, 
&lt;DATA&gt; line 1. remote: remote: FATAL: invalid repo '' remote: error: hook declined to update refs/heads/myfeature To http://myurl/myrepo.git  ! [remote rejected]     
myfeature -&gt; myfeature (hook declined)
</code></pre>

<p>I tried to check whether I have access using git pull and it works</p>

<pre><code>git pull

Already up to date.
</code></pre>

<p>I noticed that the error is complaining that the repo is not set (invalid repo ''). However as I have set the remote origin (deleted it, and also tried to readd it) still it complained on the same issue</p>

<pre><code>workdir&gt;git config --get remote.origin.url
http://myurl/myrepo.git
</code></pre>

<p>This does not seem to be a permission error, as I managed to pull the code. 
The Origin and upstream is already set as well (hence I manage to pull).</p>

<p>How can I push to the above branch?</p>
","7","476625",""
"9400474","464811","2012-02-22 18:08:47","6","5588","<git><heroku><gitolite>","heroku + git submodule needs authentication","<p>We are using gitolite to manage our repositories and one of our heroku project's have git submodules. Is there a way to get Heroku's public key for the authentication?</p>

<p>Thanks, David</p>
","1","464811",""
"45589683","6098257","2017-08-09 11:42:22","1","1271","<git><gitolite>","unknown git/gitolite command: 'git upload-pack RepoName'","<p>We are using gitolite on a server and are connecting via SSH. From one day to another we get the following error:</p>

<pre><code>$git pull
FATAL: unknown git/gitolite command: 'git upload-pack 'RepoName''
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>Access Rights did not change. Repository exists. Server is up and running.</p>

<p>Git Version: git version 2.14.0.windows.1</p>

<p>Any Idea what might have happened?</p>
","2","6098257","0"
"10283947","1351716","2012-04-23 15:54:49","18","18121","<git><gitolite>","git, gitolite error push","<p>I just installed gitolite but when I push on the repository gitolite-admin I get an error:</p>

<pre><code>git push
Counting objects: 9, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (7/7), 605 bytes, done.
Total 7 (delta 1), reused 0 (delta 0)
remote: Empty compile time value given to use lib at hooks/update line 6
remote: Use of uninitialized value in require at hooks/update line 7.
remote: Can't locate Gitolite/Hooks/Update.pm in @INC (@INC contains:  /etc/perl /usr/local/lib/perl/5.10.1 /usr/local/share/perl/5.10.1 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .) at hooks/update line 7.
remote: BEGIN failed--compilation aborted at hooks/update line 7.
remote: error: hook declined to update refs/heads/master
To ssh://admin@192.168.0.26/home/admin/repositories/gitolite-admin.git
! [remote rejected] master -&gt; master (hook declined)
error: failed to push some refs to   'ssh://admin@192.168.0.26/home/admin/repositories/gitolite-admin.git'
</code></pre>

<p>I don't know what I must do.</p>

<p>can you help me?</p>

<p>thanks</p>
","0","1351716","0"
"10299966","97595","2012-04-24 14:24:45","1","1119","<git><githooks><gitolite>","With a git hook, how do I force or check user identity?","<p>I'm trying to setup a gitolite server. One problem that I find annoying in git is the username is not checked when committing code.</p>

<p>This can lead to a possible ""identity phishing"" where user1 can commit some bogus code and set user2 as username. Then we'll blame user2.</p>

<p>I'm looking for a way to check or force the username to be consistent with the committer's identity.</p>
","4","97595","0"
"10330678","666906","2012-04-26 09:28:28","25","50467","<gitolite>","gitolite: PTY allocation request failed on channel 0","<p>Both jenkins (the ci-server) and my git repository are hosted on the same server. The git repo is controlled by gitolite. If I access the repository from outside, for instance from my workstation I get</p>

<pre><code>ssh git@arrakis

PTY allocation request failed on channel 0
hello simou, this is git@arrakis running gitolite3 v3.0-12-ge0ed141 on git 1.7.3.4

 R W    testing
Connection to arrakis closed.
</code></pre>

<p>Which is fine I guess (besides the PTY... warning)</p>

<p>Now back to the server, I'd like jenkins to be able to connect to my git repository as well.</p>

<pre><code>jenkins@arrakis:~&gt; ssh git@arrakis
gitolite: PTY allocation request failed on channel 0
</code></pre>

<p>Logging onto arrakis as user git (the gitolite user):</p>

<pre><code>git@arrakis:~&gt; cat ~git/.ssh/authorized_keys

command=""/home/git/gitServer/gitolite/src/gitolite-shell jenkins"",no-port-forwarding,no-x11-forwarding,no-agent-forwarding,no-pty ssh-rsa &lt;PUBLIC-KEY&gt; jenkins@arrakis
</code></pre>

<p>The ""no-pty"" entry made me suspicious, so I removed it from authorized_keys and tried again:</p>

<pre><code>jenkins@arrakis:~&gt; ssh git@arrakis
hello jenkins, this is git@arrakis running gitolite3 v3.0-12-ge0ed141 on git 1.7.3.4

 R W    testing
Connection to arrakis closed.
</code></pre>

<p>This solves my issue at this point, but I'm not sure about the consequences of removing ""no-pty"".</p>

<p>And why does it only affect the local access, since the remote access doesn't seem to be affected at all?</p>

<hr>

<p>openSUSE 11.4 (x86_64)
VERSION = 11.4
CODENAME = Celadon</p>
","0","666906","0"
"10345026","284113","2012-04-27 05:07:27","5","4471","<git><gitolite>","how to configure a migrated git repository in gitolite","<p>I have the gitolite and currently created test repositories and configured user rights and all works fine. </p>

<p>What I want now is I have migrated a cvs repository to git by using git cvsimport. I have the newly migrated repository. How I can configure this repository via gitolite and configure users for this repository?</p>

<p>Kindly guide me in right directions!! </p>
","0","284113","0"
"10349529","284113","2012-04-27 11:08:40","1","1343","<git><gitolite>","Configuring public key of users via gitolite throws error","<p>I have added the public key of a user and pushed to the server.<br>
But while running the <code>gl-setup</code> I have used like <code>/tmp/id_rsa.pub</code> instead of <code>/tmp/rekha.pub</code>.</p>

<p>Now I have altered the file name and then again tried to run the <code>gl-setup</code>.</p>

<p>It shows the message at last like this</p>

<pre><code>rekha.pub maps to user id_rsa, not rekha.
You will not be able to access gitolite with this key.
Look for the 'ssh troubleshooting' link in http://sitaramc.github.com/gitolite/.
</code></pre>

<p>How to solve this problem?</p>
","0","284113","0"
"10719905","880276","2012-05-23 12:26:44","1","1406","<git><ubuntu><passwords><gitolite>","ubuntu server with gitolite password","<p>I am trying to setup gitolite on Ubuntu Server! It seems to work as I could clone gitolite-admin</p>

<p>But when I try to issue the command on the client</p>

<pre><code>git clone gitolite@ubuntu-server:testing
</code></pre>

<p>It ask for a password for gitolite, but my ssh password that I configured on the client is not accepted</p>

<p>Have I done anything wrong somewhere?</p>

<p>I did copy the .pub to the server and ran gl-setup without problems</p>

<p>NB: I am very green with git</p>
","0","880276",""
"10736964","880276","2012-05-24 11:52:27","5","8531","<git><ubuntu><clone><gitolite>","gitolite-admin clone issue","<p>I am going nuts with a problem cloning the gitolite-admin repository.
I have followed this <a href=""http://sitaramc.github.com/gitolite/install.html#migr"" rel=""noreferrer"">http://sitaramc.github.com/gitolite/install.html#migr</a> and it went perfectly.</p>

<p>I ran <code>ssh-keygen -t rsa</code> and <code>scp ~/.ssh/id_rsa.pub morten@ubuntu-server:/tmp/morten.pub</code></p>

<p>authorized_keys on the server looks like this:</p>

<pre><code># gitolite start
command=""/home/morten/gitolite/src/gitolite-shell morten"",no-port-forwarding,no-X11-forwarding,no-agent-forward$
# gitolite end
</code></pre>

<p>Which AFAIK is okay.</p>

<p>When I run <code>git clone morten@ubuntu-server:gitolite-admin</code> on my client, I get</p>

<pre><code>fatal: 'gitolite-admin' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I have no idea what I missed!</p>
","0","880276","0"
"28687439","391161","2015-02-24 02:56:56","2","111","<gitolite>","Is it possible to modify git config options for wild respos without manually editing the gitolite.conf file?","<p>Suppose I have pushed to and configured the wild repo <code>foo/bar</code>. </p>

<p>If I want to add a mailing list option to this repo, one way is to add the following to my gitolite.conf file.</p>

<pre><code>repo foo/ba[r]
    config hooks.mailinglist = foo@bar.com
</code></pre>

<p>However, this requires that I have access to the <code>gitolite.conf</code> which is part of <code>gitolite-admin</code> repository. </p>

<p>Is there any way an ordinary user could make this modification, without access to the admin configuration file?</p>

<p>Note that I have already perused the <a href=""http://gitolite.com/gitolite/gitolite.html"" rel=""nofollow"">documentation</a> to no avail.</p>
","0","391161","0"
"64500781","10645980","2020-10-23 13:17:02","0","65","<gitolite>","How to apply changes of the repository permissions in gitolite?","<p>write access was added in gitolite.conf By push is error &quot;DENIED by fallthru&lt;&gt;(or you mis-spelled the reponame)&quot;</p>
","1","10645980","0"
"10429201","1372108","2012-05-03 10:06:35","17","38815","<git><gitolite><git-push>","git push origin DENIED by fallthru, hook declined: gitolite","<p>I am having a problem pushing with <code>git</code> using Gitolite.<br>
When I try this: </p>

<pre><code>git push origin :refs/tags/deployment
</code></pre>

<p>I get this error: </p>

<pre><code>remote: D NAME/install.py repos michael DENIED by fallthru
remote: error: hook declined to update refs/tags/deployment
To gitolite@admin:repos
 ! [remote rejected] deployment (hook declined)
error: failed to push some refs to 'gitolite@admin:repos'
</code></pre>

<p>I have given the group <strong><code>deploy</code></strong> [of which the user <strong><code>michael</code></strong> is a member of] permission to delete branches in the Gitolite config: </p>

<pre><code>@deply  =   michael

repo  repos

        RWD    =   @deply
</code></pre>

<p>I have seen this post: ""<a href=""https://stackoverflow.com/questions/9121005/unable-to-push-in-git-why"">Unable to push in Git. Why?</a>""</p>

<p>But I am not using any hooks that I am aware of and cannot find anything thing else that might relate. </p>

<p>Is there something im missing perhaps?<br>
Has anybody come across this?</p>
","7","1372108","0"
"10852622","507783","2012-06-01 14:55:42","1","284","<git><gitolite>","Moving to gitolite missing some branches","<p>I've created a new empty gitolite repo into which I want to push a snapshot (on my workstation) of my original git repo.  I followed the instructions to do <code>git push --all</code> followed by <code>git push --tags</code>.  This seemed to work great, but I find that some branch references didn't get pushed.  Running <code>git show-ref</code> on my workstation shows a number of refs of the sort <code>refs/remotes/origin/branchXyz</code>, but doing <code>git show-ref</code> directly on the gitolite repo doesn't show this branch name at all (I expected to see it appear as <code>refs/heads/branchXyz</code>.  How can I push the remaining branches?</p>

<p>Thanks! </p>
","0","507783",""
"10888300","2622924","2012-06-04 21:01:35","141","77615","<git><gitosis><gitolite>","gitosis vs gitolite?","<p>I am looking for installing a git server to share projects with my team. I don't want to create a user account on the server with SSH access for each developer that needs a git access.
It seems there is two concurrent solutions that cover this issue : gitosis &amp; gitolite.</p>

<p>I could not find any comparison between both solutions. What are the main differences between them? Are there other similar solution?</p>
","0","2622924","0"
"10906633","1805129","2012-06-06 00:01:39","8","12261","<gitolite>","users are asked for password while using gitolite","<p>I have successfully created <code>gitolite-admin.git</code> repo on server (say) <code>10.107.105.13</code>. I can clone this repo on my local machine (say) <code>10.14.42.7</code> by issuing <code>git clone gitolite@10.107.105.13:gitolite-admin</code>. I had to add some lines in <code>.ssh/config</code> file to make sure that correct private key is used.</p>

<p>Then I have added a user <code>dilawar</code> to <code>conf/gitolite.conf</code> file and a appropriate key <code>dilawar.pub</code> to <code>keys</code> folder. I have added and commited this commit to the <code>gitolite-admin</code> repo. I have also added one more entry in <code>.ssh/conf</code> file so that a correct private key is used. But when I try to do <code>git clone dilawar@10.107.105.13:testing</code>, gitolite asks for the password. I am under the impression that I do not have to create user dilawar on 10.107.105.13. I have checked by logging into server that repository testing.git exists as well public-key <code>dilawar.pub</code> has been added to <code>.ssh/authorized_keys</code>. </p>

<p>I have also tried <code>ssh -vvvv dilawar@10.107.105.13</code> to check if the correct file is being offered. Here is my <code>.ssh/conf</code> file.</p>

<pre><code>HostName 10.107.105.13 
    User gitolite
    IdentityFile ~/.ssh/gitolite

Host 10.107.105.13
    HostName 10.107.105.13 
    User dilawar 
    IdentityFile ~/.ssh/id_rsa
</code></pre>

<p>What I am doing wrong?</p>
","0","1805129","0"
"10916871","1205620","2012-06-06 15:00:51","2","548","<git><diff><hook><gitolite>","How to get a git diff for a file in a pre-receive hook between the current HEAD and the newest file from the push?","<p>How do I get a <code>git diff</code> in a pre-receive hook between A and B?</p>

<ul>
<li>A. (newest version of <code>somefile.ext</code> as viewed in) current HEAD on server</li>
<li>B. (newest version of <code>somefile.ext</code> as viewed in) received tree from pre-receive hook</li>
</ul>

<p>I need this, because when some files change (on a Gitolite server), we like to be notified and see the difference between A and B by e-mail.</p>

<p>Environment: Ubuntu server 11 + Gitolite + pre-receive hook</p>
","0","1205620",""
"10918225","1260229","2012-06-06 16:24:50","1","453","<git><configuration><authorization><gitolite>","How to make branches readonly in gitolite2?","<p>How can I declare branches readonly in gitolite v2?</p>

<p>My current configuration is:</p>

<pre><code>@group1 = user1 user2
@group2 = user3

repo xxx
    R          = @group1  # should make everything readonly per default
    RW  fix    = @group1  # this can be pushed and created
    RW+        = @group2  # for the admin
</code></pre>

<p>But everyone can push everywhere.</p>

<hr>

<p>2 more cases - as user2 I am locked out here (what is correct):</p>

<pre><code>repo xxx
    R          = @group1  # should make everything readonly per default
    RW+        = @group2  # for the admin
</code></pre>

<p>Now I can push <em>master</em>, which shouldn't be:</p>

<pre><code>repo xxx
    R          = @group1  # should make everything readonly per default
    RW  fix    = @group1  # this can be pushed and created
    RW+        = @group2  # for the admin
</code></pre>

<p>I replaced <em>fix</em> with <em>^refs/heads/fix</em> but that changes nothing.</p>
","9","1260229","0"
"29185733","620333","2015-03-21 17:26:28","1","1769","<git><ubuntu><gitolite><gitweb>","gitweb reports ""404 - No projects found"" on Ubuntu 14.04.2","<p>I've looked through a bunch of other Qs &amp; As here and haven't been able to figure this out yet...</p>

<p>Using Ubuntu 14.04.2, I have git + gitolite + gitweb right out of <code>apt-get</code>.</p>

<p>When I access /gitweb with by browser, it's running but it says <code>404 - No projects found</code>.</p>

<p>I moved the gitweb conf file from <code>/etc/apache2/conf.d</code> to the newer <code>/etc/apache2/conf-available</code> with symlink in conf-enabled, made the minor change to add + in front of FollowSymLinks.</p>

<p><strong>/etc/apache2/conf-available/gitweb.conf</strong>:</p>

<pre><code>Alias /gitweb /usr/share/gitweb

&lt;Directory /usr/share/gitweb&gt;
  Options +FollowSymLinks +ExecCGI
  AddHandler cgi-script .cgi
&lt;/Directory&gt;
</code></pre>

<p><strong>/etc/gitweb.conf</strong>:</p>

<pre><code>&lt;snip&gt;
$projectroot = ""/home/git/repositories/"";
&lt;snip&gt;
$projects_list = ""/home/git/projects.list"";
&lt;snip&gt;
</code></pre>

<p><strong>gitolite.conf</strong>:</p>

<pre><code>repo    gitolite-admin
        RW+     =   tyrel

repo    testing
        RW+     =   @all

repo    myrepo
        RW+     =   tyrel
        R       =   gitweb daemon
</code></pre>

<p>gitolite us running as user git with group git. www-data is in the group git. </p>

<pre><code>/home/git$ ls -l
total 8
-rw-r----- 1 git git   16 Mar 21 09:50 projects.list
drwxr----- 5 git git 4096 Mar 19 22:04 repositories
</code></pre>

<p><strong>.gitolite.rc</strong>:</p>

<pre><code>&lt;snip&gt;
$WEB_INTERFACE = ""gitweb"";
$REPO_UMASK = 0027;
&lt;snip&gt;
</code></pre>

<p><strong>projects.list</strong>:</p>

<pre><code>myrepo
</code></pre>

<p>And what's in the repositories:</p>

<pre><code>/home/git$ sudo ls -l repositories
total 12
drwxr----- 7 git git 4096 Mar 21 09:50 myrepo.git
drwxr----- 8 git git 4096 Mar 21 09:50 gitolite-admin.git
drwxr----- 7 git git 4096 Mar 21 09:50 testing.git
</code></pre>

<p>What am I missing?</p>

<p>Thanks in advance for your help!</p>
","0","620333","0"
"11292959","865334","2012-07-02 11:42:58","2","265","<git><gitolite><dhcp>","Central git server in a DHCP network","<p>I have a linux (debian) computer and a mac (10.4) connected through a dhcp router. Now I installed gitolite on the linux box to have a central git repository. My problem now is that I'll always have a different IP when I start the linux computer and I cannot configure the router to give the computers in the network fixed IPs. So my question is: What would be the best way to work with that? Is it possible to define the current linux box IP in /etc/hosts under a domain name? Or should I enter the IPs to push the changes to manually each time? Or do you know any other solutions? </p>
","0","865334","0"
"11310356","801042","2012-07-03 11:54:45","2","756","<git><permissions><hook><gitolite>","Gitolite post-receive hook not executable anymore after each gitolite-admin push","<p>I can't find <em>any</em> posts/articles on how to do this properly -- usually that means you're using it wrong, so I thought I'd ask here to check :)</p>

<p>I'm using Gitolite and it's working perfectly. I've implemented a common post-receive hook to be notified when one of my team members pushes a new commit, which I activated for their repos. The problem I'm having is, after each push (regardless of if the hook has changed or not) the file is overwritten with and gets the following permissions:</p>

<pre><code>rwel@ve-git:~$ ls -la /home/git/.gitolite/hooks/common/
total 36
drwxr-xr-x 2 git git  4096 Jul  3 13:23 .
drwxr-xr-x 4 git git  4096 May  1 15:41 ..
-rw------- 1 git git 21002 Jul  3 13:23 post-receive
-rwxr-xr-x 1 git git   308 May 15 16:24 update
</code></pre>

<p>So, each time I do a <code>gitolite-admin rwel$ git push origin</code>, I then have to logon to the git server and manually do <code>sudo chmod a+x /home/git/.gitolite/hooks/common/post-receive</code>.</p>

<p>Is there a better way to do this?</p>
","8","801042","0"
"30895669","2639801","2015-06-17 15:15:32","1","1312","<git><gitolite>","How to check permission for other users in gitolite?","<p>I found a link to documentation which says the ssh info command can be used to look at permissions for other users, but I havent been able to get it to work. </p>

<p><a href=""http://gitolite.com/gitolite/g2/info_expand.html"" rel=""nofollow"">http://gitolite.com/gitolite/g2/info_expand.html</a></p>

<p>What am I doing wrong?</p>

<pre><code>$ ssh git@ahp0625 info git &lt;user&gt;

Usage:  gitolite info [-lc] [-ld] [-json] [&lt;repo name pattern&gt;]

List all existing repos you can access, as well as repo name patterns you can
create repos from (if any).

    '-lc'       lists creators as an additional field at the end.
    '-ld'       lists description as an additional field at the end.
    '-json'     produce JSON output instead of normal output
</code></pre>

<p>The optional pattern is an unanchored regex that will limit the repos
searched, in both cases.  It might speed up things a little if you have more
than a few thousand repos.</p>
","1","2639801","0"
"13402799","971392","2012-11-15 17:18:12","0","131","<git><version-control><gitolite><gitosis>","Is setuping gitosis, or similar tools, really worth it?","<p>Just as the title says, is it worth it going for a <code>gitosis</code> or <code>gitolite</code> setup instead of a simple <code>git</code> server setup?</p>

<p>Or, will it have any benefits in the future when I'll have more people pushing commits to that server?</p>
","5","971392","0"
"39825132","6913843","2016-10-03 05:35:37","1","451","<git><gitolite>","GIT Issue where git clone asks for password","<p>I have generated ssh key and PUB key placed in keydir of the gitoliteèadmin repo.<br>
When I clone the Repo to my local it asks for password.<br>
Already existing users are able to clone the Repo. </p>

<p><code>Authorised_keys</code> file is not getting updated when changes done in <code>keydir</code>.<br>
As push at <code>keydir</code> shows everything up to date.</p>

<p>How to make <code>authorised_keys</code> (under <code>~git/.ssh</code>) file to update automatically as earlier?<br>
It should trigger automatically when we update PUB key under keydir.</p>
","0","6913843","0"
"20847361","961712","2013-12-30 20:52:24","1","142","<git><amazon-web-services><ssh><gitolite>","converting from git to gitolite: do I change the repo's url?","<p>I'm guessing this is obvious once you know it but I've been trying to grok how gitolite can intercept git requests and decide that such-and-such a user can't change branch-X...since the client's git url doesn't change.</p>

<p>From reading <a href=""http://gitolite.com/gitolite/how.html#(5)"" rel=""nofollow"">http://gitolite.com/gitolite/how.html#(5)</a> it seems that gitolite does all its work between the server's sshd and the git deamon on the server.</p>

<p>So gitolite is a set of git hooks running on the server running pre-receive to see if the command is allowed?</p>

<p>My other question is about the user part of the git url.</p>

<p>Our git server lives on an AWS instance running ubuntu and we're accessing it via <code>""ubuntu@myGitServer:/pathToRepo""</code>.  We've put our AWS key in .ssh/id_dsa on all our machines to satisfy both git and AWS security.</p>

<p>To support the conversion to gitolite we're creating per-user ssh keys that we'll add to gitolite (and presumably to the AWS Key-Pairs list)...but would we still use the ubuntu user in the git url?</p>
","0","961712","0"
"13275420","268847","2012-11-07 17:57:37","1","346","<git-branch><gitolite>","Can gitolite prevent branch deletes?","<p>Is it possible to set up gitolite acls to allow a user to read, write, and push, but not to delete branches?</p>
","0","268847","0"
"21091249","1414448","2014-01-13 12:24:28","1","250","<git><branch><prefix><access-control><gitolite>","branch name with same prefix will have same access control in gitolite","<p>I wrote <code>gitolite.conf</code> file:</p>

<pre><code>repo Lib
   RW+     = git
   RW  dev = fabby
   RW  develop = fabby
   RW  dev_tele = fabby
</code></pre>

<ol>
<li><code>fabby</code> can not only make changes on <code>dev</code>, <code>develop</code> and <code>dev_tele</code>,</li>
<li>but can also on branches with <code>dev</code> prefix like <code>dev1</code>, <code>dev_1</code>, <code>devdd</code> or <code>dev_drv</code>...</li>
<li><code>fabby</code> can not make changes on branches with <code>dev</code> postfix like <code>mdev</code></li>
</ol>

<p>so how can I edit <code>gitolite.conf</code> file, and make <code>fabby</code> only have write access control on branch <code>dev</code>, <code>develop</code> and <code>dev_tele</code>?</p>
","0","1414448","0"
"13311258","745236","2012-11-09 15:47:00","4","3316","<git><gitolite>","gitweb and gitolite cannot add new repo","<p>I installed gitolite first, and added some user and some repos, everything was fine. I then added gitweb, and could see repos through apache instance (just gitweb, no gitdaemon). The problem now comes in that I cannot add new repositories any more. Every time I pushed a change of gitolite-admin conf file, there were always 2 lines shown up in the log</p>

<pre><code>remote: FATAL: git config 'gitweb.description' not allowed
remote: check GIT_CONFIG_KEYS in the rc file
</code></pre>

<p>Despite these 2 annoying lines, the conf file is indeed changed every time. I tried to stop apache instance, but still no luck :-(</p>

<p>I googled and cannot find any similar match to discuss this issue. Anyone can help? Thanks a lot!</p>
","3","745236","0"
"13318715","1813844","2012-11-10 02:39:57","13","8776","<ssh><gitolite>","How do programs like gitolite work?","<p>I am curious as to how programs such as gitolite work -- specifically how do they interact with the SSH protocol to provide a tailored experience. Can somebody provide an example of how I might accomplish something like the following and where I might learn more about this topic?</p>

<pre><code>→ ssh git@github.com
PTY allocation request failed on channel 0
Hi &lt;username&gt;! You've successfully authenticated, but GitHub does not provide shell access.
Connection to github.com closed.
</code></pre>

<p>A side question: my primary language is JavaScript. Is it possible to accomplish what I want with NodeJS?</p>
","3","1813844","0"
"13870607","1392862","2012-12-13 23:51:13","5","1364","<git><gitolite>","using gitolite VREFs for update hook","<p>I am trying to migrate from v2 to v3 of gitolite. The old way of doing a server-side commit message check was to put the check in a repo specific hook in myrepo.git/hooks/update.secondary</p>

<p>In v3 of gitolite, they advise the check to be put in a VREF. The documentation is a little confusing and I am hoping for clarification.</p>

<p>I have added the following in /home/git/.gitolite.rc </p>

<pre><code>LOCAL_CODE                  =&gt; ""$ENV{HOME}/.gitolite/our_hooks"",
</code></pre>

<p>In my our_hooks directory, I created a VREF folder and put my old update.secondary script in there. In my gitolite-admin/conf/gitolite.conf file, I added the following to the repository I want the script to execute on:</p>

<pre><code>repo myrepo
  RW = @my_developers
  - VREF/update.secondary = @my_developers
</code></pre>

<p>When I try to push, I get a notice that the VREF/update.secondary can not be found. If I change to </p>

<pre><code>repo myrepo
  RW = @my_developers
  - /home/git/.gitolite/our_hooks/VREF/update.secondary = @my_developers
</code></pre>

<p>I don't get any complaints but the hook doesn't appear to run at all.</p>

<p>Am I missing the boat on how to get an additional update check to run using gitolite?</p>
","0","1392862","0"
"48116221","1439305","2018-01-02 19:58:42","2","137","<git><gitolite>","Git asks for non-existing path bash: /usr/share/gitolite/gl-auth-command","<p>The command git that always worked well started to ask for the non-existing path:</p>

<pre><code>$ git pull origin master
Enter passphrase for key '/home/xxxxx/.ssh/xxxxxxxx_rsa': 
bash: /usr/share/gitolite/gl-auth-command: No such file or directory
fatal: Could not read from remote repository.
Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>The path, indeed, is missing on both server and workstation side and I even cannot understand which side (server or workstation) is responsible for the problem. How to get the git working again? </p>

<p>The passphrase protected key and the authentication itself seems ok as it is possible to use them for ssh login.</p>
","0","1439305",""
"21362833","946226","2014-01-26 11:33:03","2","172","<git><branch><gitolite>","git: on the server, divert pushes to one branch to another","<p>I’d like to set up my git server so that any pushes to, say, <code>master</code> are turned into pushes to <code>master-unchecked</code>; obviously to then run something server-side that verifies that the changes are ok, before moving them to <code>master</code> (bypassing the diversion locally).</p>
<p>Is that possible using, some of the git server management tools like gitolite, gitosis or gitano?</p>
<p>Note that I’d like to avoid the developers to manually have to run <code>git push origin master:master-unchecked</code>.</p>
","0","946226","0"
"13934104","1534792","2012-12-18 13:30:07","2","199","<git><gitolite>","Merging two repos with gitolite","<p>I need to merge two repos using Gitolite, I recall seeing some instructions somewhere but can't find them.</p>

<p>Should the combining (merging) be done in Gitolite or on another machine?</p>
","0","1534792","0"
"13949093","769384","2012-12-19 09:22:55","5","6185","<git><rename><git-branch><gitolite>","git change default branch (gitolite)","<p>I've got a repository with branches: master and devel. Master is the default one. I want to rename master into prod and make it default (and push it to the server). How to do this?</p>

<p>Repository is hosted in gitolite (if it matters).</p>
","0","769384","0"
"11214264","295257","2012-06-26 19:03:57","4","514","<git><gitolite><cgit>","gitolite run hook on 'wild' repository creation","<p>I need to run a script that will generate the projects.list file when a new repository is created by one the members of my team. </p>

<p>We develop firmware that branch off from a 'master', but the branches will never be merged back into master. Since there will never be a merge back I decided to make repositories for every distinct version of firmware. I have developed a bash script that will create the projects.list file for me.</p>

<pre><code>find repositories/ -iname ""*.git"" -type d | grep --invert-match ""gitolite-admin"" | sed 's/repositories\///g' &gt; /srv/git/projects.list
</code></pre>

<p>Now I am having trouble creating the hook to call that script.</p>

<p>I have tried getting gitolite to generate the file for me but have had no luck with it. Any help is appreciated. Thanks!</p>

<p><strong>Answer</strong></p>

<p>In config/gitolite.conf I made the repo def look like this:</p>

<pre><code>repo    Firmware/[a-zA-Z0-9].*/[a-zA-Z0-9].*
        C       =   @all
        RW+     =   @all
        R = gitweb
        config gitweb.owner = Repo Manager
</code></pre>
","0","295257","0"
"11731659","119511","2012-07-31 00:46:42","2","1223","<git><redmine><gitolite>","Cannot clone/commit git repository through gitolite/Redmine","<p>I am trying to setup Redmine with gitolite and used this guide <a href=""http://nsaunders.wordpress.com/2012/04/24/redmine-gitolite-integration/"" rel=""nofollow"">http://nsaunders.wordpress.com/2012/04/24/redmine-gitolite-integration/</a></p>

<p>Everything seems to be working fine, the repository is created through Redmine (I see the repository under gitolite/repositories). However, when I try to initialize the repository with the following commands, I keep getting the same error message</p>

<pre><code>mkdir nwi
cd nwi
git init
touch readme.txt
git add readme.txt
git commit -m 'Initializing T repository'
git remote add origin gitolite@localhost:nwi.git
git push -u origin master

Permission denied (publickey).
fatal: The remote end hung up unexpectedly
</code></pre>

<p>The public key for the user is in the autohorized_keys for gitolite. The user is in gitolite.conf for the repository that I am trying to commit to. I am new to git, tried one thousand things and could not get it to work. What can be wrong?</p>
","0","119511",""
"11767366","1569576","2012-08-01 20:48:52","16","30946","<git><ssh><gitolite><gitlab>","GitLab requires git@localhost password to push to a repo","<p>I'm trying to get GitLab up and running on my server. I followed the installation instructions at the gitlab github page and everything went well.</p>

<p>The issue is, when I create a repo and try to</p>

<pre><code>sudo git push -u origin master
</code></pre>

<p>I am prompted for 'git@localhost's password: '</p>

<p>The git user doesn't have a password, so this is a problem.</p>

<p>Other people who have run into this problem suggested adding git to AllowedUsers in my sshd conf but I don't have an AllowedUsers field in there, so that doesn't seem to be an issue.</p>

<p>I'm still pretty new to ssh stuff so I believe its some sort of ssh key issue, though I tried to add all relevant ssh keys to /home/git/.ssh/authorized_keys and verified that there are no line breaks in the file.</p>

<p>Just FYI, my install completely passes the test provided in the gitlab wiki:</p>

<pre><code>sudo -u gitlab bundle exec rake gitlab:app:status RAILS_ENV=production
</code></pre>

<p>Any suggestions much appreciated!</p>

<p>EDIT</p>

<p>So, I finally got around this by just committing to a repo from a different machine.  As it was, I was SSHed into the same machine that gitlab was running on.  As soon as I tried to commit from a machine other than the host, it worked great.  So, that may be a solution for some people (it is for us, since we develop on seperate machines than our servers).  </p>

<p>This is still an open-ended issue for anyone trying to host and develop on the same machine who has run into this.  </p>
","2","1569576","0"
"11882552","685107","2012-08-09 11:37:45","1","537","<ssh><gitolite>","Cannot push into gitolite-admin repo","<p>When I try to push, gitolite says</p>

<pre><code>Counting objects: 7, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 339 bytes, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: 
remote:         ***** ABORTING *****
remote:         bad username me,
To ssh://git@githost-adm/gitolite-admin
   32cfc9f..41ee58f  master -&gt; master
</code></pre>

<p>githost-adm described in my ~/.ssh/config as</p>

<pre><code>Host githost-adm
HostName real.hostname.com
User git
IdentityFile ~/.ssh/gitolite-admin
</code></pre>

<p>Private keys are loaded in ssh-agent, so this enables ssh to use specific identity key when i want to connect to gitolite-admin repo.  There is similar ssh alias githost-as-me containing another identity file for connecting to other repos.</p>

<p>sshd log seems to prove that pubkey was accepted</p>

<pre><code>Accepted publickey for git from real.hostname.ip port 38916 ssh2
</code></pre>

<p>So it’s probably somewhere inside of gitolite where the error hides.</p>
","1","685107",""
"11899405","17443","2012-08-10 10:02:08","6","4478","<git><gitolite><gitlab>","gitolite disallow access for directory on master branch but not on user branch","<p>Consider the following repo:</p>

<p>REPO/src/A/</p>

<p>REPO/src/B/</p>

<p>Is it possible by having only 1 repo to implement the following restrictions?</p>

<ol>
<li>On master branch, allow full access to maintainers role</li>
<li>On master branch, disallow access to A but allow for B to contributors role.</li>
<li>On personal branches, allow full access to A and B to creators.</li>
</ol>
","1","17443","0"
"29554723","4476636","2015-04-10 06:24:08","1","21","<git><gitolite>","How to know which hook are implemented in gitolite & git server?","<p>Is there any way to know which hooks are implemented on my repository if I am a normal git (gitolite) user.<br>
For example : Developer.</p>
","0","4476636","0"
"29624366","4476636","2015-04-14 09:57:09","1","78","<linux><rhel><gitolite>","i am unable to delete user in linux .i created for gitolite installation","<p>I am unable to delete user in linux RHEL Santiuago 
userdel -r admin</p>

<p>The error message is below 
userdel: /home/admin not owned by admin, not removing.</p>

<p>What to do...?</p>
","0","4476636","0"
"12041578","1029598","2012-08-20 16:36:34","1","5895","<gitolite>","gitweb 404 - No projects found","<p>I installed git + gitolite + git-daemon + gitweb setup on Ubuntu 12.04 server.
The problem is I getting always 404 - No projects found. 
I added a user called git and configured gitolite. After installing git-web added user www-data to gitolite and set chmod of project.list to g+r and repositories directory to g+rx.</p>

<pre><code>git@aranox~$ ls -al
total 44
drwxr-xr-x  6 git  git  4096 Aug 20 16:47 .
drwxr-xr-x 18 root root 4096 Aug 13 19:44 ..
-rw-------  1 git  git  1348 Aug 20 16:48 .bash_history
drwx------  2 git  git  4096 Aug 19 16:38 .cache
drwx------  8 git  git  4096 Aug 19 16:30 .gitolite
-rw-r--r--  1 git  git  4217 Aug 20 16:03 .gitolite.rc
-rw-r-----  1 git  git     0 Aug 20 16:05 projects.list
drwxr-x---  5 git  git  4096 Aug 19 16:49 repositories
drwx------  2 git  git  4096 Aug 20 16:05 .ssh
-rw-------  1 git  git   887 Aug 20 16:03 .viminfo
</code></pre>

<p>Now I changed $REPO_UMASK in my .gitolite.rc to 0077
Here my .gitolite.rc</p>

<pre><code># configuration variables for gitolite

# PLEASE READ THE DOCUMENTATION BEFORE EDITING OR ASKING QUESTIONS
# ( http://github.com/sitaramc/gitolite/blob/pu/doc/gitolite.rc.mkd )
#   ( or http://sitaramc.github.com/gitolite/doc/gitolite.rc.html )

# this file is in perl syntax.  However, you do NOT need to know perl to edit
# it; it should be fairly self-explanatory and easy to maintain

# ------------------------------------------------------------------------------
# DO NOT TOUCH THIS SECTION!
# ------------------------------------------------------------------------------

$GL_ADMINDIR=$ENV{HOME} . ""/.gitolite"";
$GL_CONF=""$GL_ADMINDIR/conf/gitolite.conf"";
$GL_KEYDIR=""$GL_ADMINDIR/keydir"";
$GL_CONF_COMPILED=""$GL_ADMINDIR/conf/gitolite.conf-compiled.pm"";

# DO NOT CHANGE THE NEXT FOUR LINES UNLESS YOU REALLY KNOW WHAT YOU'RE DOING.
# These variables are set automatically by the install method you choose.
#            (PACKAGE MAINTAINERS: PLEASE READ doc/packaging.mkd)
$GL_PACKAGE_CONF = ""/usr/share/gitolite/conf"";
$GL_PACKAGE_HOOKS = ""/usr/share/gitolite/hooks"";

# ------------------------------------------------------------------------------
# most often used/changed variables
# ------------------------------------------------------------------------------
$GL_WILDREPOS = 0;
$PROJECTS_LIST = $ENV{HOME} . ""/projects.list"";
# $WEB_INTERFACE = ""gitweb"";
# $GITWEB_URI_ESCAPE = 0;
$REPO_UMASK = 0027;

# ------------------------------------------------------------------------------
# variables with an efficiency/performance impact
# ------------------------------------------------------------------------------
$GL_BIG_CONFIG = 0;
$GL_NO_DAEMON_NO_GITWEB = 0;
# $GL_NICE_VALUE = 0;
# $BIG_INFO_CAP = 20;

# ------------------------------------------------------------------------------
# VARIABLES WITH A SECURITY IMPACT.  READ DOCS BEFORE CHANGING THESE!
# http://github.com/sitaramc/gitolite/blob/pu/doc/gitolite.rc.mkd#_variables_with_a_security_impact
# (or http://sitaramc.github.com/gitolite/doc/gitolite.rc.html#_variables_with_a_security_impact)
# ------------------------------------------------------------------------------
# $GL_ALL_READ_ALL = 0;
$GIT_PATH="""";
$GL_GITCONFIG_KEYS = """";
$GL_NO_CREATE_REPOS = 0;
$GL_NO_SETUP_AUTHKEYS = 0;
# $GL_WILDREPOS_DEFPERMS = 'R @all';
$HTPASSWD_FILE = """";
$RSYNC_BASE = """";
$SVNSERVE = """";

# $UPDATE_CHAINS_TO = ""hooks/update.secondary"";
# $ADMIN_POST_UPDATE_CHAINS_TO = ""hooks/post-update.secondary"";
# $GL_ADC_PATH = """";
# $GL_GET_MEMBERSHIPS_PGM = ""/usr/local/bin/expand-ldap-user-to-groups""
# $GL_HTTP_ANON_USER = ""mob"";
# $GL_REF_OR_FILENAME_PATT=qr(^[0-9a-zA-Z][0-9a-zA-Z._\@/+ :,-]*$);

# ------------------------------------------------------------------------------
# less used/changed variables
# ------------------------------------------------------------------------------
# $GL_ALL_INCLUDES_SPECIAL = 0;
# $GL_SLAVE_MODE = 0;
# $ENV{GL_SLAVES} = 'gitolite@server2 gitolite@server3';
# PLEASE USE SINGLE QUOTES ABOVE, NOT DOUBLE QUOTES
$GL_WILDREPOS_PERM_CATS = ""READERS WRITERS"";
# $GL_SITE_INFO = ""XYZ.COM DEVELOPERS: PLEASE SEE http://xyz.com/gitolite/help first"";
# $GL_HOSTNAME = ""frodo"";       # read doc/mirroring.mkd COMPLETELY before setting this

# ------------------------------------------------------------------------------
# rarely changed variables
# ------------------------------------------------------------------------------
$GL_LOGT=""$GL_ADMINDIR/logs/gitolite-%y-%m.log"";
# $GL_PERFLOGT=""$GL_ADMINDIR/logs/perf-gitolite-%y-%m.log"";

# ------------------------------------------------------------------------------
# variables that should NOT be changed after the install step completes
# ------------------------------------------------------------------------------
$REPO_BASE=""repositories"";

# ------------------------------------------------------------------------------
# DO NOT TOUCH ANY THING AFTER THIS LINE
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# per perl rules, this should be the last line in such a file:
1;

# Local variables:
# mode: perl
# End:
# vim: set syn=perl:
</code></pre>

<p>Next changed the $projectroot and $projects_list of my /etc/gitweb.conf and added some configurations. 
Here my gitweb.conf</p>

<pre><code># path to git projects (&lt;project&gt;.git)
$projectroot = ""/home/git/repositories"";

# directory to use for temp files
$git_temp = ""/tmp"";

# target of the home link on top of all pages
#$home_link = $my_uri || ""/"";

# html text to include at home page
#$home_text = ""indextext.html"";

# file with project list; by default, simply scan the projectroot dir.
$projects_list = ""/home/git/projects.list"";

# stylesheet to use
#@stylesheets = (""static/gitweb.css"");

# javascript code for gitweb
#$javascript = ""static/gitweb.js"";

# logo to use
#$logo = ""static/git-logo.png"";

# the 'favicon'
#$favicon = ""static/git-favicon.png"";

# git-diff-tree(1) options to use for generated patches
#@diff_opts = (""-M"");
@diff_opts = ();


# Enable PATH_INFO so the server can produce URLs of the
# form: http://git.cdwilson.us/project.git/xxx/xxx
# This allows for pretty URLs *within* the Git repository, where
# my Apache rewrite rules are not active.
$feature{'pathinfo'}{'default'} = [1];

$projects_list_description_width = 100;

# Enable blame, pickaxe search, snapshop, search, and grep
# support, but still allow individual projects to turn them off.
# These are features that users can use to interact with your Git trees. They
# consume some CPU whenever a user uses them, so you can turn them off if you
# need to. Note that the 'override' option means that you can override the
# setting on a per-repository basis.
$feature{'blame'}{'default'} = [1];
$feature{'blame'}{'override'} = 1;

$feature{'pickaxe'}{'default'} = [1];
$feature{'pickaxe'}{'override'} = 1;

$feature{'snapshot'}{'default'} = [1];
$feature{'snapshot'}{'override'} = 1;

$feature{'search'}{'default'} = [1];

$feature{'grep'}{'default'} = [1];
$feature{'grep'}{'override'} = 1;

$feature{'show-sizes'}{'default'} = [1];
$feature{'show-sizes'}{'override'} = 1;

$feature{'avatar'}{'default'} = ['gravatar'];
$feature{'avatar'}{'override'} = 1;

$feature{'highlight'}{'default'} = [1];
$feature{'highlight'}{'override'} = 1;
</code></pre>

<p>Finally created a new vhost entry at my apache</p>

<pre><code>&lt;VirtualHost 88.198.64.228:80&gt;
        ServerName git.aranox.de
        ServerAlias www.git.aranox.de
        DocumentRoot /usr/share/gitweb
        ErrorLog /var/log/vhosts/git.aranox.de_error_log
        CustomLog /var/log/vhosts/git.aranox.de_access_log combined
        &lt;Directory /usr/share/gitweb&gt;
                Options +Indexes +ExecCGI +FollowSymLinks
                AllowOverride All
                Order allow,deny
                Allow from all
                AddHandler cgi-script .cgi
                DirectoryIndex gitweb.cgi
                RewriteEngine On
                RewriteCond %{REQUEST_FILENAME} !-f
                RewriteCond %{REQUEST_FILENAME} !-d
                RewriteRule ^.* /index.cgi/$0 [L,PT]
        &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>

<p>I restarted apache2 and a looks fine, but still getting ""No Projects found"" error. I used google and search at stackoverflow, but still not found a solution. Alltime I found that the permission is wrong, but I might it ok like it is.</p>

<p>Thanks for any solution.</p>
","0","1029598","0"
"47713342","3557339","2017-12-08 11:20:21","1","169","<gitolite>","List wild repos I have access to with gitolite","<p>I have installed gitolite and switched on wild repos. With a rule for
    repo    u/CREATOR/\w.*
I can indeed create repos as I expect. But how can I list them to see which ones already exist? With</p>

<pre><code>ssh gitolite@SERVER info
</code></pre>

<p>I only see the ""normal"" repos and a ""C R W"" line for all the wild repos. I don't see any individual wild repos I have already created, and I also don't see any wild repos others have created and given me access to (with setperm). Can I list them all?</p>

<p>(Caveat: I'm using gitolite 2.3.1 because it is the version packed in an rpm. Has this changed in a later version?)</p>
","0","3557339","0"
"12063107","","2012-08-21 21:11:47","1","57","<gitolite>","Including my own scripts in the admin-repo with gitolite","<p>I have some scripts that I call from a common hook of gitolite, I want to manage them from the configuration directories of the admin-repo repository so I can modify them more easily and they will be versioned also.</p>

<p>I have tried by adding a new directory and by tracking it with <code>git add</code>, but it does not work as expected. Maybe gitolite has some way to do this but I have not found any information on how to do such a thing.</p>
","0","","0"
"12576337","363323","2012-09-25 04:48:04","4","8947","<git><gitolite>","gitolite gitlist: Failed to resolve HEAD as a valid ref","<p>I've currently switched to gitolite + gitlist on my private server.
While gitolite works fine, gitlist and also gitweb don't.
While in gitlist i can see the testrepo and my own, gitlist tells me</p>

<pre><code>Oops! fatal: Failed to resolve HEAD as a valid ref.
</code></pre>

<p>The config looks valid...</p>

<pre><code>[git]
client = '/usr/bin/git' ; Your git executable path
repositories = '/var/www/gitolite/repositories/' ; Path to your repositories

; You can hide repositories from GitList, just copy this for each repository you want to hide
; hidden[] = '/var/www/projects/BetaTest'
hidden[] = /var/www/gitolite/repositories/gitolite-admin.git

[app]
debug = false

; If you need to specify custom filetypes for certain extensions, do this here
[filetypes]
; extension = type
; dist = xml
</code></pre>

<p>... and also the repository</p>

<pre><code>drwxr-xr-x   7 git git 4096 Sep 23 11:53 .
drwxr-xr-x   5 git git 4096 Sep 23 00:19 ..
-rwxr-xr-x   1 git git   23 Sep 23 00:19 HEAD
drwxr-xr-x   2 git git 4096 Sep 23 00:19 branches
-rwxr-xr-x   1 git git   66 Sep 23 00:19 config
-rwxr-xr-x   1 git git  386 Sep 24 17:27 gl-conf
drwxr-xr-x   2 git git 4096 Sep 23 00:19 hooks
drwxr-xr-x   2 git git 4096 Sep 23 00:19 info
drwxr-xr-x 109 git git 4096 Sep 25 00:24 objects
drwxr-xr-x   4 git git 4096 Sep 23 00:19 refs
</code></pre>

<p>and the HEAD</p>

<pre><code>cat HEAD
ref: refs/heads/master
</code></pre>

<p>Any Idea?</p>
","5","363323","0"
"12591860","268847","2012-09-25 22:12:46","1","219","<hook><gitolite>","Controlling new gitolite repository names","<p>I want to add a hook to my gitolite installation so that if the <code>conf/gitolite.conf</code> file is pushed and contains a new repository with a name that does not conform to my naming convention, the push will fail. </p>

<p>Can this be done without hacking the gitolite internals?</p>

<p>I am using gitolite 1.5.4.</p>
","0","268847",""
"12616547","1702562","2012-09-27 07:50:34","2","265","<git><gitolite><cgit>","Cgit master branch not available","<p>Problem: 'master' branch is missing in the repo refs list. Using cgit v0.9.0.3 + gitolite.</p>

<p>cgitrc contents:</p>

<pre><code>virtual-root=/cgit/
enable-index-links=1
enable-log-filecount=1
enable-log-linecount=1
snapshots=tar.gz tar.bz zip

repo.group=myrepo
repo.url=myrepo
repo.path=/appdata/git/repositories/myrepo.git
repo.desc=main repo
repo.owner=my@domain.com
</code></pre>

<p>Any ideas?
Thanks!</p>
","0","1702562","0"
"12617672","135785","2012-09-27 08:59:39","8","26834","<git><gitolite>","git clone git@myserver:gitolite-admin fails","<p>I am trying to get an git server repository running.
I did install gitolite </p>

<p>when running git info over ssh the server answers</p>

<pre><code>ssh git@myserver info

hello Brian, this is git@hepide01pep1 running gitolite3  on git 1.6.3.2
R W   testing
</code></pre>

<p>When trying to clone the gitolite-admin repository I get the following error</p>

<pre><code>git clone git@myserver:gitolite-admin

Cloning into 'gitolite-admin'...
FATAL: R any gitolite-admin Brian DENIED by fallthru
(or you mis-spelled the reponame)
fatal: The remote end hung up unexpectedly
</code></pre>

<p>Same thing happens with this syntax</p>

<pre><code>git clone ssh://git@myserver/gitolite-admin 
Cloning into 'gitolite-admin'...
FATAL: R any gitolite-admin Brian DENIED by fallthru
(or you mis-spelled the reponame)
fatal: The remote end hung up unexpectedly
</code></pre>

<p>Cann anybody give me some useful hints? I checked the Answers here and on the web but didn't find anything that helped me any further.</p>
","0","135785","0"
"14065366","1917030","2012-12-28 06:09:22","1","1806","<git><gitolite><jenkins-plugins>","gitolite - git with Jenkins - unable to access","<p>I installed Jenkins as daemon (on mac os x 10.7) and I am using '<code>real-os-user</code>' as JENKINS USER. </p>

<p>I am trying to configure a job with git project (<code>helloworld</code>) but I get the following error:</p>

<pre><code>    Failed to connect to repository : Command ""git ls-remote -h git-server-name:helloworld HEAD"" returned status code 128:
    stdout: 
    stderr: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,keyboard-interactive). 
    fatal: The remote end hung up unexpectedly
</code></pre>

<p>If I run the '<code>git ls-remote -h git-server-name:helloworld HEAD</code>' in terminal window, it works fine. </p>

<p>I printed '<code>env</code>' variables, and I see Jenkins is using '<code>real-os-user</code>'.. </p>

<p>Any ideas are appreciated. Thanks</p>
","1","1917030","0"
"21581945","1290356","2014-02-05 15:53:31","1","305","<git><hook><gitolite>","Can't execute git commands in gitolite post-receive hook","<p>I really can't figure out why this happens.</p>

<p>In my system I got the 'git' user with gitolite. All git repos, users and permissions for the repos work just fine, it seems gitolite is configured okay at least for a basic use.</p>

<p>Now I needed to set up a webserver on the machine with gitolite, I set up apache and, with the git user, I cloned a repo in the www directory so that I could access the files via browser.</p>

<p>No problems at all with the cloning, I also can manually do a <code>git pull</code> and git will pull from the repo.</p>

<p>The issue is when I try to automatically deploy the project to the www directory everytime a user pushes. I wrote a ~/.gitolite/hooks/common/post-receive script and the code is the following:</p>

<pre><code>#!/bin/sh
dir=/var/www/onlinerepo
if [ ! -d $dir ] ; then
        echo ""the directory $dir does not exist""
        exit 1
fi

cd $dir
git pull
touch DONE
</code></pre>

<p>I also did a <code>gl-setup</code> to propagate the script to all the repositories.
When a user pushes, I'm sure the script is executed because I see the /var/www/onlinerepo/DONE file getting written, but no <code>git pull</code> is executed. I tried to see the output of the command doing a git pull >> OUTPUT, but it only creates an empty file.</p>

<p>If I execute the git pull command by command line, or even if I execute the post-receive script manually from command line, I see the usual ""Already up-to-date"" info message.</p>

<p>Am I doing something wrong? I really can't understand why <code>git pull</code> is the only command that fails in the script.</p>
","4","1290356","0"
"40678458","53864","2016-11-18 13:34:11","1","27","<gitolite>","Target specific commit in gitolite rules","<p>I need to forbid pushing of specific commit (by its sha). Is it possible to do with gitolite configuration?</p>

<p>I tried specifying something like</p>

<pre><code>repo    myRepo
        -       794b62a8b1cf4417c8320a261177b43bd5d8331e            = @all
</code></pre>

<p>But it does not work as intended. I guess that VREFs can help here but I din't find much info on that.</p>
","1","53864","0"
"18944673","2096060","2013-09-22 14:04:46","1","111","<git><gitolite><gitweb>","gitolite repo is currupted after push","<p>I'm trying to setup a gitolite server with gitweb as web interface. I've created a new user (named git) and installed gitolite as follows (git was installed previously):</p>

<pre><code>git@server:~$ git clone git://github.com/sitaramc/gitolite
git@server:~$ mkdir /home/git/bin
git@server:~$ gitolite/install -ln
</code></pre>

<p>I've created a RSA key (gitolite_admin.pub) on my PC and uploaded it onto the the server and started the gitolite setup.</p>

<pre><code>git@server:~$ bin/gitolite setup -pk gitolite_admin.pub
</code></pre>

<p>I can see the gitolite-admin repo in gitweb:
<img src=""https://i.stack.imgur.com/hICAH.png"" alt=""before push"">
After the setup on the server I've cloned the gitolite-admin.git repo onto my PC.</p>

<pre><code>git clone ssh://git@server:6565/gitolite-admin.git
</code></pre>

<p>I edited gitolite-admin/conf/gitolite.conf like this:</p>

<pre><code>repo gitolite-admin
    RW+     =   gitolite_admin

repo foo_repo
    RW+     =   gitolite_admin
</code></pre>

<p>commit + push</p>

<pre><code>konze@desktop:gitolite-admin$ git commit -am ""Added foo repo""
konze@desktop:gitolite-admin$ git push
</code></pre>

<p>After I've pushed the repo onto the server I can't see gitolite-admin.git in gitweb
<img src=""https://i.stack.imgur.com/h7Okn.png"" alt=""enter image description here""></p>

<p>The apache error log says this:</p>

<pre><code>[Sun Sep 22 15:58:19 2013] index.cgi:  at /usr/share/gitweb/index.cgi line 2884
fatal: Not a git repository: '/home/git/repositories/gitolite-admin.git'
</code></pre>

<p>What went wrong? I can still access the git repos from my PC.</p>
","4","2096060","0"
"48582214","6195824","2018-02-02 11:58:12","0","211","<git><github><gitlab><gitolite>","git history simulate a merge in history without altering ids or adding virtual commit parent in public branches","<h2>How to add a virtual commit parent without changing commit id of child ?</h2>

<p>Given a git repository (stored in an GitLab-Instance and for some reason on an other server in gitolite - both Servers inhouse) with that structure for public access on GitHub:</p>

<pre><code>o-o-o-o-o-o-o-o-m-o-o-o-o-o-o-o-o-o-o-o-o-  origin Master
         /   \   \F-o-o-o-o-o-o-o           origin feature 
o-o-o-o-o-o-o-O                             origin oldthing 
</code></pre>

<p>There are some documentations about <code>git rebase</code>, <code>git replace</code>, <code>git replace --graft</code>, <code>git commit --amend</code> and <code>GraftPoints</code>: But I am not realy sure about how to use them so that the first commit in <code>feature</code> (<code>F</code>) gets a second parent (i.e.) the last commit in <code>oldthing</code> (<code>O</code>). 
In best case no commit id should change, but it is acceptable if the commit Id for the first commit in `feature' will change.</p>

<p>Any Ideas?</p>
","0","6195824",""
"18998831","308375","2013-09-25 07:31:42","1","602","<ssh><gitolite>","gitolite not working with sshd service","<p>I'm trying to get gitolite to work and have been stuck for hours. CentOS 6 server on my LAN.</p>

<p>I finally got <code>ssh -vvv gitolite</code> to work with this config file</p>

<pre><code>Host gitolite
 User gitolite
 HostName srv
 Port 2002
 IdentityFile ~/.ssh/srv_gitolite_openssh
</code></pre>

<p><strong>BUT</strong> it only works when I do this on the server to debug</p>

<pre><code>sudo service sshd stop
sudo /usr/sbin/sshd -Dd
</code></pre>

<p>When sshd is running as a service, the connection fails.</p>

<p><a href=""http://pastebin.com/UHVS1sSK"" rel=""nofollow"">http://pastebin.com/UHVS1sSK</a></p>

<p>Why does it work when I manually run sshd, but not with sshd as a service? It seems to use the same <code>sshd_config</code> file, because it uses the same port number. Also, my username <code>gitolite</code> is in the <code>AllowUsers</code> part of the config.</p>

<p>The success case looks like this:</p>

<p><a href=""http://pastebin.com/x4TcrG4R"" rel=""nofollow"">http://pastebin.com/x4TcrG4R</a></p>

<p><strong>Update</strong>: Here are the server-side logs</p>

<p>fail as a service: <a href=""http://pastebin.com/Xce2k2x5"" rel=""nofollow"">http://pastebin.com/Xce2k2x5</a></p>

<p>success: <a href=""http://pastebin.com/jYgiDhEm"" rel=""nofollow"">http://pastebin.com/jYgiDhEm</a></p>

<p>highlights from the fail case are below. Shouldn't the ""key_from_blob"" be the same in both cases? I've tried removing the command part of the authorized_keys and it still fails as a service.</p>

<pre><code>debug3: mm_answer_keyallowed entering
debug3: mm_answer_keyallowed: key_from_blob: 0x7f72b6e93350
debug1: temporarily_use_uid: 505/505 (e=0/0)
debug1: trying public key file /var/lib/gitolite/.ssh/authorized_keys
debug1: restore_uid: 0/0
debug1: temporarily_use_uid: 505/505 (e=0/0)
debug1: trying public key file /var/lib/gitolite/.ssh/authorized_keys2
debug1: restore_uid: 0/0
Failed publickey for gitolite from 192.168.1.201 port 57488 ssh2
debug3: mm_answer_keyallowed: key 0x7f72b6e93350 is not allowed
debug3: mm_request_send entering: type 22
</code></pre>

<p>highlights from the success case:</p>

<pre><code>debug3: mm_answer_keyallowed entering
debug3: mm_answer_keyallowed: key_from_blob: 0x7f4d79de18b0
debug1: temporarily_use_uid: 505/505 (e=0/0)
debug1: trying public key file /var/lib/gitolite/.ssh/authorized_keys
debug1: fd 4 clearing O_NONBLOCK
debug3: secure_filename: checking '/var/lib/gitolite/.ssh'
debug3: secure_filename: checking '/var/lib/gitolite'
debug3: secure_filename: terminating check at '/var/lib/gitolite'
debug2: key_type_from_name: unknown key type 'command=""/var/lib/gitolite/bin/gitolite-shell'
debug3: key_read: missing keytype
debug2: user_key_allowed: check options: 'command=""/var/lib/gitolite/bin/gitolite-shell gitolite"",no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAIBrEOo5blAUXXSwXdxUxTOhBDHcjw2OzxGg6Vu4drzmUYL5uPxjWLGzuzcNkrYmlVqXr5UBqeSbkZh9W/0lLMcmiv5FLdIQ+J2m5lqHsEJLS8FImfJxfo2/LvboFy0NFOxF8GaHxeIWFp+YmwAlogO9gi1zgXK99DGc15W/edYwCw==
'
debug1: matching key found: file /var/lib/gitolite/.ssh/authorized_keys, line 2
Found matching RSA key: ae:92:1d:a7:7b:ec:75:7a:19:ac:28:75:b0:cc:27:8f
debug1: restore_uid: 0/0
debug3: mm_answer_keyallowed: key 0x7f4d79de18b0 is allowed
</code></pre>
","1","308375","0"
"59679263","6869190","2020-01-10 09:52:54","2","162","<git><gitolite>","Can't list git repositories in subfolders","<p>I have a gitolit server with the following structure:</p>

<pre><code>/home/user/repository/test.git
/home/user/repository/folder1/a.git
/home/user/repository/folder1/subfolder1/b.git
/home/user/repository/folder2/c.git
</code></pre>

<p>This is just an example, there are several folders and subfolders.</p>

<p>When I want to list all the repositories with the command</p>

<pre><code>ssh git@server info
</code></pre>

<p>I'm only able to list the repository located in the root folder, that is:</p>

<pre><code>/home/user/repository/test.git
</code></pre>

<p>But I can't see all the other ones.</p>

<p>Is there any reason for that?</p>
","0","6869190","0"
"19018582","938363","2013-09-26 02:57:56","1","1678","<git><ubuntu><ssh><gitolite>","Error of setup public key for gitolite on ubuntu 12.04 server","<p>We follow the post (<a href=""http://www.bigfastblog.com/gitolite-installation-step-by-step"" rel=""nofollow"">http://www.bigfastblog.com/gitolite-installation-step-by-step</a>) to install gitolite on ubuntu 12.04 server. When doing /home/git/bin/gitolite setup -pk west_org_selfgen.pub, there is an error:</p>

<pre><code>$/home/git/bin/gitolite setup -pk west_org_selfgen.pub
FATAL: errors found but logfile could not be created
FATAL: /home/git/.gitolite/logs/gitolite-2013-09.log: No such file or directory
FATAL: die      'west_org_selfgen.pub' not a readable file
</code></pre>

<p>There are multiple lines in our public key (west_org_selfgen.pub). We did online search and did not find anyone complaining about this kind of error. Was anyone having the problem before? And how to fix it? Thanks.</p>
","0","938363","0"
"14129341","1107232","2013-01-02 21:19:37","3","4407","<git><gitolite>","git 'failed to read object' and 'unable to find' errors","<p>For some reason I'm getting commit errors suddenly for merges that happend several months ago? Using Gitolite to push to a central server, and git flow extensions locally. The errors are:</p>

<p>git push:</p>

<pre><code>fatal: failed to read object 02a261fad3eae408b04d1941334875d73ddd3f57: Permission denied
error: unpack failed: unpack-objects abnormal exit
</code></pre>

<p>And I can't find that object locally or on the server</p>

<p>git pull:</p>

<pre><code>error: unable to find 379d1971a1037a97919ce37342ee7a60fc611946
error: unable to find 6e41daf37591c88c8dc18f2ecc8761e7d44a0cd9
error: unable to find 0995f5098e0a96f642c6730231d997dd6e074697
</code></pre>

<p>ok how about trying a fresh git clone:</p>

<pre><code>error: unable to find 379d1971a1037a97919ce37342ee7a60fc611946
error: unable to find 6e41daf37591c88c8dc18f2ecc8761e7d44a0cd9
error: unable to find 0995f5098e0a96f642c6730231d997dd6e074697
error: git upload-pack: git-pack-objects died with error.
fatal: git upload-pack: aborting due to possible repository corruption on the remote side.
remote: fatal: failed to read object 6e41daf37591c88c8dc18f2ecc8761e7d44a0cd9: Permission denied
remote: aborting due to possible repository corruption on the remote side.
fatal: early EOF
fatal: index-pack failed
</code></pre>

<p>Any idea what might be happening to cause these errors to appear? Or more importantly how to undo them?</p>

<p>EDIT: Also after commit 6e41daf37 I did a 'git flow feature start blah' and commited existing changes to that instead of breaking develop. Maybe an issue with the feature being on local but not the Gitolite server? In any case I can't 'feature publish' because it gives the 'unpack failed to read object 02a261fad3' error posted above</p>
","3","1107232","0"
"51838129","5240026","2018-08-14 09:27:19","4","705","<linux><git><github><rhel><gitolite>","how to change repository location on gitolite?","<p>I recently installed gitolite on my linux server. </p>

<p>This server is my git remote server with some bare repositories located on a separate path. lets say </p>

<pre><code>/images/git_bare_repos
</code></pre>

<p>By default gitolite is installed on git user in home directory. I am able to clone gitolite-admin repository from the root user on the same machine. That is gitolite is working fine.</p>

<pre><code>&gt;&gt;&gt;ls /home/git
bin  gitolite  projects.list  repositories  root.pub
</code></pre>

<p>all the new repositories are created in repositories directory:</p>

<pre><code>&gt;&gt;&gt;ls /home/git/repositories/
gitolite-admin.git  testing.git
</code></pre>

<p>My question is:</p>

<p>I want gitolite to create new repositories on the same path where all my other bare repositories rest. Ie. in <strong><code>/images/git_bare_repos</code></strong></p>

<p>I tried adding:</p>

<pre><code>GL_REPO_BASE  =&gt; ""/images/git_bare_repos"",
</code></pre>

<p>in <code>.gitconfig.rc</code> file but with no luck.</p>
","1","5240026","0"
"14141696","1020719","2013-01-03 15:15:56","3","1593","<git><debian><gitolite><gitlab>","Gitlab installation based on gitolite fails","<p>it is so frustrating: I am looking for a managable web-based solution based on gitolite. Redmine failed all the time due to missing or outdated ruby packages. At least I tried to use gitLab. My last guide that I've used was the regular one:</p>

<p><a href=""https://github.com/gitlabhq/gitlabhq/blob/stable/doc/install/installation.md"" rel=""nofollow"">GitlabHQ</a></p>

<p>I reproduced each point, step by step, but there is no way to perform an errorfree setup:</p>

<p>This should be one of the final steps:</p>

<blockquote>
  <p>sudo -u gitlab -H bundle exec rake gitlab:check RAILS_ENV=production</p>
</blockquote>

<p>but the output tells me user 'gitolite' (=git) is not in gitolite group and how to fix that:</p>

<blockquote>
  <p>Checking Environment ...</p>
  
  <p>gitlab user is in gitolite group? ... no<br>
  Try fixing it:   sudo usermod -a -G gitolite gitlab</p>
  
  <p>For more information see: 
  doc/install/installation.md in section ""System Users""</p>
  
  <p>Please fix the error above and rerun the checks. 
  Has no ""-e"" in ~gitolite/.profile ... rake aborted! </p>
  
  <p>No such file or directory - /var/lib/gitolite/.profile</p>
  
  <p>/home/gitlab/gitlab/lib/tasks/gitlab/check.rake:320:in `read'</p>
  
  <p>/home/gitlab/gitlab/lib/tasks/gitlab/check.rake:320:in <code>check_issue_1056_shell_profile_error'
  /home/gitlab/gitlab/lib/tasks/gitlab/check.rake:257:in</code>block (3 levels) in '</p>
  
  <p>Tasks: TOP => gitlab:check => gitlab:env:check </p>
  
  <p>(See full trace by running task with --trace</p>
</blockquote>

<p>But there is no chance to handle this. The output remains unchanged. Even if an administrator account was created there is no way to start a Webserver to manage the account. </p>

<p>All the time ""bad gateway""</p>

<p>Do you know how to fix that? Or do you know another suitable solution based on gitolite?</p>

<p>Thanks a lot - again!</p>
","0","1020719","0"
"35847483","1145760","2016-03-07 15:24:38","0","522","<gitolite>","Gitolite refuses to accept commits to gitolite-admin.git","<p>I am following <a href=""https://www.digitalocean.com/community/tutorials/how-to-use-gitolite-to-control-access-to-a-git-server-on-an-ubuntu-12-04-vps"" rel=""nofollow"">this</a> tutorial to install a gitolite server on my Debian PC. Once that works, I intend to connect to it from a virtual machine, to simulate client connection.</p>

<pre><code>$ cd ~/ssh
$ ssh-keygen glite
$ sudo apt-get install gitolite3
$ export GL_LIBDIR=/home/default/bin/lib
$ export GL_BINDIR=/home/default/bin
$ gitolite setup -pk /home/default/.ssh/glite.pub
$ cd ~/projects
$ git clone ../repositories/gitolite-admin.git
#  make some changes
$ git push origin master
Counting objects: 4, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 413 bytes | 0 bytes/s, done.
Total 4 (delta 0), reused 0 (delta 0)
remote: WARNING: Use of uninitialized value $repo in concatenation (.) or string at /home/default/bin/lib/Gitolite/Conf/Load.pm line 251, &lt;DATA&gt; line 1.
remote: 
remote: FATAL: invalid repo ''
remote: error: hook declined to update refs/heads/master
To ../../repositories/gitolite-admin.git/
 ! [remote rejected] master -&gt; master (hook declined)
error: failed to push some refs to '../../repositories/gitolite-admin.git/'
</code></pre>

<p>So some variable <code>$repo</code> is empty inside some python script. What am I missing?</p>
","0","1145760",""
"14166702","471260","2013-01-04 23:27:39","5","6475","<git><gitolite>","gitlist cannot get anything beyond repository list","<p>I am trying to setup gitlist on CentOS Linux (with gitolite in case that matters -- I have relaxed the permissions on the repo directories managed by gitolite). </p>

<p>I extracted the version 0.3 tarball from today from gitlist.org.</p>

<p>My config.ini looks like this:</p>

<pre><code>client = '/usr/bin/git' ; Your git executable path
repositories = '/home/gitolite/repositories/' ; Path to your repositories

[app]
debug = true    
; I don't know if baseurl is still needed..seems like my results are the same either way
baseurl = 'http://sub.example.com.com/gitlist' ; Base URL of the application
</code></pre>

<p>virtual host directive in httpd.conf:</p>

<pre><code>&lt;VirtualHost *:80&gt;
  DocumentRoot /var/www/html
  ServerName sub.example.com
  &lt;Directory ""/var/www/html""&gt;
    AllowOverride All
    Options -Indexes
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>

<p>htaccess:</p>

<pre><code>&lt;IfModule mod_rewrite.c&gt;
  Options -MultiViews

  RewriteEngine On
  RewriteBase /var/www/html/gitlist/

  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteRule ^(.*)$ index.php [L,NC]

  AuthName ""Git List""
  AuthType Basic
  AuthUserFile /var/www/.gitlistpwds
  Require valid-user

&lt;/IfModule&gt;
&lt;Files config.ini&gt;
  order allow,deny
  deny from all
&lt;/Files&gt;
</code></pre>

<p>With this setup, going to <a href=""http://sub.example.com/gitlist"">http://sub.example.com/gitlist</a> results in the browser error message saying that /index.php does not exist (i.e. it's trying to go to /var/www/html/index.php )</p>

<p>In this case if I go to <a href=""http://sub.example.com/gitlist/index.php"">http://sub.example.com/gitlist/index.php</a>, the repository list (apparently) properly appears.  When I click on one of the repos, something goes wrong when it tries to execute, git. I get:</p>

<pre><code>Whoops, looks like something went wrong.

1/1 RuntimeException: Unknown option: -c
(std git usage message omitted)
</code></pre>

<p>If I remove the rewrite rule from .htaccess, I am able to access the index page by either specifying index.php or not.  But in that case when I click on a repo, it tries to find the repo underneath the gitlist directory:</p>

<pre><code>The requested URL /gitlist/testing.git/ was not found on this server.
</code></pre>

<p>Can someone please help sort out this mess?</p>
","6","471260","0"
"21742080","1587427","2014-02-12 23:22:15","0","1206","<git><gitolite>","GIT: failed to push some refs to 'user@server:repositories/project.git'","<p>GIT home dir on server is /srv/gitolite with following configuration:</p>

<pre><code>user@server:~/repositories$ ls -al /srv/gitolite/repositories/
total 20
drwxr-x--- 5 gitolite gitolite 4096 Feb 12 21:23 .
drwxr-x--- 8 gitolite gitolite 4096 Feb 12 21:23 ..
drwx------ 8 gitolite gitolite 4096 Feb 12 21:23 gitolite-admin.git
drwxrwx--- 7 gitolite gitolite 4096 Feb 12 21:23 project.git
drwx------ 7 gitolite gitolite 4096 Feb 12 21:23 testing.git
</code></pre>

<p>gitolite@server:/$ cat /srv/gitolite/.gitolite/conf/gitolite.conf</p>

<pre><code>    repo    gitolite-admin
            RW+     =   admin

    repo    testing
            RW+     =   @all

    repo    project
            RW+     =   user

gitolite@server:/$ ls -al /srv/gitolite/.gitolite/keydir/
drwx------ 2 gitolite gitolite 4096 Feb 12 20:55 .
drwx------ 8 gitolite gitolite 4096 Feb 10 23:03 ..
-rw-r--r-- 1 gitolite gitolite  404 Feb 10 23:03 admin.pub
-rw-rw---- 1 gitolite gitolite  404 Feb 11 22:30 user.pub
-rw-rw---- 1 gitolite gitolite  393 Feb 12 20:55 test.pu
</code></pre>

<p>On local machine I did:</p>

<pre><code>mato@machine:/tmp$ mkdir test
mato@machine:/tmp$ cd test/
mato@machine:/tmp/test$ vim file.txt
mato@machine:/tmp/test$ git init
Initialized empty Git repository in /tmp/test/.git/
mato@machine:/tmp/test$ git remote add origin user@server:repositories/project.git
mato@machine:/tmp/test$ git add .
mato@machine:/tmp/test$ git commit -m 'test'
[master (root-commit) cb6bc87] test
 1 file changed, 1 insertion(+)
 create mode 100644 test.txt
mato@machine:/tmp/test$ git push origin master:refs/heads/master
Counting objects: 3, done.
Writing objects: 100% (3/3), 215 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: ENV GL_RC not set
remote: BEGIN failed--compilation aborted at hooks/update line 20.
remote: error: hook declined to update refs/heads/master
To user@server:repositories/project.git
 ! [remote rejected] master -&gt; master (hook declined)
error: failed to push some refs to 'user@server:repositories/project.git'
</code></pre>

<p>Why I can not push project file.txt to GIT server? Do I have to change some permissions on server? Or what I did wrong?</p>

<p>Thanks for any advice.</p>
","3","1587427",""
"4394292","535836","2010-12-09 02:22:14","0","298","<git><github><gitolite>","Problem cloning gitolite on Ubuntu","<p>I installed gitolite on a Ubuntu10.04 machine and created a repository A. My team remotely checked in code into that branch. Now I want to clone this repository on the same Ubuntu machine. How I can do it. Thanks in advance for your help!</p>
","1","535836",""
"4668885","572700","2011-01-12 12:38:44","9","3795","<git><acl><gitolite>","Deny READ of specific repository branches with gitolite","<p>What I'm trying to achieve is the following:
coworkers are in group @coworkers,
clients are in group @clients.</p>

<p>The Git repo shall be available to read and write for everyone, but there shall be special branches.
i.e. I create a new branch ""intern"" and @coworkers shall have RW+ acces, but clients should NOT be able to R or W.</p>

<p>I thought i can achieve that by </p>

<pre><code>repo myrepo
    -    intern    = @clients
    RW+            = @clients @coworkers
</code></pre>

<p>But this does not work.</p>
","0","572700","0"
"3260648","389703","2010-07-15 22:39:59","15","12864","<git><msysgit><gitolite>","gitolite installation issue","<p>Has any one tryied the easy install option of gitolite?<br>
I am trying to install gitolite from my windows (workstation ) to a solaris box.</p>

<pre><code>[command used to install] 
./gl-easy-install -q git sjcfsap1 git
</code></pre>

<p>The command breaks at the following place .</p>

<pre><code>*Y*ou are logging into system : [gitserver]
cloning gitolite-admin repo...
Initialized empty Git repository in c:/Documents and Settings/chandve/gitolite-a
dmin/.git/
Password:
fatal: 'gitolite-admin' does not appear to be a git repository
fatal: The remote end hung up unexpectedly**
</code></pre>

<p>Has any one encountered this issue? 
Do you think gitolite is worth this effort? I am looking to evaluate ACL for Git.</p>

<p>Thanks for your response in advance.</p>

<p><strong>[The complete command execution log below]</strong></p>

<pre><code>CHANDVE@CHANDVE /c/git/repos/gitolite/src (master)
$ ./gl-easy-install git sjcfsap1 git


------------------------------------------------------------------------

you are upgrading     v1.5.3-13-g20c2e1a     to v1.5.3-13-g20c2e1a

Note: getting '(unknown)' for the 'from' version should only happen once.
Getting '(unknown)' for the 'to' version means you are probably installing
from a tar file dump, not a real clone.  This is not an error but it's nice to
have those version numbers in case you need support.  Try and install from a
clone


...press enter to continue or Ctrl-C to bail out


------------------------------------------------------------------------

the next command will create a new keypair for your gitolite access

The pubkey will be /c/Documents and Settings/chandve/.ssh/git.pub.  You will hav
e to choose a
passphrase or hit enter for none.  I recommend not having a passphrase for
now, *especially* if you do not have a passphrase for the key which you are
already using to get server access!

Add one using 'ssh-keygen -p' after all the setup is done and you've
successfully cloned and pushed the gitolite-admin repo.  After that, install
'keychain' or something similar, and add the following command to your bashrc
(since this is a non-default key)

    ssh-add $HOME/.ssh/git

This makes using passphrases very convenient.


...press enter to continue or Ctrl-C to bail out


------------------------------------------------------------------------

Hmmm... pubkey /c/Documents and Settings/chandve/.ssh/git.pub exists; should I j
ust (re-)use it?

IMPORTANT: once the install completes, *this* key can no longer be used to get
a command line on the server -- it will be used by gitolite, for git access
only.  If that is a problem, please ABORT now.

doc/6-ssh-troubleshooting.mkd will explain what is happening here, if you need
more info.


...press enter to continue or Ctrl-C to bail out


------------------------------------------------------------------------

your $HOME/.ssh/config already has settings for gitolite.  I will assume
they're correct, but if they're not, please edit that file, delete that
paragraph (that line and the following few lines), Ctrl-C, and rerun.

In case you want to check right now (from another terminal) if they're
correct, here's what they are *supposed* to look like:

host gitolite
     user git
     hostname sjcfsap1
     port 22
     identityfile ~/.ssh/git



...press enter to continue or Ctrl-C to bail out
gitolite.pm                                   100%   26KB  26.3KB/s   00:00
gl-auth-command                               100% 8319     8.1KB/s   00:00
gl-compile-conf                               100%   26KB  25.6KB/s   00:00
gl-conf-convert                               100% 2325     2.3KB/s   00:00
gl-easy-install                               100%   23KB  23.2KB/s   00:00
gl-emergency-addkey                           100% 1295     1.3KB/s   00:00
gl-install                                    100% 4087     4.0KB/s   00:00
gl-setup                                      100% 3081     3.0KB/s   00:00
gl-system-install                             100% 1814     1.8KB/s   00:00
gl-tool                                       100% 2145     2.1KB/s   00:00
output.txt                                    100%   60KB  60.2KB/s   00:00
sshkeys-lint                                  100% 2962     2.9KB/s   00:00
example.conf                                  100%   12KB  12.1KB/s   00:00
example.gitolite.rc                           100% 8390     8.2KB/s   00:00
VERSION                                       100%   19     0.0KB/s   00:00
0-INSTALL.mkd                                 100%   12KB  11.6KB/s   00:00
1-migrate.mkd                                 100% 3569     3.5KB/s   00:00
2-admin.mkd                                   100% 9063     8.9KB/s   00:00
3-faq-tips-etc.mkd                            100%   29KB  29.0KB/s   00:00
4-wildcard-repositories.mkd                   100%   12KB  11.8KB/s   00:00
5-delegation.mkd                              100% 6143     6.0KB/s   00:00
6-ssh-troubleshooting.mkd                     100%   19KB  19.5KB/s   00:00
7-install-transcript.mkd                      100% 8372     8.2KB/s   00:00
9-gitolite-and-ssh.mkd                        100% 7798     7.6KB/s   00:00
9-packaging.mkd                               100% 2257     2.2KB/s   00:00
9-uninstall.mkd                               100% 2791     2.7KB/s   00:00
admin-defined-commands.mkd                    100% 9700     9.5KB/s   00:00
big-config.mkd                                100% 6469     6.3KB/s   00:00
CHANGELOG                                     100% 3873     3.8KB/s   00:00
COPYING                                       100%   18KB  17.9KB/s   00:00
hook-propagation.mkd                          100% 7654     7.5KB/s   00:00
overkill.mkd                                  100% 2059     2.0KB/s   00:00
progit-article.mkd                            100%   12KB  12.5KB/s   00:00
report-output.mkd                             100% 1818     1.8KB/s   00:00
shell-games.mkd                               100% 3363     3.3KB/s   00:00
gitolite-hooked                               100%    0     0.0KB/s   00:00
update                                        100% 4728     4.6KB/s   00:00
post-update                                   100%  943     0.9KB/s   00:00


------------------------------------------------------------------------

the gitolite rc file needs to be edited by hand.  The defaults are sensible,
so if you wish, you can just exit the editor.

Otherwise, make any changes you wish and save it.  Read the comments to
understand what is what -- the rc file's documentation is inline.

Please remember this file will actually be copied to the server, and that all
the paths etc. represent paths on the server!


...press enter to continue or Ctrl-C to bail out


------------------------------------------------------------------------
Oh hey... you already had a '.gitolite.rc' file on the server.
Let's see if we can use that instead of the default one...

...press enter to continue or Ctrl-C to bail out
.gitolite.rc                                  100% 8390     8.2KB/s   00:00


------------------------------------------------------------------------

ignore any 'please edit this file' or 'run this command' type lines in the
next set of command outputs coming up.  They're only relevant for a manual
install, not this one...


...press enter to continue or Ctrl-C to bail out

    *** WARNING ***: looks like an upgrade... ignoring argument 'git'
/export/home/git/repositories already exists
/export/home/git/.gitolite already exists
/export/home/git/.gitolite/conf already exists
/export/home/git/.gitolite/doc already exists
/export/home/git/.gitolite/keydir already exists
/export/home/git/.gitolite/logs already exists
/export/home/git/.gitolite/src already exists
/export/home/git/.gitolite/hooks already exists
/export/home/git/.gitolite/hooks/common already exists
/export/home/git/.gitolite/hooks/gitolite-admin already exists
copying post-update hook to gitolite-admin repo...
Pseudo-terminal will not be allocated because stdin is not a terminal.
stty: : Invalid argument



You are logging into system : sjcfsap1
/export/home/git/repositories already exists
/export/home/git/.gitolite already exists
/export/home/git/.gitolite/conf already exists
/export/home/git/.gitolite/doc already exists
/export/home/git/.gitolite/keydir already exists
/export/home/git/.gitolite/logs already exists
/export/home/git/.gitolite/src already exists
/export/home/git/.gitolite/hooks already exists
/export/home/git/.gitolite/hooks/common already exists
/export/home/git/.gitolite/hooks/gitolite-admin already exists
copying post-update hook to gitolite-admin repo...


------------------------------------------------------------------------

now we will clone the gitolite-admin repo to your workstation and see if it
all hangs together.  We'll do this in your $HOME for now, and you can move
it elsewhere later if you wish to.


...press enter to continue or Ctrl-C to bail out
Initialized empty Git repository in c:/Documents and Settings/chandve/gitolite-a
dmin/.git/
Password:
Password:
fatal: 'gitolite-admin' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>
","0","389703","0"
"4708465","325578","2011-01-16 22:18:13","87","17849","<git><gitolite>","How do I rename a Git repository created with gitolite?","<p>I created a Git repository using gitolite. Now I would like to rename that repository.</p>

<p>How can I do this? </p>

<p>In gitolite's readme is says that I should not work directly on the server. But I guess I have to do some work on the server in this case, right?</p>
","1","325578","0"
"4937755","561638","2011-02-08 20:02:57","3","2249","<git><hook><gitolite><mailnotifier>","gitolite hooks - post-receive doesn't seem to work","<p>I have gitolite configured on my repo.  I see 2 copies of the hooks as documented in the gitolite literature.  I would like the server-side hook post-receive to send email when someone does a push to the repo.
I am using git-notifier.  However, nothing happens when I push.  I have modified both copies of the hooks, and I added a line to create a tmp file.  After I push my changes to the repo, no tmp file is there and no email is sent.  Any help is greatly appreciated.
Thanks.</p>
","7","561638",""
"5205510","574371","2011-03-05 17:34:39","1","630","<git><repository><git-push><gitolite>","Git: gitolite have mess things up? working on two different servers","<p>I am new in using Git, so here is my context: I am in a situation in which I work on two projects which are stored in different repositories on different servers. On both servers is used gitolite to handle the administration on the repositories. </p>

<p>When I had one project to handle I push the commits to the server with the command: <code>git push --all git@myserver1.com:project1</code> and it was OK. Now, when I handle two projects, I thought that it should be OK, if I am using the same command, only changing the server name and project, to deploy it on the server. </p>

<p>However is not OK, now when I write <code>git push --all git@myserver2.com:project2</code> (I am running this command from root folder of the project) is asking me for the password: <code>git@myserver2.com's password:</code> and after I type a password I get: <code>Permission denied (publickey,password).</code> But this behavior is not right because I already have set my public key on this second server. </p>

<p>I don't know where is the problem, maybe gitolite have mess things up? Combining on my PC the configuration for the two servers? </p>
","0","574371",""
"5205637","574371","2011-03-05 17:54:48","2","4034","<git><redmine><gitolite>","Accessing git repositories with redmine, permissions problem","<p>I have Ubuntu 10.04 server with redmine installed and also git is installed, I am using gitolite.</p>

<p>When I push to the server from users PC, all is ok, concerning git point of view. However to see the repository from redmine, every time I need to run: <code>chmod o+rw -R /path/to/the/repository/folder</code> and then I can see the repository from redmine. But this in annoying to do it every time I push to the server. </p>

<p>I thought to make a cron-job to do it automatically, however I don't think is a clean solution.</p>
","1","574371","0"
"5216008","647625","2011-03-07 05:02:27","6","1404","<linux><git><gitolite><gitweb>","The project disappear from gitweb after a git push","<p>I use gitolite to host my source code, and setup a website using gitweb to display all my projects. At the beginning, all projects are shown correctly via gitweb, however, after I modified one project and do a git push, it disappeared immediately from the project list.</p>

<p>Every project, whenever I do a git push on it, it will disappear from the project list of the gitweb. Then if I do a ""git clone --bare"" of that project and replace the original one, it will be back in the project again...</p>

<p>Anyone encounter the same problem?</p>

<p>p.s. I make a ""git clone --bare"" and do a ""git push"", then diff it with the original one, what I get is:</p>

<p>Only in test.git/objects: 86
Only in test.git/objects: af
Only in test.git/objects: f4
Only in test.git/refs/heads: master</p>

<p>a new file with master's commit id is created.</p>
","0","647625","0"
"12646748","135785","2012-09-28 20:10:22","0","369","<git><gitolite>","git push initial to gitolite repository fails with index-pack not a git command","<p>I added a repo to gitolite-admin conf and pushing it successful</p>

<p>Now I wanted to import an exiting repository</p>

<p>when I invoke a 
git push --all git@gitserver:mybeerrepo</p>

<p>I get 
git: 'index-pack' is not a git-command.
error: pack-objects died with strange error
error: failed to push some refs to ...</p>

<p>I checked the .bashrc file for that user and the path looks okay</p>

<p>git gc in that repository seems to work well too</p>

<p>no idea what to do next now :-7</p>
","4","135785",""
"30275990","2027107","2015-05-16 13:02:55","0","163","<git><gitolite>","Git repository turned read only after gitolite migration","<p>[I found the solution and describe it in my reply]</p>

<p>I migrated my gitolite server a while ago and upgraded from gitolite 2 to gitolite 3 in the same time.
I just realized that while all repositories are working to fetch data, when trying to push on one of the repositories, I have the following error:</p>

<pre><code>remote: Use of uninitialized value in do ""file"" at hooks/update line 36.
remote: Null filename used at hooks/update line 36.
remote: error: hook declined to update refs/heads/candidates/my-branch
</code></pre>

<p>I know that this error usually means that there is a ssh key or rights issue, but my gitolite.conf file is pretty simple and the ssh key is the same that works with the other repositories and that works to fetch from this server.</p>

<p>When I try to directly ssh the server with my ssh key, the following message is displayed:</p>

<pre><code>PTY allocation request failed on channel 0
hello Fred, this is gitolite3@my-server running gitolite3 v3.6.2-26-gf9c0008 on git 1.9.1

 R W    repo1
 R W    repo2
 R W    gitolite-admin
Connection to my-server closed.
</code></pre>

<p>repo1 is the one not working, while repo2 and gitolite-admin both work well.</p>

<p>I don't really know where I should look next, to debug this.</p>

<p>update:
I don't know if it can be related, but I noticed that the problematic repository directory on my server had different rights than the others (766 while the others where 700). I changed it with no results, but perhaps it can be a hint to something else?</p>

<p>update 2:
Also, this problematic repository was created before the others. Could repositories created with older versions of git have a compatibility issue?</p>
","0","2027107",""
"12700453","332913","2012-10-03 00:42:34","1","288","<gitolite>","Modifying the gitolite repository url","<p>I have gitolite installed. I'm able to administer it fine. I've added a few new repos, and a few pub keys. Installed as '<code>git@domain.com</code>' and a repo added for a user as <code>repo.git</code>. </p>

<p>Does it have to be <code>git@domain.com:repo.git</code> to access, or is there a way to indicate the user in the url?<br>
Possibly something like <code>user@domain.com:repo.git</code> or <code>git.domain.com/user/repo.git</code> for example?</p>
","0","332913",""
"30445680","468279","2015-05-25 20:34:48","1","67","<gitolite>","Gitolite: Clone gitolite-admin successfully but warns of ""key_read"" failure","<p>I've installed gitolite3 on my git server and have setup gitolite with my public key. I can clone the gitolite-admin repo successfully but on clone, pull, push, anything, the command is executed but always displays the following message twice:</p>

<pre><code>key_read: uudecode &lt;public key&gt; failed
</code></pre>

<p>What's causing this warning?</p>
","0","468279","0"
"12841286","592392","2012-10-11 13:56:48","1","865","<git><gitolite>","testing/info/refs not found in gitolite after removing R @all rule","<p>I setup gitolite fine with Apache and a script retrieving my groups.
I can effectively control who can push into a repository, but not who can read. Currently if I do not set R = @all rule on a repository nobody can read it, even people matched by other rules.</p>

<p>I have the following gitolite configuration:</p>

<pre><code>repo testing
    R       = @git-reader-test
    R       = olivier
#    R      =   @all #Will work if I uncomment this line
    RW+     =   @developers
</code></pre>

<p>My wapper script calling gitolite has the following code</p>

<pre><code>echo ""Entering gitolite wrapper"" &gt;&gt; /home/dev_tools/git/gitauth.log
echo ""user: $REMOTE_USER"" &gt;&gt; /home/dev_tools/git/gitauth.log
echo ""groups: $HTTP_REMOTE_USER_GROUPS"" &gt;&gt; /home/dev_tools/git/gitauth.log
exec /home/dev_tools/git/bin/gitolite-shell $REMOTE_USER 2&gt;&amp;1 |tee -a /home/dev_tools/git/gitauth.log
</code></pre>

<p>Which outputs:</p>

<pre><code>Entering gitolite wrapper
user: olivier
groups: developers ...
Status: 404 Not Found
Expires: Fri, 01 Jan 1980 00:00:00 GMT
Pragma: no-cache
Cache-Control: no-cache, max-age=0, must-revalidate

Repository not exported: '/home/dev_tools/git/repositories/testing'
</code></pre>

<p>So my groups and even my username match a R rule but I get rejected with a 404 error, although if I uncomment the <code>R = @all</code> rule I will be able to fetch my repo without any problem.</p>

<p>The error I get on <code>git fetch</code> is</p>

<pre><code>fatal: http://olivier@myserver/testing/info/refs not found: did you run git update-server-info on the server?
</code></pre>

<p>And the corresponding gitolite logs are:</p>

<pre><code>2012-10-11.15:52:10 26728       access(testing, olivier, R, 'any'),-&gt; refs/.*
2012-10-11.15:52:10 26728       trigger,Writable,access_1,ACCESS_1,testing,olivier,R,any,refs/.*
2012-10-11.15:52:10 26728   pre_git testing olivier R   any -&gt; refs/.*
2012-10-11.15:52:10 26728       system,git,http-backend
2012-10-11.15:52:10 26728   END
</code></pre>

<p>Do you have any idea why this happen?</p>
","1","592392","0"
"31158020","1116499","2015-07-01 09:50:56","1","422","<git><gitolite>","gitolite-admin trigger POST_COMPILE failed","<p>I tried to add another user to my gitolite config. This is what I see in logs:</p>

<pre><code>    2015-06-30.23:12:12     10361   pre_git gitolite-admin  marcin  W       any     refs/.*
    2015-06-30.23:12:12     10361           system,git,shell,-c,git-receive-pack '/share/Projects/githome/repositories/gitolite-admin.git'
    2015-06-30.23:12:15     10361   update  gitolite-admin  marcin  W       refs/heads/master       6c3c809a3656ed37097605562ac43cfd87d251ea        1d02b5874b46463c86831fefad4225bf6b5e7f47        refs/.*
    2015-06-30.23:12:17     10361           system,gitolite compile
    2015-06-30.23:12:21     10361           system,gitolite trigger POST_COMPILE
    2015-06-30.23:12:23     10361           system,/share/HDA_DATA/Projects/githome/gitolite/src/triggers/post-compile/ssh-authkeys,POST_COMPILE
    2015-06-30.23:12:26     10361   die     fingerprinting failed for '/tmp/0j7vu4KyoE'
    2015-06-30.23:12:26     10361           system() failed,/share/HDA_DATA/Projects/githome/gitolite/src/triggers/post-compile/ssh-authkeys,POST_COMPILE,-&gt; 6400
    2015-06-30.23:12:26     10361           system() failed,gitolite trigger POST_COMPILE,-&gt; 6400
    2
</code></pre>

<p>I was modyfying this repo several times, it works for two years with no problem. 
How can I troubleshoot it?</p>
","2","1116499","0"
"13645190","1280229","2012-11-30 12:23:43","3","4969","<gitolite><gitlab>","bash: gitolite: command not found","<p>I am trying to make a new branch in Gitlab by using Gitolite. I complete the installation steps. when i come across ""setting up gitolite"" section i have a trouble. I followed this <a href=""http://sitaramc.github.com/gitolite/setup.html"" rel=""nofollow"">link</a>.</p>

<p>When i run </p>

<blockquote>
<pre><code>            gitolite setup -pk alice.pub 
</code></pre>
</blockquote>

<p>command i got ""bash: gitolite: command not found"" error message. I don't know what is the problem.. Any one please help me.</p>
","0","1280229","0"
"13784551","872314","2012-12-09 04:09:45","0","480","<node.js><ubuntu><gitolite>","How to install node-gitteh module from npm (Nodejs 0.8.x)","<p>I have NodeJS 0.8.12 installed in my Linux (Ubuntu 11.10 system, i heard there is node's module for accessing my project hosting with gitolite (node-gitteh 0.17.0). I have tried to install this module by :</p>

<pre><code>npm install gitteh
</code></pre>

<p>But it gave me error message, and i tried to build <a href=""http://libgit2.github.com/"" rel=""nofollow"">libgit2</a> from source, then tried again </p>

<pre><code>npm install gitteh
</code></pre>

<p>It still gave me an error, did anyone successfully do this..? Please share with me... </p>
","1","872314",""
"31382605","4273422","2015-07-13 11:50:24","2","104","<git><repository><gitolite>","Convert Git repos of without .git extention to gitolite repos having .git extension","<p>I have one gitolite server and one old git server.
On my old git server I have about 80 repositories.
All are bare repos but don't have the .git extension.
I want to transfer all of them to new gitolite server so that if anyone in future need any old repo can access from running gitolite server without any issue and all repos will be at one place, which will be easy to manage.</p>

<p>I know I can clone repo from old git server and can push that repo to new gitolite server by making necessary repo entry in conf/gitolite-admin.conf file.</p>

<p>This is very much time consuming, I do want to copy all the repos at once from old git server to new gitolite server and perform necessary changes to conf/gitolite-admin.conf. </p>

<p>Is it possible to do so???</p>
","0","4273422","0"
"31791652","858726","2015-08-03 15:52:32","3","3130","<git><logging><gitolite>","Change gitolite logs default location","<p>I'm using gitolite version 3.6.3 in linux Centos</p>

<p>I need to change the default location of gitolite logs</p>

<pre><code>~/.gitolite/logs/gitolite-%y-%m.log
</code></pre>

<p>to a custom location like </p>

<pre><code>/home/my_account/Desktop/gitolite-logs/gitolite-%y-%m.log
</code></pre>

<p>I've tried to achieve this by editing <strong>.gitolite.rc</strong> file with</p>

<pre><code>LOG_DEST                      =&gt; '/home/my_account/Desktop/gitolite-logs/gitolite-%y-%m.log',
</code></pre>

<p>but I had no luck.
Am I missing something?</p>
","0","858726","0"
"40669828","1567651","2016-11-18 05:15:55","1","709","<git><gitolite>","Restrict read access in git repo using gitolite","<p>I am using gitolite for git repository restrict the access.</p>

<p>Any one can tell how to configure restrict the branches and how to restrict read permission for particular Dir/file? </p>
","1","1567651","0"
"13983037","458701","2012-12-21 01:23:13","3","1502","<git><push-notification><gitolite><git-diff><git-post-receive>","Adding git diff in push notification mail","<p>Currently I am using gitolite to mange my repository and users. I successfully setup the notification mail after every push. The command is</p>

<pre><code>chmod a+x post-receive-email
cd /path/to/your/repository.git
ln -sf /usr/share/doc/git-core/contrib/hooks/post-receive-email hooks/post-receive
</code></pre>

<p>The notification mail contains only summary of changes. I want to add the Line of changes of each modified file in that push. I am aware of editing that post-receive-email file and have to use git-diff command. My questions are</p>

<p>What is the exact git-diff command I have to use..?
Where I have add that command in that post-receive-email file..?
Is there any configurations available in gitolite..?</p>
","1","458701","0"
"31544922","288102","2015-07-21 16:43:22","1","383","<git><gitolite><git-extensions>","Git Extensions: Unable to push to repo after renaming it (gitolite)","<p>I logged into my server as an administrator (not as the Git user, which may have been a mistake), and did:</p>

<p><code>mv oldrepo.git newrepo.git</code></p>

<p>Then, I edited gitolite.conf, from...</p>

<pre><code>repo oldrepo
    RW+     =   id_rsa
</code></pre>

<p>... to...</p>

<pre><code>repo newrepo
    RW+     =   id_rsa
</code></pre>

<p>... and pushed that to the gitolite-admin repo.</p>

<p>Now, when I attempt to push to newrepo, I get the following error (using Git Extensions):</p>

<hr>

<p>""C:\Program Files (x86)\Git\bin\git.exe"" push --recurse-submodules=check --progress ""origin"" refs/heads/master:refs/heads/master</p>

<p>FATAL: W any newrepo id_rsa DENIED by fallthru
(or you mis-spelled the reponame)
fatal: Could not read from remote repository.</p>

<p>Please make sure you have the correct access rights
and the repository exists.
Done</p>

<hr>

<p>I'm still able to push to all of my other repositories just fine, no problems.</p>

<p>What have I done?</p>
","1","288102","0"
"31562944","3530698","2015-07-22 12:19:18","0","361","<git><gitolite>","Literally removing git repository created by Gitolite on the server","<p>I have created a repository called <code>foo</code> on a server using Gitolite. Now I am unable find out how to completely remove the repository from the server.</p>

<p>It says in the <a href=""http://gitolite.com/gitolite/basic-admin.html"" rel=""nofollow"">official documentation</a> that you have to</p>

<blockquote>
  <p>log on to the server and do the dirty deed yourself :-)</p>
</blockquote>

<p>But how do I find the repository on the server? Where are the files located?</p>

<p>How can I prevent the files being added automatically back to <code>foo</code> when I try and remove it from <code>gitolite.conf</code> and add it back again?</p>
","0","3530698",""
"49413987","2862945","2018-03-21 18:24:20","2","191","<git><gitolite>","Should the gitolite user also be the gitolite-admin user?","<p>I have a project with a small number of students and wanted to use a <code>gitolite</code> setup to work jointly on it. So I asked my sys-admin and he installed <code>gitolite3</code> from the repositories on an <code>ubuntu 16.04</code> server.</p>

<p>At some point he asked me for my public ssh-key since he was asked in the installation process to provide the admin's ssh-key. After that was done, I accessed the server (let's call it <code>server</code>) with my standard user account (named <code>user</code>) that is also the admin for gitolite:</p>

<pre><code>ssh user@server
</code></pre>

<p>Following the gitolite documentation, I did the following (as <code>user</code>)</p>

<pre><code>git clone gitolite3@server:gitolite-admin
cd gitolite-admin
</code></pre>

<p>Then I created some repo by modifying the file <code>conf/gitolite.conf</code>. After adding the public key of one of the students, I realized that I should have probably done the above <code>git clone</code> as user <code>gitolite3</code> which was automatically created during the installation process.</p>

<p>As I have done it now, <code>user</code> is both the admin and a normal user contributing to the project, which is probably not ideal. </p>

<p>My question therefore: Do I have to do a <code>su - gitolite3</code> <em>before</em> configuring gitolite (by cloning the gitolide-admin repository)? If so, I should probably also generate the ssh-key as <code>gitolite3</code> user, I guess...?</p>
","0","2862945","0"
"14325224","53788","2013-01-14 19:28:25","1","125","<ssh><gitolite><gitlab>","Moved a gitlab instance, now having problems talking to gitolite","<p>I had a working instance of Gitlab until a few weeks ago, when we had to move all the user directories to another disk b/c of resource constraints.  I've gone through and fixed all the paths that I could find, and so now my gitlab instance is up and running again.  Git appears to be working, and I pass the gitlab self-diagnostic test.</p>

<p>However, from a remote client that's previously worked, I get prompted to provide the git user's password, which suggests an ssh problem.  </p>

<p>Looking in my .gitolite stuff (conf/gitolite.conf &amp; the keydir), things look in order. My public key is in the keydir, and the rights are assigned in the gitolite.conf correctly.</p>

<p>EDIT:  gitolite public keys were in the .ssh/authorized_keys file and the protections were as created by gitolite setup.</p>

<p>What am I missing?</p>
","0","53788","0"
"49469067","4740921","2018-03-24 19:38:05","1","37","<git><composer-php><gitolite><sshd>","Is there a cache or a limit that would mess up composer requires from a gitolite server?","<p>I have a gitolite server on digital ocean.  It's hosting a growing number of composer packages.  I seem to get ""port 22: Connection refused"" when I run composer require some/package IF that package has a lot of dependancies.  I've gone thru the sshd_conf - and that stuff is pretty well documented anyway - but does anyone know if gitolite has some limits I can adjust?  I know gitolite takes over the ssh connection, but I can't find anything in the rc to adjust.</p>
","0","4740921","0"
"67076964","13662223","2021-04-13 14:37:01","2","261","<git><repository><gitolite>","git error FATAL: unknown git/gitolite command: 'git receive-pack'","<p>I am using a git on windows, I can clone a repo but whenever I try to push I get this error
&quot;FATAL: unknown git/gitolite command: 'git receive-pack 'p/2025-s2-csharp/tp12-myname''
fatal: Could not read from remote repository.</p>
<p>Please make sure you have the correct access rights
and the repository exists.&quot;
I have tried to reclone the repo and to reinstall git but it didn't work. I can still push on the repo from another computer on this repo.
Thanks in advance</p>
","1","13662223","0"
"4224970","425524","2010-11-19 12:29:58","0","649","<git><gitolite>","How to fix up broken syntax in gitolite.conf pushed to origin","<p>I've added section for wildcards repos in gitolite.conf on my local clone of gitolite-admin.git repo</p>

<p>but i suddenly pushed commit with broken regex in repo name:</p>

<pre><code>repo private/CREATOR/[A-z0-9_-+]
</code></pre>

<p>now gitolite claims that this regex is invalid, i've tryed:</p>

<pre><code>git reset HEAD^1 --hard
git push --force
</code></pre>

<p>but this not helps, gitolite still claims about broken regex :/</p>
","0","425524","0"
"14928172","1986344","2013-02-18 01:20:38","1","477","<git><gitolite>","gitolite: 'on-demand' creation of wild repositories","<p>is there a way to create <em>wild repositories</em> on-demand without the need of adding the <em>CREATOR</em> users public key to <em>gitolite</em> first? I'd like to setup a namespace <em>anon/CREATOR/</em> where anyone is able to create repositories.</p>

<p>Unfortunately this does not work:</p>

<pre><code>repo anon/CREATOR/[a-z0-9]+
    C    = @all
    RW+D = CREATOR
</code></pre>
","0","1986344","0"
"32374793","5063287","2015-09-03 11:49:23","0","99","<git><ssh><gitolite>","gitolite-admin and gitolite server on same machine","<p>There's a somewhat similar question here, but it didn't solve my problem, so gere's the deal. I've created a  gitolite server on my secundar machine, but I'm also hosting a web service there. My intention is that the web service can communicate with it, for exemple, add a new repository. For that, I need to clone the gitolite-admin repository to the same machine where the server is hosted.</p>

<p>So, I've created the user 'git', that is in charge of the gitolite server. I've tried generate ssh-key pair and copied to my primary machine so I could add it to the users on the gitolite-admin repository.</p>

<p>But, on the secondary machine, where the server is hosted, with a user different from 'git', when I try to git clone git@localhost:gitolite-admin, it says:</p>

<pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0644 for '/home/pi/.ssh/raspi.pub' are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored.
bad permissions: ignore key: /home/pi/.ssh/raspi.pub
git@localhost's password: 
</code></pre>

<p>And I disabled the 'git' password but it still asks for it. Please, help me here.</p>
","3","5063287",""
"15008027","934777","2013-02-21 16:59:45","1","198","<git><gitolite><git-extensions>","Clarification on how gitolite users work","<p>I have set up my GIT server on Ubuntu Server (Latest):</p>

<p>I used puttyGen in windows to create a public and private key. I then uploaded the public keys to 'keydir' in 'gitolite-admin' and pushed it back to the server. So good so far.</p>

<p>At this point I then  changed my conf file to this:</p>

<pre><code>@admin = gitolite
@dev = user1 user2

repo gitolite-admin
    RW+     =   @admin

repo site
    RW+     =   @dev


repo testing
    RW+     =   @all
</code></pre>

<p>For those wondering, I do have a user1.pub and user2.pub in my keydir. </p>

<p>At this point I loaded up GIT extensions and tried connecting in the following ways:
   <code>gitolite@myserver:site   with SSH key user1.ppk</code></p>

<p>However when I pressed ""try connection"" It logs me in as gitolite and lists ALL repositories, including the admin, which it shouldn't see. (I expected just to see ""site"" listed) but obviously its logging in as ""gitolite""</p>

<p>I then tried doing <code>user1@server:site"" and was presented with a</code>password for user1`. </p>

<p>Where am I going wrong, I looked over the docs and couldn't find anything. I'm obviously making such a rookie mistake here...</p>
","0","934777","0"
"16641596","283991","2013-05-20 02:10:10","1","1702","<git><ssh><gitolite>","Cannot login into gitolite server to clone, but can connect via ssh","<p>While there are <a href=""https://stackoverflow.com/questions/9339272/gitolite-can-connect-via-ssh-cant-clone"">several</a> <a href=""https://stackoverflow.com/questions/6366363/gitolite-installation-i-cannot-clone-gitolite-admin-repo"">questions</a> with <a href=""https://stackoverflow.com/questions/4976397/gitosis-gitolite-setup"">similar</a> symptoms, none are exactly the same, nor do the solutions presented there solve my issue.</p>

<p>I have set up gitolite successfully, as far as I am aware, using <a href=""http://gitolite.com/gitolite/progit.html"" rel=""nofollow noreferrer"">these instructions</a>, and after overcoming <a href=""https://stackoverflow.com/questions/16151528/gitolite-setup-getting-fatal-fingerprinting-failed-for-tmp-q3pne4wvbu/"">this issue</a>. The host user is <code>git</code>, and I have set up the following .ssh/config file on my workstation:</p>

<pre><code>Host admin
    Hostname server.com
    User git
    IdentityFile ~/.ssh/admin


Host dev
    Hostname server.com
    User git
    IdentityFile ~/.ssh/micha
</code></pre>

<p>I can ssh using the admin config with <code>ssh admin</code> and get the following response:</p>

<pre><code>stdin: is not a tty
hello admin, this is git@hostname running gitolite3 v3.5.1-2-g962e465 on git 1.7.10.2

 R W    gitolite-admin
 R W    testing
Connection to xxx.xxx.xxx.xxx closed.
</code></pre>

<p>Whenever I try to clone the gitolite-admin repo, however I get the following response:</p>

<pre><code>Cloning into 'gitolite-admin'...
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>According to the previous ssh response, I do have access rights. I have also verified that the git user is owner of the repository files on the server. After researching this, I have changed local GIT_SSH from TortoisePlink.exe to C:\Program Files (x86)\Git\bin\ssh.exe and still get the same response. All the following variations of the clone command elicit the same response:</p>

<ul>
<li>'git clone admin:gitolite-admin'</li>
<li>'git clone admin:gitolite-admin.git'</li>
<li>'git clone admin:repositories/gitolite-admin'</li>
<li>'git clone admin:~/repositories/gitolite-admin'</li>
<li>'git clone ssh://admin:gitolite-admin'</li>
<li>'git clone git@admin:gitolite-admin'</li>
<li>all sorts of permutations of the above variations.</li>
</ul>

<p>I am now at a loss as to how to overcome this problem. </p>
","0","283991","0"
"16700507","643859","2013-05-22 19:55:54","1","512","<ubuntu><ssh><gitolite>","Can't access gitolite admin repo after setup","<p>I'm trying to setup gitolite on ubuntu 13.04 the following way:</p>

<p>I create an user for it:</p>

<pre><code>sudo adduser \
  --system \
  --shell /bin/bash \
  --gecos 'git version control' \
  --group \
  --disabled-password \
  --home /home/git \
  git
</code></pre>

<p>I haven't got a SSH key pair, so i creat one, without passhphrase:</p>

<pre><code>ssh-keygen -t rsa
</code></pre>

<p>then i copy it to tmp:</p>

<pre><code>cp .ssh/id_rsa.pub /tmp/myusername.pub
</code></pre>

<p>Then change to owner of the copied key to git:</p>

<pre><code>sudo chmod git /tmp/myusername.pub
</code></pre>

<p>then i change to the git user, and append it's bin dir to PATH:</p>

<pre><code>sudo su git
echo ""PATH=$HOME/bin:$PATH"" &gt; ~/.bashrc
</code></pre>

<p>finally, run gl-setup with the copied key, and accept the default config:</p>

<pre><code>gl-setup /tmp/local.pub
</code></pre>

<p>After it, i type exit, so i go back to the myusername user. Now i try to clone the admin repo, but it asks for password:</p>

<pre><code>myusername@gitserver-virtualbox:~$ git clone git@localhost:gitolite-admin.git
Cloning into 'gitolite-admin'...
git@localhost's password: 
</code></pre>

<p>What did i do wrong?</p>
","3","643859","0"
"16701539","2299640","2013-05-22 21:04:36","3","2139","<git><hook><gitolite>","git push remote: warning: hooks.mailinglist has multiple values","<p>I have just upgraded from using gitosis to gitolite. Email notifications are working for all repos but for the gitolite-admin repo I get this waring when I push (the push is good):</p>

<pre><code>$ git push
remote: warning: hooks.announcelist has multiple values
remote: error: cannot overwrite multiple values with a single value
remote:        Use a regexp, --add or --set-all to change hooks.announcelist.
remote: warning: hooks.mailinglist has multiple values
remote: error: cannot overwrite multiple values with a single value
remote:        Use a regexp, --add or --set-all to change hooks.mailinglist.
To git@myserver:gitolite-admin
    5629bf0..98f3977  master -&gt; master
$
</code></pre>

<p>In the gitolite.conf file I have</p>

<pre><code>repo gitolite-admin
RW+ = @gitadmin
config hooks.mailinglist = ""me@foo.com""
congig hooks.announcelist = ""me@ffo.com""
config hooks.emailprefix = ""[gitolite repo pushed]""
desc = ""gitolite repo""
</code></pre>

<p>I have not been able to figure out where else mailinglist is set. Any ideas why I am getting this warning?</p>
","1","2299640","0"
"5233058","114216","2011-03-08 13:23:16","10","15434","<git><git-svn><msysgit><gitolite>","gitolite push error -> remote: ENV GL_RC not set","<p>I am trying to push content from a workstation to a server. But it gives me an error. Please look at the following for command and error:</p>

<pre><code>Administrator@ganesh ~/testing  
$ git push origin master  
Counting objects: 3, done.  
Writing objects: 100% (3/3), 241 bytes, done.  
Total 3 (delta 0), reused 0 (delta 0)  
remote: ENV GL_RC not set  
remote: BEGIN failed--compilation aborted at hooks/update line 20.  
remote: error: hook declined to update refs/heads/master  
To git@ganesh:repositories/testing  
 ! [remote rejected] master -&gt; master (hook declined)  
error: failed to push some refs to 'git@ganesh:repositories/testing'  
</code></pre>

<p>It seems that I need to set the environment variable <code>GL_RC</code>. Is this so?</p>

<p>Can anyone here tell me what the problem might be and how I can solve it? I am using gitolite on Windows Server 2003.</p>
","2","114216","0"
"22683787","2164525","2014-03-27 09:49:29","3","1423","<git><ldap><gitolite>","How to configure LDAP groups in gitolite.conf","<p>I have set up GIT with GITOLITE over https access. For Authorization we wantto add the LDAP Groups to the gitolite.conf. I have attached the ldap script to .gitolite.rc and it is able to fetch all the user groups which the user is part of.For authorizationi added the respective groups in gitolite.conf but it is not able to fetch the group in gitolite.conf.</p>

<pre><code>repo testing
    RW+      = @testing_ldap_group_rw
    R       =  @testing_ldap_group_read
</code></pre>

<p>I have enabled this also in .gitolite.rc </p>

<pre><code>GROUPLIST_PGM           =&gt;  '/path/to/ldap-query-groups-script',
</code></pre>

<p>Do i have to make any other configuration changes?</p>
","0","2164525","0"
"42695743","3995066","2017-03-09 12:44:22","1","490","<git><ssh><gitolite>","Can't clone git repo from gitolite on the same remote ubuntu server","<p>I have gitolite on the remote ubuntu 16 server that keeps also production environment (nginx server and release version of web projects).</p>

<p>Gitolite keeps common access project repository. Development process is on the local machines. A lot of successful pushes to gitolite project repository.</p>

<p>Now i'm going to deploy (clone) git project from gitolite to /var/www/project directory on the same remote ubuntu server.</p>

<p>To do that I've:</p>

<ol>
<li>connected to the server via ssh under my regular user with sudo permission (not git user)</li>
<li>generated rsa.pub <code>ssh-keygen -t rsa</code></li>
<li>copied rsa.pub to the keydir on the local machine with gitolite admin permissions as <code>git-serveruser.pub</code></li>
<li><p>changed gitolite.conf </p>

<p><code>repo repositoryname
      RW+     =   git-admin git-serveruser</code></p></li>
<li><p>commited and pushed changes to the server</p></li>
</ol>

<p>Then i've tried to clone repository with following ssh command:</p>

<pre><code>git clone git@localhost:repositoryname
</code></pre>

<p>Unfortunately i've got this permission error:</p>

<pre><code>Cloning into 'repositoryname'...
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>There is default testing repository with @all +RW permissions. So've tried this one</p>

<pre><code>git clone git@localhost:testing
</code></pre>

<p>and got the same error...</p>

<p>Is't possible to clone repository from gitolite on the same remote machine? What i'm doing wrong? How can i solve this problem?</p>
","2","3995066","0"
"23552252","3516031","2014-05-08 20:49:39","2","253","<git><github><gitolite>","branch permission conf with gitolite","<p>I am setting up Git Repos for my firm but I would like to give access to release leads and developers to diff things..  I starting to use GitoLite but dont know if this can be done of if someone has something better.</p>

<p>Here is the issues:</p>

<p><strong>users that are in @releases:</strong> can create branchs, update master, sql and create tags.</p>

<p><strong>users that are in @developers:</strong> can create branches under fix/issueXXXX, push and pull to them but cant update master or sqa... can pull from them but never update them</p>

<p>Here is my gitolite.conf</p>

<pre><code>@releasers = xsmith xrice
@developers = dev1 dev2 dev3

repo project
    RW+      = xsmith
    RW+ master   = @releasers     # allow @releasers access to release branch
    - master     = @developers    # deny @developers access to release branch
    RW+ develop  = @developers    # allow @developers access to development branch
    RW+ develop  = @releasers     # allow @developers access to development branch
    RW refs/tags = @releasers
    RW refs/heads = @releasers
</code></pre>

<p>but with the above file the developers cant create new branchs etc...  can someone please help me out with this.. also I want it so the developers can pull from master,sqa and develop but cant update them and cant create new branchs under fix/</p>
","0","3516031","0"
"24198908","2164525","2014-06-13 06:21:17","2","72","<git><gitolite>","How to restrict branch deletion access in gitolite","<p>Currently my gitolite.conf has configuration in such a way that branches can be deleted by the authorized users</p>

<pre><code>repo testing
    RW+    =    @test_rw
    R      =    @test_r
</code></pre>

<p>I want the to restrict the users from deleting master and Development branch. Only feature branches could be deleted by the users</p>

<p>How can this be achieved with gitolite.</p>
","0","2164525","0"
"5790704","549","2011-04-26 12:57:40","2","2667","<git><windows-server-2003><gitolite>","Can't clone and commit with gitolite","<p>I am having some trouble with git/gitolite on Windows Server 2003 (although I suspect the OS is not the source of the problem.)</p>

<p>If I do this:</p>

<pre><code>git clone git@server:test.git
</code></pre>

<p>I can't clone:</p>

<pre><code>Cloning into test...
git@server's password:
fatal: 'test.git' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>

<p>If I do this:</p>

<pre><code>git clone git@server:repositories/test.git
</code></pre>

<p>I can clone, but I can't commit:</p>

<pre><code>git@server's password:
Counting objects: 3, done.
Writing objects: 100% (3/3), 229 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: ENV GL_RC not set
remote: BEGIN failed--compilation aborted at hooks/update line 20.
remote: error: hook declined to update refs/heads/master
To git@dev.relocationmoverservices.com:repositories/test.git
 ! [remote rejected] master -&gt; master (hook declined)
error: failed to push some refs to 'git@server:repositories/test.git'
</code></pre>

<p>If I look at $REPO_BASE in my .gitolite.rc, I see:</p>

<pre><code># ------------------------------------------------------------------------------
# variables that should NOT be changed after the install step completes
# ------------------------------------------------------------------------------
$REPO_BASE=""repositories"";
</code></pre>

<p>Can anyone tell me what to do here?  Reinstall gitolite?  Change the variable?  Is this not the cause of the problem?</p>
","0","549","0"
"24420858","2434479","2014-06-26 00:50:55","1","114","<sudo><gitolite><rm>","enable 'sudo' to rm wild repo (gitolite)","<p>I need to delete wild repo, but don't have enough privileges to do so, even
though I am gitolite admin user, and I have no public key of the CREATOR of
that repo (as it's on another physical machine, which I currently have no
access to). I read something about 'sudo' command, but I don't know where I am
supposed to enable it, and how. I suppose it should be in .gitolite.rc file?!</p>

<p>Does anyone know how to do this? Thanks.</p>
","0","2434479","0"
"24437266","2434479","2014-06-26 18:03:34","2","562","<hook><gitolite>","gitolite post-receive hook not triggering","<p>In my <code>.gitolite.rc</code> file I have:</p>

<pre><code>LOCAL_CODE =&gt; ""$ENV{HOME}/.gitolite/local""
</code></pre>

<p>..then in <code>ENABLE</code> section of the same file I have enabled
<code>repo-specific-hooks</code>:</p>

<pre><code>ENABLE =&gt; [

# COMMANDS

# These are the commands enabled by default
    'help',
    'desc',
    'info',
    ...,
    ...,
    ...,
    'repo-specific-hooks'
    ...,
    ...,
    ...
    ]
</code></pre>

<p>, now, on my local machine inside <code>gitolite-admin</code> folder I have:</p>

<pre><code>gitolite-admin
...
...

└──local/
    └── hooks/
        ├── common/
        └── repo-specific/
            └── message* &lt;-- this one I want to call in a post-receive hook!
</code></pre>

<p>, and for some repo in my <code>gitolite-admin</code> conf file:</p>

<pre><code>repo foo
RW+                       =   @all
option hook.post-receive  =   message &lt;-- referencing script I want to call on post-receive
</code></pre>

<p>I did <code>commit</code> and <code>push</code>, from <code>gitolite-admin</code> and I can see that my <code>message</code> script got deployed where it should be on the server path ( that $ENV{HOME}/.gitolite/local ), with <strong>executable permsission set</strong>.</p>

<p>However, when I push to <code>repo foo</code> I don't get echoed message from my
<code>message</code> script, which simply is a bash script:</p>

<pre><code>echo ""hello from message""
exit 0
</code></pre>

<p>Why does that <code>post-receive</code> is not triggering?</p>

<p>Also if I understood well, there should be a symbolic link in that <code>foo repo</code>
called <code>post-receive</code> pointing to my <code>message</code> script, and there isn't one.</p>
","15","2434479","0"
"24660587","491687","2014-07-09 17:51:26","1","53","<git><gitolite>","Configure gitolite to exclude emails about certain branches","<p>I have a server using gitolite with lots of repositories. Right now, it sends an email to a mailing list after every commit. However, there are lots of these emails that really don't need to be generated. For example, we don't need to see if a branch was deleted, or if the branch is <code>*-signedoff</code> (we sign off branches before pushing to master). I'm trying to figure out if gitolite has a way of using a regex to have specific rules, but I can't find anything in the documentation or anyone else on the web who seems to be doing something similar.</p>

<p>Currently, the top level config looks like this:</p>

<pre><code>repo @all
  config hooks.envelopesender = abc@xyz.com
  config hooks.emailprefix    = '[%GL_REPO] '
  config hooks.mailinglist    = abc-commits@xyz.com
  config hooks.emailmaxline   = 10000
  RW+&gt;   = @admins  # Inherited to all repos
  RW&gt;&gt;   = @core  # Inherited to all repos
</code></pre>

<p>Is it possible to have per-commit rules in gitolite? Would I need to do something with a <code>post-receive</code> git hook?</p>
","0","491687","0"
"6362787","356746","2011-06-15 18:54:03","3","1427","<git><version-control><gitolite>","gitolite users cannot connect","<p>I've got an issue with other users being able to connect to my gitolite server. </p>

<p>Everything is working fine on my end (I'm the admin and also did the <code>gl-easy-install</code>) - however, I've requested a <code>pub</code> from another user and added it to the <code>keydir</code>, along with adding their permissions to the <code>gitolite-admin</code> repo in the <code>conf</code> file. I <code>git add</code> and <code>commit</code> those files, and <code>push</code> them back up to the gitolite server. Everything looks good.</p>

<p>I told the user to try <code>git clone git@server.com:gitolite-admin.git</code> and they get a permission error. The command hooks are in the git user's <code>authorized_keys</code> file, so I'm a little confused as to what I'm missing.</p>

<p>I saw in some other answers that the correct address to use is <code>user@server.com:gitolite-admin.git</code>, but based on the <code>authorized_keys</code> file, that doesn't seem at all correct.</p>

<p>Help is much appreciated, thanks for your expertise!</p>
","0","356746","0"
"6366363","1145208","2011-06-16 02:02:09","7","11572","<gitolite>","gitolite installation: I cannot clone gitolite-admin repo!","<p>I'm trying to install gitolite on my ubuntu server machine.</p>

<p>still, there're lots of things I don't know yet, but I'm stepping forwarding very slowly following its instruction(http://sitaramc.github.com/gitolite/doc/1-INSTALL.html).</p>

<ol>
<li>my account of the server is 'yoon' and gened key-pair using ssh-keygen command without passpharse(just hit enter). then, copy public key to /tmp dir and chmod it 777.</li>
<li>install gitolite using 'sudo apt-get install gitolite' and it also created gitolite account.(last line of output was <strong>No adminkey given - not initializing gitolite in /var/lib/gitolite.</strong>)</li>
<li>change user using 'sudo su gitolite' and exec 'gl-setup /tmp/id_rsa.pub'.</li>
<li>return to my account(yoon) and run 'git clone gitolite@myserver.com:gitolite-admin' and then it asks <strong>gitolite@yoonha.iptime.org's password</strong>.</li>
<li>If I hit enter because I didn't typed any passpharse when creating key pair, terminal said that <strong>Permission denied, please try again</strong>.</li>
</ol>

<p>plz let me give any clue~
THANK YOU!</p>

<p>+ I'm using same maching as a server and a client.</p>

<p>+ full list of ssh -vvv command</p>

<pre><code>yoon@ubuntu:~$ ssh -vvv gitolite@myserver.com
OpenSSH_5.5p1 Debian-4ubuntu5, OpenSSL 0.9.8o 01 Jun 2010
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to myserver.com [xxx.xxx.xxx.xxx] port 22.
debug1: Connection established.
debug3: Not a RSA1 key file /home/yoon/.ssh/id_rsa.
debug2: key_type_from_name: unknown key type '-----BEGIN'
debug3: key_read: missing keytype
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug3: key_read: missing whitespace
debug2: key_type_from_name: unknown key type '-----END'
debug3: key_read: missing keytype
debug1: identity file /home/yoon/.ssh/id_rsa type 1
debug1: Checking blacklist file /usr/share/ssh/blacklist.RSA-2048
debug1: Checking blacklist file /etc/ssh/blacklist.RSA-2048
debug1: identity file /home/yoon/.ssh/id_rsa-cert type -1
debug1: identity file /home/yoon/.ssh/id_dsa type -1
debug1: identity file /home/yoon/.ssh/id_dsa-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.5p1 Debian-4ubuntu5
debug1: match: OpenSSH_5.5p1 Debian-4ubuntu5 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.5p1 Debian-4ubuntu5
debug2: fd 3 setting O_NONBLOCK
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit: first_kex_follows 0
debug2: kex_parse_kexinit: reserved 0
debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
debug2: kex_parse_kexinit: ssh-rsa,ssh-dss
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit: none,zlib@openssh.com
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit:
debug2: kex_parse_kexinit: first_kex_follows 0
debug2: kex_parse_kexinit: reserved 0
debug2: mac_setup: found hmac-md5
debug1: kex: server-&gt;client aes128-ctr hmac-md5 none
debug2: mac_setup: found hmac-md5
debug1: kex: client-&gt;server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 126/256
debug2: bits set: 503/1024
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug3: check_host_in_hostfile: host myserver.com filename /home/yoon/.ssh/known_hosts
debug3: check_host_in_hostfile: host myserver.com filename /home/yoon/.ssh/known_hosts
debug3: check_host_in_hostfile: host myserver.com filename /etc/ssh/ssh_known_hosts
debug3: check_host_in_hostfile: host myserver.com filename /etc/ssh/ssh_known_hosts
debug3: check_host_in_hostfile: host xxx.xxx.xxx.xxx filename /home/yoon/.ssh/known_hosts
debug3: check_host_in_hostfile: host xxx.xxx.xxx.xxx filename /home/yoon/.ssh/known_hosts
debug3: check_host_in_hostfile: host xxx.xxx.xxx.xxx filename /etc/ssh/ssh_known_hosts
debug3: check_host_in_hostfile: host xxx.xxx.xxx.xxx filename /etc/ssh/ssh_known_hosts
debug3: check_host_in_hostfile: host myserver.com filename /home/yoon/.ssh/known_hosts
debug3: check_host_in_hostfile: host myserver.com filename /etc/ssh/ssh_known_hosts
debug2: no key of type 0 for host myserver.com
debug3: check_host_in_hostfile: host myserver.com filename /home/yoon/.ssh/known_hosts2
debug3: check_host_in_hostfile: host myserver.com filename /etc/ssh/ssh_known_hosts2
debug3: check_host_in_hostfile: host myserver.com filename /home/yoon/.ssh/known_hosts
debug3: check_host_in_hostfile: host myserver.com filename /etc/ssh/ssh_known_hosts
debug2: no key of type 2 for host myserver.com
The authenticity of host 'myserver.com (xxx.xxx.xxx.xxx)' can't be established.
RSA key fingerprint is d4:5d:af:76:51:63:42:7d:ed:43:5f:bf:17:c6:c3:d4.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'myserver.com,xxx.xxx.xxx.xxx' (RSA) to the list of known hosts.
debug2: bits set: 503/1024
debug1: ssh_rsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /home/yoon/.ssh/id_rsa (0x7fc8e9b596b0)
debug2: key: /home/yoon/.ssh/id_dsa ((nil))
debug1: Authentications that can continue: publickey,password
debug3: start over, passed a different list publickey,password
debug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering public key: /home/yoon/.ssh/id_rsa
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey,password
debug1: Trying private key: /home/yoon/.ssh/id_dsa
debug3: no such identity: /home/yoon/.ssh/id_dsa
debug2: we did not send a packet, disable method
debug3: authmethod_lookup password
debug3: remaining preferred: ,password
debug3: authmethod_is_enabled password
debug1: Next authentication method: password
gitolite@myserver.com's password:
debug3: packet_send2: adding 64 (len 53 padlen 11 extra_pad 64)
debug2: we sent a password packet, wait for reply
debug1: Authentications that can continue: publickey,password
Permission denied, please try again.
gitolite@myserver.com's password:
debug3: packet_send2: adding 64 (len 53 padlen 11 extra_pad 64)
debug2: we sent a password packet, wait for reply
debug1: Authentications that can continue: publickey,password
Permission denied, please try again.
gitolite@myserver.com's password:
debug3: packet_send2: adding 64 (len 53 padlen 11 extra_pad 64)
debug2: we sent a password packet, wait for reply
debug1: Authentications that can continue: publickey,password
debug2: we did not send a packet, disable method
debug1: No more authentication methods to try.
Permission denied (publickey,password).
</code></pre>
","0","1145208","0"
"43345751","4754229","2017-04-11 12:20:21","1","45","<gitolite><mirroring>","gitolite3 v3.5.2-g2515992 mirroring issue","<p>Hi I was trying to setup mirroring in gitolite3 version 3.5.2. </p>

<p>I had followed steps as specified in this link <a href=""http://gitolite.com/gitolite/mirroring/"" rel=""nofollow noreferrer"">http://gitolite.com/gitolite/mirroring/</a></p>

<p>but when ran this command on the master server 
<code>gitolite mirror push LIP-SLAVE gitolite-admin</code></p>

<p>I am getting this below msg
FATAL: HOSTNAME not set</p>

<p>I had set HOSTNAME in .gitolite.rc file in gitolite admin home dir. but gitolite is not picking it up </p>

<p>Does any one know how to set HOSTNAME is gitolite v3.5.2</p>

<p>Thanks in advance</p>
","0","4754229","0"
"22704795","3321663","2014-03-28 05:21:16","2","385","<git><ssh><gitolite>","Can't use git://IP/repo.git on Windows","<p>I am having a weird issue, but I guess I didn't configure well my setup. </p>

<p>I have a server running a gitolite server on Ubuntu. And I am using both MacOS and Windows on my workstation.   </p>

<p>On MacOS no issue at all I can us git clone <code>git://IP/repo.git</code> and get the clone of the repo.  </p>

<p>But on Windows I installed the latest version of msysgit 1.9 and TortoiseGit.<br>
I create a key-pair with the git bash, and add it manually in my server.<br>
During installs of Git and TortoiseGit, I may have messed up something like I didn't chose the good configuration firstly. I fixed it after. I mean I chose <code>plink</code> as ssh, and now I have reset it to the <code>openssh</code> included in git. </p>

<p>So the thing is I can do <code>ssh git@IP</code> and get a good answer with all of my repos.<br>
But if I do git clone `git://IP/repo.git, I have an access error:</p>

<pre><code>fatal: remote error: access denied or repository not exported.
</code></pre>

<p>However if I do <code>git clone ssh://git@IP/repo.git</code> it works I can clone. </p>

<blockquote>
  <p>So I am wondering why I can't just use <code>git://</code> and have to use <code>ssh://</code> ? Is it normal ?
  Any guess or clues ? Which files should I inspect ?</p>
</blockquote>
","0","3321663","0"
"14855434","1600312","2013-02-13 14:09:03","3","767","<git><gitolite>","Preventing user from changing .gitignore file?","<p>Is there any why to force user not to change .gitignore file. What I mean is let's say that someone will change or delete this file and push this changes.</p>
","3","1600312","0"
"15523161","2190628","2013-03-20 12:11:05","1","894","<gitolite>","Create v3 gitolite repositories from existing v2 repos","<p>I have got a gitolite v2 installed on my company's server, and now I have to administrate it. Since it's really chaotic there I decided to install a new one, now it's v3. I have around 8 repositories what I want to move to the new install.</p>

<p>I don't need the old .rc file or any configurations, just the (working!) <code>$GIT_HOME/repositories/*.git</code></p>

<p><strong>What I tried:</strong> (found it while searching for solution)<br>
copied all <code>$GIT_OLD_HOME/repositories/*.git</code> to <code>$GIT_HOME/repositories/*.git</code> (except gitolite-admin.git and testing.git)</p>

<p>then I updated the <code>gitolite-admin.git/conf/gitolite.conf</code> (by cloning and pushing back changes) with this kind of entries:    </p>

<p><code>repo myrepo1</code><br>
<code>RW+   =  @all</code></p>

<p>Now if I want to clone anything other than gitolite-admin or testing, it sais:<br>
<code>FATAL: R any myrepo1 myusername DENIED by fallthru</code></p>

<p><strong>Few things I've checked:</strong><br>
<code>ls -l $GIT_HOME</code> -> gitolite:gitolite it's ok I guess since gitolite is the user I want to use<br>
I did the same for all entries in the <code>repositories</code> directory and the permissions are the same.  </p>

<p>I was googling for a solution however I didn't find any that fits my case. If you can help me or suggest me anything, please don't hold back :)</p>

<p>If you need any more details to find out the answer just tell me.</p>
","0","2190628","0"
"32531512","277303","2015-09-11 20:19:08","2","186","<git><http><gitolite>","Access file from gitolite-hosted git repository directly using http client","<p>I'm hosting git repositories with gitolite, and have setup both <a href=""http://gitolite.com/gitolite/ssh-and-http.html"" rel=""nofollow"">ssh and http access</a>. I can clone repositories over ssh and http using the git cli. Now, I need to be able to load a file from the git repository over http without using the git client. Specifically, I need to provide the URL <code>https://git.example.com/myproject/locale/en/LC_MESSAGES/default.po</code> to the <a href=""https://www.transifex.com/"" rel=""nofollow"">Transifex</a> translation service so it can poll for changes to the <code>.po</code> messages file.</p>

<p>Is there a simple way to access this file directly using a http client?</p>

<p>An option I tried already: we are using Trac, which has a built-in source browser and provides links to raw files, but each URL is bound to a specific revision hash (<a href=""https://trac.strangecode.com/pulso/export/51e037aedb09735106f2e51520c3ff4430b663e3/locale/en/LC_MESSAGES/default.po"" rel=""nofollow"">example</a>), with no option to link to the ""latest"" file.</p>

<p>I've considered setting up a <code>post-receive</code> hook to export this file (or the whole repo) to a web-accessible location. However, I'd like to know if it is possible to access files directly in a repository via gitolite, not a workaround like this.</p>
","0","277303",""
"15540529","1631818","2013-03-21 06:03:23","1","278","<cygwin><gitolite>","gitolite can't add keys to authorized_keys when pushing","<p>cloning gitolite-admin to my workstation and managing users and repo, but when pushing, I got some errors like this:</p>

<pre><code>remote: Initialized empty Git repository in /home/git/repositories/fmame.git/
remote: /bin/find: paths must precede expression
remote: Usage: /bin/find [path...] [expression]
remote: /bin/find: paths must precede expression
remote: Usage: /bin/find [path...] [expression]
remote: /bin/find: paths must precede expression
remote: Usage: /bin/find [path...] [expression]
remote: /bin/find: paths must precede expression
remote: Usage: /bin/find [path...] [expression]
remote: /bin/find: paths must precede expression
remote: Usage: /bin/find [path...] [expression]

To git@localhost:gitolite-admin
</code></pre>

<p>here is my steps:</p>

<p>1/ editing gitolite.conf：</p>

<pre><code>repo gitolite-admin
    RW+     =   gitoliteadm

repo testing
    RW+     =   @all

repo mfame
    RW+ = ryoma
</code></pre>

<p>2/ puts <code>ryoma.pub</code> in <code>keydir</code> directory.</p>

<p>and I have my work running on windows 7 within cygwin.</p>

<p>How would you modify this setup in order to allow me cloning the gitolite-admin repo?</p>
","0","1631818","0"
"15542847","2190628","2013-03-21 08:46:33","1","372","<git><gitolite>","gitolite git clone ssh:// works but git clone git:// doesn't for few directories","<p>I have this problem:</p>

<p>I could <code>git clone git@myserver.com:myrepo</code> repos on my gitolite server. After that I installed git-daemon to be able to do the same with git protocol. Now I can <code>git clone git://myserver.com/myrepo</code> only those repos which has not been cloned with ssh protocol.<br>
For the other repos I get:  </p>

<pre><code>Cloning into 'myrepo'...
fatal: The remote end hung up unexpectedly
</code></pre>

<p>At the same time I didn't see those repositories on gitweb, but I did:<br>
<code>usermod -a -G git www-data</code> # where www-data is the user that hosts apache2<br>
<code>chmod -R 0755 /path/to/my/gitolite/repositories/</code>  </p>

<p>And now I see all the repos on gitweb.</p>

<p>I guess those issues are related, but I can't find out why or how.</p>

<p>I don't have any complicated <code>.gitolite.rc</code> configuration, I only changed <code>UMASK from 0077 to 0027</code></p>

<p>All repositories belong to <code>git</code> user in <code>git</code> group.</p>

<p>If you need any more details, just ask for them :) Any help or suggestion appretiated!</p>
","5","2190628","0"
"15589929","681790","2013-03-23 17:35:33","1","313","<git><gitolite>","Repository and User Access for git using gitolite","<p>First I am new to GIT and gitolite. But I have read enough and cleared my basic concepts.
I was following Sitaram's tutorial <a href=""https://github.com/sitaramc/gitolite"" rel=""nofollow"" title=""gitolite repo"">https://github.com/sitaramc/gitolite</a> I wanted to ask few question for clarification and doubts.</p>

<ol>
<li><p>I have a user git. Is it really necessary for a git user to have no password (user created with <code>--disabled-password</code> option (which I can't make it working on RHEL. but it worked on ubuntu))? I understand that git user must be accessible with ssh.</p></li>
<li><p>Lets say I have a GIT server and three clients gitadmin, cleintA and clientB. Now to make gitolite work, on gitadmin I copy clientA.pub, ClientB.pub (the public keys) to <code>keydir</code> then I edit my <code>conf/gitolite.conf</code> like as follows:</p>

<pre><code> repo phpsite
       RW+         =   clientA

 repo javasite
       RW+         = clientB
</code></pre></li>
</ol>

<p>Now my question is when I commit these files and push them on server. What happens then?
How these repos are created? do I have to manually create them or gitolite will create it?</p>

<p>Now when clientA needs to clone/checkout the repo what url will it use?</p>

<p><code>git@server.com:phpsite</code> or will it be <code>clientA@server:phpsite</code>.</p>

<p>I know this question may be a little stupid, but I really need to clear these doubts</p>

<p>Any help or hint is much appreciable.</p>

<hr>

<p><strong>EDIT</strong></p>

<p>After VonC answer I implemented the gitolite and got around another Doubt.
Lets say I have a machine <code>clientA</code> which got two users <code>alice,bob</code> Now Ideally the public key should be <code>alice.pub and bob.pub</code> for these users. Now Question is can I generate and name a public key for <code>alice</code> like <code>alice-clientA.pub</code>? From my understanding a different file name should not be a issue for authentication. But what about  <code>conf/gitolite.conf</code> the users name under repo should be like </p>

<pre><code>repo phpsite
   RW+     =  alice-clientA
</code></pre>

<p>OR</p>

<p>should it be same as before</p>

<pre><code> repo php:site
   RW+    =   alice
</code></pre>

<p>Thanks!</p>
","0","681790","0"
"32555983","408195","2015-09-14 00:51:11","1","396","<gitolite>","How to setup start repo on gitolite3?","<p>I have gitolite3 up and running. When I create an entry on conf/gitolite.conf with a new repo, gitolite3 creates a brand new repo.</p>

<p>Is it possible to make it clone from an existing repo, instead of creating a new one?</p>
","0","408195","0"
"15663589","2216197","2013-03-27 16:07:00","2","563","<gitolite><gitweb>","gitweb 404 - No projects found when gitolite-admin push","<p>Context:</p>

<ul>
<li>gitolite (v3.5-0-g4071623) installed;</li>
<li>gitweb installed;</li>
<li>gitolite and gitweb works fine until I add a new repository in <code>gitolite-admin</code> and push the changes
<ul>
<li>gitweb user: <code>www-data</code> </li>
<li>gitolite user: <code>git</code></li>
</ul></li>
</ul>

<p>with:</p>

<pre><code>usermod -a -G git www-data
usermode -a -G www-data git
</code></pre>

<p>When I add a new repository, gitolite changes permissions of <code>projects.list</code> to <code>-rw-------</code> (user: read write)</p>

<p>In order for gitweb to work using <code>projects.list</code> file the permissions should be at least
<code>-rw-r-----</code> (user: read write; group:read)</p>

<p>When I manually set permission to the file:</p>

<pre><code>chmod g+r projects.list
</code></pre>

<p>, gitweb starts working again.</p>

<p>File <code>.gitolite.rc</code> contains <code>UMASK =&gt; 0027</code>.</p>

<p>Question:</p>

<p><strong>How to make gitolite set permisions <code>-wr-r-----</code> (u:rw g:r) to <code>projects.list</code> file when a push to <code>gitolite-admin</code> is performed ?</strong></p>
","0","2216197","0"
"15679509","1136979","2013-03-28 10:31:55","1","499","<php><gitolite><git-ftp>","Adding git-ftp to my environment for php","<p>I've installed <a href=""https://github.com/resmo/git-ftp"" rel=""nofollow"">git-ftp</a> onto my CentOS Server so that I can do deployments from an activeCollab installation running the ac_gitolite module.</p>

<p>Everything installed fine and the app lives at</p>

<pre><code>/usr/local/bin/git-ftp
</code></pre>

<p>When I log into the server via ssh I can run git-ftp commands without the full path, but when attempting to use PHP to run commands with exec ie:</p>

<pre><code>exec (""git-ftp --version 2&gt;&amp;1"", $output);
</code></pre>

<p>I receive the following error:</p>

<pre><code>sh: git-ftp: command not found
</code></pre>

<p>Is there an environment path I need to specify somewhere specifically for PHP, or what am I doing wrong?</p>
","0","1136979","0"
"15748186","1016265","2013-04-01 17:25:19","2","111","<git><gitolite>","git push with error message","<p>I have gitolite on server with next config</p>

<pre><code>@developers = john bill 

repo    gitolite-admin
        RW+     =   admin

repo    main-project
        RW+CD      =   admin
        R master$       =  @developers
        RW+ develop$    =  @developers
</code></pre>

<p>and all <code>@developers</code> can see next error message, when they do <code>git push</code> </p>

<pre><code>$ git push origin develop
Counting objects: 117, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (88/88), done.
Writing objects: 100% (93/93), 400.94 KiB
Total 93 (delta 17), reused 0 (delta 0)
error: Unable to append to ./logs/HEAD: P
To ssh://gitolite@server/project
   ed683c3..b27b683  develop -&gt; develop
</code></pre>

<p>how could I solve it ?</p>
","7","1016265","0"
"15765625","1467382","2013-04-02 13:38:23","1","2056","<git><gitolite>","How to config the gitolite repo path the way I don't need to bypass gitolite? Why gitlab app creates repos on the right path?","<p>I've installed Gitlab with gitolite, the fullsite works fine, its creating the repos just fine...</p>

<p>but then, when I try to push some code from a dev machine, it raises an error...</p>

<pre><code>git init
git remote add origin ssh://git@gitbox.com:10000/test_of_mine.git
git add .
git commit -m ""first commit""
git push origin master   
</code></pre>

<p>that outputs:</p>

<pre><code>fatal: '/test_of_mine.git' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>

<p>When I bypass gitolite, adding a remote with full path, it finds the repo, but with another error, caused for bypassing</p>

<pre><code>git remote add origin ssh://git@gitbox.com:10000/~git/repositories/test_of_mine.git
</code></pre>

<p>which returns</p>

<pre><code> Delta compression using up to 4 threads.
  Compressing objects: 100% (329/329), done.
  Writing objects: 100% (667/667), 785.81 KiB, done.
  Total 667 (delta 327), reused 639 (delta 311)
  remote: Empty compile time value given to use lib at hooks/update line 6
  remote: Use of uninitialized value in require at hooks/update line 7.
  remote: Can't locate Gitolite/Hooks/Update.pm in @INC (@INC contains:  /etc/perl /usr/local/lib/perl/5.10.1 /usr/local/share/perl/5.10.1 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .) at hooks/update line 7.
  remote: BEGIN failed--compilation aborted at hooks/update line 7.
  remote: error: hook declined to update refs/heads/master
  To ssh://git@gitbox.com:10000/~git/repositories/test_of_mine.git
   ! [remote rejected] master -&gt; master (hook declined)
  error: failed to push some refs to 'ssh://git@gitbox.com:10000/~git/repositories/test_of_mine.git'  
</code></pre>

<p>Why I'm getting this errors? Am I missing any path config?</p>

<p>How to config the gitolite repo path, the way I don't need to bypass gitolite?</p>

<p>And why the gitlab app works fine, creating repositories on the right path, without raises any error?</p>
","0","1467382","0"
"15884631","1033708","2013-04-08 16:49:42","1","355","<teamcity><gitolite>","Making gitolite trigger teamcity builds","<p>Rather than having teamcity log onto the gitolite server several tens of thousands of times each day - and also sitting around waiting for the poll to happen (or starting it manually).</p>

<p>It would be nice if it was possible to set it up gitolite hooks that inform TeamCity that the repository has changed. </p>

<p>Is such a configuration possible with TeamCity and gitolite?</p>

<p>I know Jenkins has a github plugin that works nicely - I use that setup for some Minecraft CI I am running privately.</p>
","0","1033708","0"
"15931171","2030688","2013-04-10 16:16:36","5","507","<git><gitolite><git-remote>","Is there a reason why you shouldn't mix ssh and smart http access with git?","<p>I have set up a git server using gitolite for a small team. One of us created a repo and pushed the initial commits using smart http - let's say it resides at</p>

<pre><code>http://ourhost/project.git
</code></pre>

<p>I then proceeded to clone the project using ssh i.e. </p>

<pre><code>git clone git@ourhost:project.git
</code></pre>

<p>Git let me do it and created the project folder but reported that the repo was <strong>empty</strong>. 
Furthermore any git pull I did gave me ""<strong>couldn't find remote ref master</strong>"" errors.
When I then ran</p>

<pre><code>git remote -v show origin 
</code></pre>

<p>It showed HEAD branch: (unknown). When I checked on the server (runs gitlab) I could see the master branch and all the code so it was clearly there.</p>

<p>Finally I cloned it using smart http and lo and behold it all worked and I can get on with it.</p>

<p>But why is this? Why should it matter which method each of us use to push/pull? Gitlab even shows the two URLs (for ssh or smart http) as alternatives for repos so it seems to be expected to work...)</p>

<p>Or am I missing something...?</p>
","5","2030688","0"
"15939529","1790870","2013-04-11 02:02:52","2","943","<git><gitolite>","In gitolite, how to reject pushes containing incorrect author info","<p>I intend to only accept the commits containning correct author information. like 
<code>Author: Name&lt;xxxx@xxx.org&gt;</code></p>

<p>in gitolite, is there a way to implement it? BTW, I use V2.
Thank you in advance.</p>
","0","1790870","0"
"16004729","419017","2013-04-14 21:46:21","3","884","<gitolite>","Regenerate authorized_keys file in gitolite?","<p>Is it possible? My authorized_keys file was wiped, updating gitolite admin rules only appends to file. Is it possible to regenerate the whole file based on gitolite config?</p>

<p>EDIT: found it!</p>

<p><strong><code>gitolite trigger POST_COMPILE</code></strong></p>
","0","419017","0"
"16011400","1263927","2013-04-15 09:06:13","1","132","<git><gitolite>","removing a repo from a group in gitolite","<p>I've a gitolite setup, my gitolite.conf file looks like, </p>

<pre><code>@myrepos = test
@myrepos = proj1 proj2

repo @myrepos
    RW+ = user1 user2 user3 user4
</code></pre>

<p>Now, I'd like to give access to a new user ""user5"" to ""proj2"" alone.
Is there a way to do it in gitolite without removing the repo from the group?</p>

<p>If I were to remove the repo ""proj2"" from the group to place it separately, would that break something?</p>
","0","1263927","0"
"16046757","2030688","2013-04-16 20:45:32","2","965","<git><raspberry-pi><gitolite>","Unable to disable git log-in shell to prevent shell access","<p>I have set up git+gitolite on my raspberry pi (Debian, wheezy)
I have a git user and wanted to add some extra security by disabling the log-in shell for it. According to documentation out there it should be plain sailing so I did;</p>

<pre><code>sudo usermod -s /usr/bin/git-shell git
</code></pre>

<p>and I added /usr/bin/git-shells to my /etc/shells file.
However, when I run git clone or ssh -vT git@myhost the error I get is</p>

<pre><code>fatal: unrecognized command '/home/git/bin/gitolite-shell MYUSERNAME'
</code></pre>

<p>I have also changed the shell to the gitolite-shell but this gives me an error stating that ""-c"" is an unrecognized command.</p>

<p>Is this something others have experienced and can provide help about?</p>
","2","2030688","0"
"16114903","2300946","2013-04-19 23:32:00","1","361","<hook><gitolite>","gitolite emailprefix GL_REPO not expanded","<p>I am using gitolite v2.2 on Ubuntu 12.04.</p>

<p>The GL_REPO variable does not get expanded for emailprefix.</p>

<p>In my gitolite.conf file I have this:</p>

<pre><code>repo @all
    config hooks.mailinglist = xxx@somewhere
    config hooks.emailprefix = ""[%GL_REPO] ""
    config hooks.emailmaxlines = 1000

...
repo testing
    RW+ = @all
</code></pre>

<p>I am getting email when I push changes to the testing repo, but the subject line looks like this:</p>

<pre><code>[%GL_REPO] branch master updated. 
</code></pre>

<p>Is there a typo in my configuration, a setting I missed, or is this a problem in v2.2?</p>
","0","2300946","0"
"16151528","283991","2013-04-22 16:01:57","7","5972","<centos><gitolite><centos5>","gitolite setup getting FATAL: fingerprinting failed for '/tmp/Q3pnE4WVbu'","<p>I am installing gitolite on a CentOS 5.9 server. I have created the git user, then after <code>su - git</code> I have managed to get my public key into the ~/.ssh/ directory, I have successfully cloned the gitolite repo from github and have run <code>gitolite/install -ln</code>. Next step is to run gitolite setup. </p>

<pre><code>git@hostname [~]# gitolite setup -pk $HOME/.ssh/micha.pub
Initialized empty Git repository in /home/git/repositories/gitolite-admin.git/
Initialized empty Git repository in /home/git/repositories/testing.git/
FATAL: fingerprinting failed for '/tmp/Q3pnE4WVbu'
</code></pre>

<p>Google search and a search here on SO have not helped me resolve this <code>FATAL</code> error, and I am now stymied.</p>

<p>Am I supposed to have customised the gitolite.conf file previous to running the setup? I have been following the instructions from <a href=""http://gitolite.com/gitolite/progit.html"" rel=""noreferrer"">http://gitolite.com/gitolite/progit.html</a> as they are a little easier for noob like me to understand than the normal gitolite documentation. However these instructions make no mention of customising the .conf file.</p>

<hr>

<p><strong>UPDATE:</strong>
I have tried generating a new key and it still fails: </p>

<pre><code>git@hostname [~]# ssh-keygen -t rsa -C ""Gitolite Admin Access (not interactive)"" -P """" 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/git/.ssh/id_rsa): /home/git/.ssh/micha
/home/git/.ssh/micha already exists.
Overwrite (y/n)? y
Your identification has been saved in /home/git/.ssh/micha.
Your public key has been saved in /home/git/.ssh/micha.pub.
The key fingerprint is:
33:b6:62:8b:b9:58:07:7a:71:6a:02:a5:ff:7e:c3:3a Gitolite Admin Access (not interactive)
git@hostname [~]# gitolite setup -pk $HOME/.ssh/micha.pub
Initialized empty Git repository in /home/git/repositories/gitolite-admin.git/
Initialized empty Git repository in /home/git/repositories/testing.git/
FATAL: fingerprinting failed for '/tmp/pUKqewb66w'
</code></pre>

<p>I have also tried replacing <code>$HOME</code> with the full path, just in case the <code>su - git</code> had confused it. Is there some problem with my ssh install? Not sure how there would be as I am using ssh to connect to this server.</p>

<hr>

<p><strong>UPDATE:</strong> 
It turns out gitolite was retaining the public keys I had tried to set up with previously that had failed. I then removed the all the repos, the gitolite source directory, the symlink in ~/bin and the .gitolite directory and started the install process again. I cloned the gitolite repo from github, generated a new key after deleting all the other keys that I had tried to use before. I then ran <code>gitolite install -ln</code> and finally </p>

<pre><code>git@hostname [~]# gitolite setup -pk $HOME/admin.pub
Initialized empty Git repository in /home/git/repositories/gitolite-admin.git/
Initialized empty Git repository in /home/git/repositories/testing.git/
FATAL: fingerprinting failed for '/tmp/tsIx4cKWHj'
</code></pre>

<p>Still failing.</p>
","0","283991","0"
"16249940","1790870","2013-04-27 08:25:25","1","140","<gitolite>","In gitolite, any easier way to create exceptions to users of @all?","<p>For instance, in the repo <code>PRJ</code>, there are several groups, like <code>@A1 @A2 @B1 @B2</code>, <code>UserX</code> is in group <code>@B1</code>. </p>

<p>Now I want to add one rule for <code>UserX</code>, only allow him to modify the code in <code>src/</code> folder, but do not apply this rule to others.<br>
Is there any easier way to implement it?</p>

<pre><code>@B1 = UserX UserY UserZ
repo    PRJ
    R               =   @A1 @A2
    RW+             = @B1 @B2
    RW   NAME/      = @A1 @A2 @B2 UserY UserZ
    #RW  NAME/      =   @all-UserX # like this?
    RW   NAME/src/  =   UserX
    -    NAME/      =   UserX
</code></pre>
","0","1790870","0"
"50521161","1470947","2018-05-25 03:39:07","1","231","<git><redmine><gitolite><redmine-plugins><smart-http>","redmine with smart http and redmine_git_hosting does not allow pushing to repository","<p>Redmine version: 3.4.4.stable
redmine_git_hosting plugin version: 1.2.3
gitolite v.3</p>

<p>HTTPS only access to repositories. 
I can clone OK but when pushing I get the following error:</p>

<pre><code>fatal: Authentication failed for '&lt;repo URL&gt;'
</code></pre>

<p>On the server side in the git_hosting.log I get the following error however:</p>

<pre><code>SmartHttp : your are trying to push data without SSL!, exiting !
</code></pre>

<p>I am confused on what the real cause of the problem is</p>

<p>My virtual host redmine configuration file is:</p>

<pre><code>`&lt;VirtualHost *:443&gt;
    ServerName .....
    ServerAlias ......
    ServerAdmin ....
    DocumentRoot  /opt/redmine/public
    PassengerRuby ......
    PassengerFriendlyErrorPages on

    ErrorLog /var/log/httpd/redmine-error_log
    CustomLog /var/log/httpd/redmine-access_log common

    &lt;Directory ""/opt/redmine""&gt;
      Require all granted
      # MultiViews must be turned off
      Options -MultiViews
    &lt;/Directory&gt;

    PerlLoadModule Apache::Authn::Redmine

    &lt;Location /&gt;
     Order allow,deny
     Allow from all

    PerlAccessHandler Apache::Authn::Redmine::access_handler
    PerlAuthenHandler Apache::Authn::Redmine::authen_handler

    RedmineDSN ""DBI:Pg:database=redmine;host=127.0.0.1""
    RedmineDbUser ""redmine""
    RedmineDbPass ""xxxxx""

    RedmineGitSmartHttp yes
  &lt;/Location&gt;
&lt;/VirtualHost&gt;`
</code></pre>

<p>Thanx in advance for any help!</p>
","0","1470947","0"
"17167414","2451418","2013-06-18 11:11:29","59","49095","<git><hosting><gitolite><gitlab><gitorious>","Which is the best git hosting sw? - Gitolite vs. Gitlab vs. Gitorius","<p>I am looking for a git hosting environment for several users. Therefore i've searched for comparisons between <strong>Gitolite</strong>, <strong>Gitlab</strong> and <strong>Gitorius</strong>. But i get nothing what could be useful.</p>

<p>Is there anybody, who has experiences with different hosting tools and could provide an advice? </p>
","3","2451418","0"
"33771467","5275810","2015-11-18 03:45:37","1","121","<gitolite>","Unable to clone a gitolite repo created in ubuntu in windows","<p>I created a gitolite repo in my ubuntu server following the steps mentioned in the below link.</p>

<p><a href=""http://www.bigfastblog.com/gitolite-installation-step-by-step"" rel=""nofollow"">http://www.bigfastblog.com/gitolite-installation-step-by-step</a></p>

<p>From my ubuntu client, I was able to clone the repo, by giving necessary information in <code>~/.ssh/conf</code></p>

<p>In windows I again created <code>.ssh/conf</code> similar to ubuntu, <code>.ssh/conf</code> is as shown below:</p>

<pre><code> Host gitbox
 User gitolite
 Hostname 10.47.52.185
 Port 22
 IdentityFile C:\Users\AY\.ssh\anish
</code></pre>

<p>Now when I try to clone, it is giving me below error:</p>

<pre><code> git clone gitbox:gitolite-admin
 Cloning into 'gitolite-admin'...
 ssh: Could not resolve hostname gitbox: no address associated with name
 fatal: Could not read from remote repository.

 Please make sure you have the correct access rights
 and the repository exists.
</code></pre>

<p>I guess  <code>.ssh/conf</code> doesn't have any effect.<br>
How can I clone a gitolite repo in windows?</p>
","0","5275810","0"
"33832052","5352276","2015-11-20 16:55:49","1","260","<gitolite><repo>","""repo sync"" failed with ""bad command: git-upload-pack '...' ""","<p>In the following log, the URL repos/repoman@svr:repos/apps/init is wrong.</p>

<p>The right URL should be repoman@svr:repos/apps/init.</p>

<p>Gitolite is running on the server, svr.</p>

<p>Please indicate what should be modified to make repo sync work properly.</p>

<p>Thanks!</p>

<pre><code>me@ubuntu1204x64:/home/me/work$ repo init -u repoman@svr:repos/manifests -m model_r1.xml
Get repoman@svr:repos/manifests
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (7/7), done.
remote: Total 7 (delta 2), reused 0 (delta 0)
From 172.16.100.235:/mdm9640_le/manifests
 * [new branch]      master     -&gt; origin/master`

me@ubuntu1204x64:/home/me/work$ repo sync
Fetching project apps/init
bad command: git-upload-pack repos/repoman@svr:repos/apps/init
fatal: The remote end hung up unexpectedly`

me@ubuntu1204x64:/home/me/work$ cat .repo/manifest.xml
&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;manifest&gt;
   &lt;remote fetch=""repoman@svr:repos"" name=""origin""/&gt;
   &lt;default remote=""origin"" revision=""model_r1""/&gt;
   &lt;project path=""apps/init"" name=""apps/init"" revision=""refs/heads/model_r1"" /&gt;
&lt;/manifest&gt;`
</code></pre>
","0","5352276","0"
"17321259","1176782","2013-06-26 13:23:07","2","780","<gitolite><syntax-checking>","How to check gitolite configuration file syntax before using it?","<p>I would like to <strong>check the syntax of the gitolite configuration file</strong> <code>conf/gitolite.conf</code> before using (pushing) it. Is there a way to achieve that?</p>
","0","1176782","0"
"18089228","1960610","2013-08-06 19:52:53","2","484","<php><git><apache><gitolite>","git frontend function(ality) for smart http git in php?","<p>I am busy installing gitolite3 with smart http. Gitolite3, essentially, is just a bunch of scripts that relay requests back to the git-http-backend (i think), and calls all sorts of hooks before/during/after every public git request.</p>

<p>Is there somewhere a similar thing written in php? When I view the urls that git requests over http in firefox, I notice that the communication is nothing else but text, so I'm pretty sure you could 'catch' git requests per php in apache (or nginx), and run a authorization system like that, that relays these git requests to the git backend.</p>

<p>I guess I'm looking for a php-git module, but I couldn't find anything. Is there something out there like Im describing here?</p>
","0","1960610","0"
"18181622","883569","2013-08-12 07:32:17","2","209","<git><gitolite>","How to setup git hook to send email upon clone","<p>I have a gitolite server and I would like to setup a server-side hook so that when anyone clones a repository located on it, an email is sent out to the administrator. Right now seems that is only able to do it for push but not for cloning.. Was I wrong?</p>
","0","883569","0"
"18276340","2633918","2013-08-16 14:59:19","2","140","<svn><gitolite><collaboration>","Collaboration between SVN repository and gitolite","<p>I plan to clone a directory of a remote SVN repository (with http access) into a <strong>Gitolite</strong> repository. I would like to give access of this Gitolite repository to former developers. Following the <a href=""http://git-scm.com/book/en/Distributed-Git-Distributed-Workflows#Integration-Manager-Workflow"" rel=""nofollow"">Integration-Manager-Workflow</a>,
the former developers clone this and make changes on their repo (<em>developersGitRepo</em>). After some time I merge the changes of the <em>developersGitRepo</em> into the <em>Gitolite repo</em>. After this the changes will be merged into the SVN repo. The SVN repo can only be accessed by internal developers.</p>

<p>I have a server called <code>GITOLITE_HOST</code> where I have installed Gitolite which is working. I want to make a copy of a remote SVN repository into a Gitolite repository called <code>gitolite@GITOLITE_HOST:testing</code> which I configured in the <code>gitolite.conf</code> file:</p>

<pre><code>    repo testing
    RW+ = @all
</code></pre>

<p>Gitolite is installed and working so that I can checkout a repository with <code>git clone gitolite@HOST:testing</code></p>

<p>Now my questions:</p>

<ol>
<li>Is it correct, that subgit-2.0 is the perfect tool to use for this and synchronise SVN with Gitolite and vice versa? </li>
<li>The page at <a href=""http://yellowseed.org/tutorials/svn-to-git.html"" rel=""nofollow"">http://yellowseed.org/tutorials/svn-to-git.html</a> is exactly what I want to do, but SVN has to be on the same server as Gitolite. What must I do to use http access for SVN?</li>
<li>What other options do I have? A description of the commands would be very helpful.</li>
</ol>
","1","2633918","0"
"34830993","1207449","2016-01-16 19:11:40","1","658","<git><gitolite>","gitolite add repo specific post-receive hook","<p>I am trying to add a post-receive hook for specific repositories using this doc: <a href=""http://gitolite.com/gitolite/cookbook.html"" rel=""nofollow"">http://gitolite.com/gitolite/cookbook.html</a></p>

<p>In my gitolite-admin repo I added <code>local/hooks/repo-specific/deploy</code> (which as of now just trys to touch a file) and added the line <code>option hook.post-receive = deploy</code> in <code>conf/gitolite.conf</code>.</p>

<p>On my server I looked up .gitolite.rc which initially didn't contain a <em>%RC block</em>.
So I tried to just add one to it:</p>

<pre><code>%RC = (
    ENABLE =&gt; ['repo-specific-hooks'],
    LOCAL_CODE =&gt;  ""$rc{GL_ADMIN_BASE}/local""
);
</code></pre>

<p>After pushing changes to the repo with the hook I receive this error:</p>

<pre><code>remote:                 ***** ABORTING *****
remote:         can't make head or tail of 'option hook.post-receive = deploy'
</code></pre>

<p>This is the first time I am using gitolite, so I might very well be missing something obvious. Anybody any ideas?</p>
","0","1207449","0"
"34836413","829174","2016-01-17 08:16:35","0","511","<git><gitolite>",".gitolite.rc what does this files do?","<p>I'm trying to understand what the file <code>.gitolite.rc</code>
I searched a lot in the internet and could not file an explanation and a real example.</p>

<p>What does it do and how do I configure it?</p>
","1","829174","0"
"34850650","5776571","2016-01-18 08:55:47","1","1117","<git><http><gitolite>","How to using gitolite with http mode","<p>I am using centOS to set my own Git Server by gitolite,I want to use both ssh and http mode.<br>
After followed the '<a href=""https://github.com/sitaramc/gitolite/blob/f480dbf9275b7a82ccbff208f2925a25864432b9/t/smart-http.root-setup"" rel=""nofollow noreferrer""><code>smart-http.root-setup</code></a>'.  </p>

<p>I come across a problem when I execute the git command ""<code>git clone http://admin:admin@180.163.69.211/git/testing</code>"".</p>

<p><a href=""https://i.stack.imgur.com/pJBVN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pJBVN.png"" alt=""http://i.stack.imgur.com/pJBVN.png""></a></p>
","0","5776571","0"
"34897418","5776571","2016-01-20 10:25:44","1","134","<gitolite>","gitolite-admin.conf doesn't work","<p>I was set git server with gitolite and I have finished it Now. But One question truble me. I am set gitolite with both <code>ssh</code> and <code>http</code> mode. </p>

<p>I use the <code>gitolite-admin.conf</code> to control the repo and user's auth. I followed the instruction: modify the conf, git add it, git commit it and git push it. But It does't work.</p>

<p><strong>In Client</strong> I can't clone the new repo I have add in the conf</p>

<p><a href=""https://i.stack.imgur.com/vlf5H.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vlf5H.png"" alt=""enter image description here""></a></p>

<p>this is my conf </p>

<p><a href=""https://i.stack.imgur.com/rp6pT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rp6pT.png"" alt=""enter image description here""></a></p>

<p>the default repo 'testing' is working regularly</p>
","4","5776571","0"
"18430522","1646726","2013-08-25 15:21:10","4","2360","<gitolite>","gitolite_admin hooks and mirroring","<p>I'm wondering is there a simple way to install hooks for certain repo using gitolite_admin.</p>

<p>Let's imagine i want to have <strong><em>post-update</em></strong> hook for repo <strong><em>awesome</em></strong> using <strong>gitolite_admin</strong> repo cloned to my workstation...</p>

<pre><code>#conf/gitolite_conf
repo    awesome
        RW+     =   deployer
</code></pre>

<p>contents of <strong>post-update</strong>:
</p>

<pre><code>#!/bin/sh
echo ""Post receive-hook =&gt; updating Redmine repository""
sudo -u deployer perl -we '`cd /home/deployer/repo/awesome.git &amp;&amp; git fetch -q --all`'
</code></pre>
","1","1646726","0"
"18503434","2164525","2013-08-29 06:08:38","2","875","<git><gitolite>","Gitolite error .gitolite.rc' seems to be for older gitolite; please see doc/g2migr.mkd","<p>I have installed gitolite using <code>rpm</code> in centos6 ie <code>gitolite-2.3.1-1.el6.noarch.rpm</code> and after <code>rpm</code> installation I have run the <code>gl-setup</code>.<br>
I am trying to access repo over http. When I try to clone  git clone <code>http://server.name/git/gitoliteadmin.git</code> it gives error:</p>

<pre><code>FATAL: '/var/opt/jet/gitolite/.gitolite.rc' seems to be for older gitolite; please see doc/g2migr.mkd
(online at http://gitolite.com/gitolite/g2migr.html)

Premature end of script headers: gitolite-shell
</code></pre>

<p>Below is my <code>htpd.conf</code> configuration</p>

<pre><code>&lt;VirtualHost 10.111.123.17:80&gt;
ServerName server.name
LogLevel Debug
SetEnv GIT_HTTP_EXPORT_ALL
SetEnv GITOLITE_HTTP_HOME /var/opt/gitolite
SetEnv GIT_PROJECT_ROOT /var/opt/gitolite/repositories
SetEnv REMOTE_USER=$REDIRECT_REMOTE_USER
ScriptAlias /git/ /opt/git_install/gitolite-master/src/gitolite-shell/
SetEnv /usr/libexec/git-core/git-http-backend

&lt;Location /git&gt;
  AuthType Basic
  AuthName ""Git CLone""
  AuthBasicProvider ldap
  AuthzLDAPAuthoritative on
  Require valid-user
  Order allow,deny
  Allow from all
&lt;/Location&gt;

&lt;LocationMatch ""^/git/.*/git-receive-pack$""&gt;
        Order deny,allow
        Deny from All
        AuthName ""GIT Repo""
        AuthType Basic
        AuthBasicProvider ldap
        AuthzLDAPAuthoritative On
        Require valid-user
&lt;/LocationMatch&gt;
&lt;/VirtualHost&gt;
</code></pre>

<p>Not sure what is wrong. Also while <code>rpm</code> installation the <code>gitolite-shell</code> was not part of <code>rpm</code> package.<br>
So I downloaded the zip file from sitaramc and added the gitolite-shell path.</p>

<p>What am I missing?</p>
","0","2164525","0"
"18527858","2164525","2013-08-30 08:00:24","1","86","<gitolite>","How to map mailid as user id to gitolite","<p>I am using LDAP mailid for authentication for example user@gitadmin.com and its corresponding password. The pub key which i have provided is gitolite.pub. Below is my gitolite.conf</p>

<pre><code>repo gitolite-admin
    RW+     =   gitolite

repo testing
    RW+     =   @all
</code></pre>

<p>How does gitolite understands that the users key is as that of gitolite.pub and does further authorization. All my developers would be using their mailid for authentication. How can they get authorizad. What configuration change should i give? Help would be much appreciated. Thanks</p>
","0","2164525","0"
"42171560","1190388","2017-02-11 02:34:32","10","636","<apache><virtualhost><gitolite><smart-http><git-http-backend>","GitSmartHTTP for gitolite repositories over Apache does not allow me to push","<p>I am setting up a git-http-backend CGI script to handle my <code>git.domain</code> subdomain. The server is behind an ELB (elastic load balancer) on AWS cloud. My server config is as follows (my git hosting is handled by gitolite):</p>

<pre><code>&lt;VirtualHost *:80&gt;
    ServerName git.domain
    ServerAdmin hjpotter92+git@domain

    #SuexecUserGroup git git                                                                                                                                                                    
    DocumentRoot /opt/gitolite/repositories/

    PerlLoadModule Apache::Authn::Redmine

    SetEnv GIT_PROJECT_ROOT /opt/gitolite/repositories/
    SetEnv REMOTE_USER=$REDIRECT_REMOTE_USER # Have also tried removing this variable
    SetEnv GIT_HTTP_EXPORT_ALL

    ScriptAliasMatch \
        ""(?x)^/(.*/(HEAD | \                                                                                                                                                                    
           info/refs | \                                                                                                                                                                        
           objects/(info/[^/]+ | \                                                                                                                                                              
           [0-9a-f]{2}/[0-9a-f]{38} | \                                                                                                                                                         
           pack/pack-[0-9a-f]{40}\.(pack|idx)) | \                                                                                                                                              
           git-(upload|receive)-pack))$"" \
        /opt/gitolite/git-core/git-http-backend/$1

    &lt;Directory ""/opt/gitolite/git-core""&gt;
        AllowOverride None
        Options +ExecCGI -Includes
        Require all granted
    &lt;/Directory&gt;
    &lt;Location /&gt;
        # enabled in desparation...
        # saw it somewhere in bugzilla powered mailing list
        DAV On

        Order allow,deny
        Require all granted

        AuthType Basic
        AuthName ""Git Repositories""
        AuthUserFile /dev/null
        Require valid-user

        PerlAccessHandler Apache::Authn::Redmine::access_handler
        PerlAuthenHandler Apache::Authn::Redmine::authen_handler

        RedmineDSN ""DBI:mysql:database=redmine;host=endpoint.rds.amazonaws.com""
        RedmineDbUser ""user""
        RedmineDbPass ""your""
        RedmineGitSmartHttp yes
    &lt;/Location&gt;

    LogLevel info
    CustomLog /var/log/apache2/gitolite.access.log combined
    ErrorLog  /var/log/apache2/gitolite.error.log
&lt;/VirtualHost&gt;
</code></pre>

<p>My apache server is run by the <code>www-data:www-data</code> user/group, and the gitolite is setup with the <code>git:git</code> user/group. To allow apache to read/write to the repositories, I have done:</p>

<pre><code># usermod -a -G git www-data
// and as a desparate measure, in frustration, the following:
# usermod -a -G www-data git
</code></pre>

<p>The <code>PerlAccessHandler</code> and user auth is working perfectly, because I am able to clone my repositories using valid set of credentials from the redmine setup.</p>

<p>However, when I try to push; I get the following in the server logs:</p>

<pre><code>10.0.225.176 [11/Feb/2017:07:46:26 +0530] ""GET /xxx.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 726 ""-"" ""git/2.11.0""
10.0.225.176 [11/Feb/2017:07:46:27 +0530] ""GET /xxx.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 725 ""-"" ""git/2.11.0""
10.0.225.176 [11/Feb/2017:07:46:27 +0530] ""GET /xxx.git/info/refs?service=git-upload-pack HTTP/1.1"" 200 848 ""-"" ""git/2.11.0""
10.0.225.176 [11/Feb/2017:07:46:27 +0530] ""POST /xxx.git/git-upload-pack HTTP/1.1"" 200 130408 ""-"" ""git/2.11.0""
</code></pre>

<p>and in the client side (the following appears after whatever connection timeout I have set in my load balancer, 30 sec to 10 min):</p>

<pre><code>Counting objects: 2, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (2/2), 930 bytes | 0 bytes/s, done.
Total 2 (delta 1), reused 0 (delta 0)
error: RPC failed; HTTP 504 curl 22 The requested URL returned error: 504 GATEWAY_TIMEOUT
fatal: The remote end hung up unexpectedly
fatal: The remote end hung up unexpectedly
</code></pre>

<p>More often than not, I also have <code>POST</code> to <code>git-upload-pack</code> of length 0 (for the same command of the same repository with the same commit)</p>

<pre><code>10.0.225.222 [11/Feb/2017:07:50:55 +0530] ""POST /pandorica.git/git-receive-pack HTTP/1.1"" 200 0 ""-"" ""git/2.11.0""
10.0.225.222 [11/Feb/2017:07:53:21 +0530] ""POST /pandorica.git/git-receive-pack HTTP/1.1"" 200 0 ""-"" ""git/2.11.0""
</code></pre>

<p>and receive the following in my server error logs:</p>

<pre><code>[core:error] [pid 1683] (70007)The timeout specified has expired: [client 10.0.225.176:2534] AH00574: ap_content_length_filter: apr_bucket_read() failed
[cgid:error] [pid 1683] (70007)The timeout specified has expired: [client 10.0.225.176:2534] AH02550: Failed to flush CGI output to client
</code></pre>

<p>I have even played with setuid and setuid for the git user, hoping that it might help me push to a repository; but to no avail!</p>

<pre><code>chmod u+s /opt/gitolite/repositories
chmod g+s /opt/gitolite/repositories
// and the same commands for `*.git` inside `repositories`
</code></pre>

<p>The git config from inside the <code>/opt/gitolite/repositories/xyz.git/</code>:</p>

<pre><code>http.postbuffer=200M
core.repositoryformatversion=0
core.filemode=true
core.bare=true
redminegitolite.projectid=xxx
http.receivepack=true
http.uploadpack=true
</code></pre>

<hr>

<p>For references, I have already been through each of the following:</p>

<ol>
<li><a href=""https://stackoverflow.com/q/7222992/1190388"">git-http-backend</a></li>
<li><a href=""https://stackoverflow.com/q/25995863/1190388"">Apache and git-http-backend</a></li>
<li><a href=""https://stackoverflow.com/q/26734933/1190388"">How to set up git over http?</a></li>
<li><a href=""https://stackoverflow.com/q/40924641/1190388"">Setting Up git-http-backend with apache 2.4</a></li>
<li><a href=""https://stackoverflow.com/q/3817478/1190388"">Setting up Git Server on Windows With git-http-backend.exe</a></li>
</ol>

<hr>

<p>How do I setup the Apache VHost such that it starts accepting <code>git push</code>.</p>
","5","1190388","0"
"4829444","583049","2011-01-28 14:42:48","0","2286","<git><cross-domain><centos><plesk><gitolite>","How to configure gitolite for a single domain on Plesk","<p>How to configure the gitolite on a plesk panel single domain.</p>

<p>When I use a /bin/bash user created by plesk, the home folder becomes /var/www/vhosts/{user}/</p>

<p>Then after install gitolite there, the user still not using the $HOME/bin/ folder to find the gitolite binary, and uses the system binary, so always when I try to clone the gitolite-admin come's a empty directory.</p>

<p>How to configure the plesk ssh domain user to use the $HOME/bin folder to access the gitolite repo and it binaries?</p>

<p>I'm using CentOS 5 with Plesk 10.0.1</p>

<p>Thanks.</p>
","2","583049",""
"4878230","365738","2011-02-02 18:18:11","3","3736","<git><ubuntu-10.04><gitolite>","public repository with gitolite","<p>I installed an configured gitolite and it works for some other projects I'm working on. However, I want to set up a public repo that anyone call clone from (but not push). </p>

<p>I've searched everywhere and cannot find a way to do this? Has anyone managed to do this with gitoite?</p>
","0","365738","0"
"5333275","104576","2011-03-17 00:01:40","1","3251","<git><permissions><branch><gitolite>","Setting up personal branch permissions using gitolite","<p>I'm having some issues getting personal branch permissions set up using gitolite.</p>

<p>gitolite.conf:</p>

<pre><code>repo    ulul
RW+     =   @admins
RW+ personal/USER/      =   @devs
R       =   @devs
- = @devs
</code></pre>

<p>Error message (when pushing):
    W refs/heads/jesse jesse DENIED by refs/.*</p>

<p>Relevant piece from the compiled gitolite file:
   <code>'jesse' =&gt; [<br>
      [<br>
        8,<br>
        'refs/.*',<br>
        'R'<br>
      ],<br>
      [<br>
        16,<br>
        ""refs/heads/personal/$gl_user/"",<br>
        'RW+'<br>
      ],<br>
      [<br>
        24,<br>
        'refs/.*',<br>
        '-'<br>
      ]<br>
    ],</code></p>
","2","104576",""
"5938652","416564","2011-05-09 14:55:53","7","6058","<git><version-control><dvcs><gitolite><cgit>","gitolite + cgit: No repositories found","<p>I've set up and configuered <a href=""https://github.com/sitaramc/gitolite"" rel=""noreferrer""><code>gitolite</code></a> and wish to configure the <a href=""http://hjemli.net/git/cgit"" rel=""noreferrer""><code>cgit</code></a> web interface to it. </p>

<h2>Problem:</h2>

<p>When browsing a directory using <code>cgit</code> I get the error: </p>

<blockquote>
  <p>No repositories found</p>
</blockquote>

<h2>Setup</h2>

<p>When a new repository is created <code>gitolite</code> creates a corresponding directory to it under <code>/home/git/repositories</code> automagically. <code>cgit</code> is <a href=""http://hjemli.net/git/cgit/tree/cgitrc.5.txt"" rel=""noreferrer"">configuered</a> to read these repositories using: </p>

<pre><code>project-list=/home/git/projects.list 
scan-path=/home/git/repositories
</code></pre>

<p>The problem is that these repositories doesn't seem to be <em>bare</em> repositories. If I instead manually clone one of these repositories using</p>

<pre><code>git clone --bare user@server:repo
</code></pre>

<p>it seems to work. I really don't want to do this manually every time a new repository is checked in. Why aren't the repositories created by <code>gitolite</code> <em>bare</em> already? How can I automate this?</p>
","0","416564","0"
"24544369","735284","2014-07-03 03:19:27","0","748","<git><gitolite>","gitolite permissions: what does the 'C', 'D' and 'M' options do?","<p>The <a href=""http://gitolite.com/gitolite/rules.html"" rel=""nofollow"">documentation</a> wrongfully (in my mind) assumes that the reader should be familiar with all the possible permissions combinations:</p>

<blockquote>
  <p>The full set of permissions, in regex syntax, is <strong><code>-|R|RW+?C?D?M?</code></strong>. This expands to one of <strong><code>-, R, RW, RW+, RWC, RW+C, RWD, RW+D, RWCD, or RW+CD</code></strong>, all but the first two optionally followed by an M. And <strong>by now you know what they all mean</strong>.</p>
</blockquote>

<p>the problem is, All but the first 4 cases are <em>not</em> discussed in the document.</p>

<p>Can someone please explain what these additional 'C', 'D' and 'M' symbols mean?</p>
","0","735284",""
"24754992","505345","2014-07-15 09:49:24","2","558","<git><gitolite>","gitolite (version 3), update admin key","<p><br/></p>

<p>I need to renew gitolite admin key. <br/>
and followed this tutorial. <a href=""http://gitolite.com/gitolite/emergencies.html"" rel=""nofollow"">lost admin key/access</a></p>

<pre><code>gitolite setup -pk alice.pub.
</code></pre>

<p>The command makes no error in my machine.</p>

<p>But, I can access the git repo list using old admin key yet.<br/>
and using the new key I just can access test repo only. </p>

<p>Is there anything that I missed? </p>
","2","505345","0"
"24769780","3842906","2014-07-15 23:25:01","0","191","<php><git><codeigniter><gitolite>","git push to var/www/application","<p>My friends and I want to make a website using the CodeIgniter PHP framework. We rent a VPS which runs Cent OS 6.4.</p>

<p>As we developed the website, we met a problem: After user A changed something in var/www/application, A must inform B and C that he has changed something, and B and C must then download the new version and try to find out the difference between the new file and the old file (especially when this file had also been changed by B or C at the same time). We managed to use git to solve this problem. We installed gitolite in the server.</p>

<p>However, we now have another problem: after we push changes, we want to push the file directly into var/www/application, so we can test it directly in browsers.</p>

<p>My questions are,</p>

<ol>
<li>Is it possible to push directly into var/www/application?</li>
<li>How can I do this?</li>
<li>how can I do this pushing with eclipse. I mean what kind of information should I put in the form below(I can't upload picture)
location
url:
host:
repository path:</li>
</ol>

<p>user:
password:</p>
","2","3842906","0"
"6512714","350269","2011-06-28 20:31:34","2","1208","<git><templates><gitignore><gitolite>","Gitolite gitignore template","<p>We are in the infancy of switching our source control environment over to Git with Gitolite for access control.</p>

<p>The one thing that I would like to know if it's possible and how, would be to create a default .gitignore that would be included in all new repos created with gitolite by default.</p>

<p>There are a number of project files (ie. eclipse meta files) that need to be excluded from every project that it would be nice to identify them and include it in a gitignore right out of the get go.</p>

<p>Is something like this possible?</p>

<p>Thanks in advance!</p>
","0","350269","0"
"6749361","685107","2011-07-19 15:03:13","5","20219","<git><ssh><gitosis><gitolite><git-extensions>","How to include ssh private rsa key when accessing git repo via ssh (gitosis)?","<p>At this moment I've got one git repo added through gitosis. The manual i used is <a href=""http://scie.nti.st/2007/11/14/hosting-git-repositories-the-easy-and-secure-way"" rel=""nofollow"">http://scie.nti.st/2007/11/14/hosting-git-repositories-the-easy-and-secure-way</a></p>

<ol>
<li><p>I can clone it and push in it via ssh auth with private and public
keys (on gentoo), but windows users which are using Git Extensions
can not. SSH keys placed in $HOME/.ssh, and ssh asks for a password.
Nor password, nor passphrase (from private ssh key) don't match.</p></li>
<li><p>Redmine needs for a bare repo, so i cloned repo from gitosis on my
local machine and moved it to server (redmine + git), then tried to
sync like showed here
<a href=""http://www.redmine.org/projects/redmine/wiki/HowTo_keep_in_sync_your_git_repository_for_redmine"" rel=""nofollow"">http://www.redmine.org/projects/redmine/wiki/HowTo_keep_in_sync_your_git_repository_for_redmine</a>
But it asks for a password again! Of course I didn't make apache his
own ssh keys to auth gitosis =_= (Apache is owner of redmine bare
repo, cause it access it through http auth)</p></li>
</ol>

<p>Anyway the question is how to use private ssh key from file when accessing to gitosis?</p>

<p>===</p>

<p>Partially solved!
<code>ssh-keygen -t rsa</code> generates keys, which names are exactly <strong>id_rsa</strong> and <strong>id_rsa.pub</strong>. 
if you run <code>ssh -vvv gitosis@your-server.com</code> you should see something similar to</p>

<pre><code>debug1: Authentications that can continue: publickey,keyboard-interactive
…
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering RSA public key: user@domain-user
debug3: send_pubkey_test
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey,keyboard-interactive
debug1: Trying private key: /home/user/.ssh/id_rsa
debug3: no such identity: /home/user/.ssh/id_rsa
debug1: Trying private key: /home/user/.ssh/id_dsa
debug3: no such identity: /home/user/.ssh/id_dsa
debug1: Trying private key: /home/user/.ssh/id_ecdsa
debug3: no such identity: /home/user/.ssh/id_ecdsa
debug2: we did not send a packet, disable method
debug3: authmethod_lookup keyboard-interactive
</code></pre>

<p>So, ssh client wants exactly named files or will switch to next auth method (password). Now i renamed keys on my home machine and:</p>

<pre><code>user@home ~ $ git clone ssh://git@your-gitosis-server/reponame.git
Cloning into reponame...
Enter passphrase for key '/home/user/.ssh/id_rsa':
</code></pre>

<p>Hurray, it asks for a <em>passphrase</em>! BTW, ШIИDOШS™ users are still having problems with their tens of generated keys.</p>

<p><strong>Upd</strong></p>

<p>If you use OpenSSH, then in ~/.ssh you may create a file named ‘config’ and put there something like this:</p>

<pre><code>Host mygitosisserver.com
IdentityFile ~/.ssh/private-key-for-mygitosisserver-com
</code></pre>
","0","685107","0"
"25046413","1198291","2014-07-30 20:33:57","1","115","<git><gitolite><access-rules>","Assigning global access rule for a directory's sub-repositories with gitolite","<p>I am organizing every user's repositories under directory named as the user's alias; For example if i have a user named <code>dariush</code> and he has 3 repos named <code>repo1</code>, <code>repo2</code> and <code>repo3</code>.The directory structure of dariush's repos will be something like below:</p>

<pre><code>~/repositories/
      |_ dariush
            |_ repo1.git
            |_ repo2.git
            |_ repo3.git
</code></pre>

<p>The topic which discussed <a href=""http://gitolite.com/gitolite/master-toc.html"" rel=""nofollow"">here</a> suggests that for every each repository of our example user <code>dariush</code> above, I define an access rule in <code>gitolite-admin/conf/gitolite.conf</code> as below:</p>

<pre><code>repo dariush/repo1
      RW+    =   dariush

repo dariush/repo2
     RW+     =   dariush

repo dariush/repo3
     RW+     =   dariush
</code></pre>

<p>OR</p>

<pre><code>@dariush_repos = dariush/repo1 dariush/repo2 dariush/repo3

repo @dariush_repos
     RW+     =   dariush
</code></pre>

<p>But it makes sense if i want to try to use regex like below to assign access rules</p>

<pre><code>repo dariush/.+
     RW+     =   dariush
</code></pre>

<p>which means for every repositories under directory <code>~/repositories/dariush</code> apply the following rules.</p>

<p>But it is not working!!</p>

<h2>My quesions</h2>

<ol>
<li>Is it possible to do such thing i.e <strong>using regex</strong> like <code>repo dariush/.+</code> to define rules, if so what am i doing wrong?</li>
<li>If the question #1 is not possible is there any other <strong>more convenient</strong> way to accomplish such matter?</li>
</ol>

<p>Thanks in advance.</p>
","0","1198291","0"
"25049881","1574568","2014-07-31 02:25:49","1","612","<git><perl><gitolite>","Can't locate gitolite_rc.pm","<p>The situation is weired, we didn't do anything to the git server(a Gentoo Linux Server), and today when we try to do any operations with git, we just receive the following message:</p>

<pre><code>Can't locate gitolite_rc.pm in @INC (you may need to install the gitolite_rc
module)     (@INC contains: /usr/bin /etc/perl /usr/local/lib64/perl5/5.18.2/x86_64-linux /usr/local/lib64/perl5/5.18.2 
/usr/lib64/perl518.2/x86_64-linux /usr/lib64/perl5/vendor_perl/5.18.2 
/usr/local/lib64/perl5 /usr/lib64/perl5/vendor_perl 
/usr/lib64/perl5/5.18.2/x86_64-linux /usr/lib64/perl5/5.18.2 .) at 
/usr/bin/gl-auth-command line 43.
BEGIN failed--compilation aborted at /usr/bin/gl-auth-command line 43.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>Seems like that the gitolite_rc perl module is lost or not in the path, but we just didn't do anything to perl configs(actually we don't have any perl programmer), it just happens by itself, we are not quit familiar with perl, we've googled it, but only find the  gitolite_rc.pm file <a href=""https://code.google.com/p/gitolite/source/browse/src/gitolite_rc.pm?spec=svn89e59ae7725d662919ef7dc8f759d48c173181fd&amp;name=89e59ae772&amp;r=89e59ae7725d662919ef7dc8f759d48c173181fd"" rel=""nofollow"">https://code.google.com/p/gitolite/source/browse/src/gitolite_rc.pm?spec=svn89e59ae7725d662919ef7dc8f759d48c173181fd&amp;name=89e59ae772&amp;r=89e59ae7725d662919ef7dc8f759d48c173181fd</a> , but we just don't know what to do with it, any suggestions would be appreciated!</p>
","2","1574568","0"
"43694034","4494132","2017-04-29 09:36:36","2","260","<git><apache><archlinux><gitolite>","Repository not found on gitolite service with http auth","<p>I had installed arch  with gitolite on my rapsberry 3.
Actually everything works quite perfect. However I did this
with this instruction:
<a href=""https://wiki.archlinux.org/index.php/gitolite"" rel=""nofollow noreferrer"">https://wiki.archlinux.org/index.php/gitolite</a></p>

<p>So I want to get access with HTTP on my repositories, but it didn't work very well. After I try:</p>

<blockquote>
  <p>git clone <a href=""http://machine/git/test.git"" rel=""nofollow noreferrer"">http://machine/git/test.git</a></p>
</blockquote>

<p>The login prompt appears but at the end I got the following error message:</p>

<blockquote>
  <p>fatal: repository '<a href=""http://test:test@machine/git/test.git/"" rel=""nofollow noreferrer"">http://test:test@machine/git/test.git/</a>' not found</p>
</blockquote>

<p>Here is my wrapper script and my vhost configuration:</p>

<pre><code>#!/usr/bin/bash
#
# suEXEC wrapper for gitolite-shell
#

export GIT_PROJECT_ROOT=/var/lib/gitolite/repositories
export GITOLITE_HTTP_HOME=/var/lib/gitolite

exec /usr/lib/gitolite/gitolite-shell
</code></pre>

<p>Vhost</p>

<pre><code>&lt;VirtualHost *:80&gt;
    ServerName        machine
    ServerAlias       machine 
    ServerAdmin       server@machine

    DocumentRoot /srv/http/git/cgi-bin

    SuexecUserGroup gitolite gitolite
    ScriptAlias /git /srv/http/git/cgi-bin/gitolite-suexec-wrapper/
&lt;Directory /srv/http/git/cgi-bin&gt;
    Require all granted
    Options       None
    AllowOverride none
    Order         allow,deny
    Allow         from all
&lt;/Directory&gt;

&lt;Location /git&gt;
    AuthType Basic
    AuthName ""Git Access""
    AuthBasicProvider file
    AuthUserFile /srv/http/git/htpasswd
    Require valid-user
&lt;/Location&gt;
&lt;/VirtualHost&gt;
</code></pre>

<p>It works easily over ssh. 
Thanks for help or an any :)</p>

<p><strong>EDIT</strong></p>

<p>Error Log</p>

<pre><code>fe80::ba27:ebff:fee8:6d83 - - [29/Apr/2017:01:36:20 +0200] ""GET /git/test/info/refs?service=git-upload-pack HTTP/1.1"" 401 1214
fe80::ba27:ebff:fee8:6d83 - - [29/Apr/2017:01:36:20 +0200] ""GET /git/test/info/refs?service=git-upload-pack HTTP/1.1"" 404 969
192.168.178.62 - - [29/Apr/2017:09:41:39 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 1218
192.168.178.62 - - [29/Apr/2017:09:41:39 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 404 969
192.168.178.62 - - [29/Apr/2017:09:45:45 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 1218
192.168.178.62 - - [29/Apr/2017:09:45:45 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 404 969
192.168.178.62 - - [29/Apr/2017:15:35:54 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 1218
192.168.178.62 - - [29/Apr/2017:15:35:54 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 404 969
192.168.178.62 - - [29/Apr/2017:15:36:49 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 401 1218
192.168.178.62 - - [29/Apr/2017:15:36:49 +0200] ""GET /git/test.git/info/refs?service=git-upload-pack HTTP/1.1"" 404 969
</code></pre>

<p>Access Log</p>

<pre><code>AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using fe80::ba27:ebff:fee8:6d83. Set the 'ServerName' directive globally to suppress this message
[Sat Apr 29 09:41:15.492040 2017] [mpm_event:notice] [pid 1138:tid 1996451408] AH00489: Apache/2.4.25 (Unix) configured -- resuming normal operations
[Sat Apr 29 09:41:15.492273 2017] [core:notice] [pid 1138:tid 1996451408] AH00094: Command line: '/usr/bin/httpd -D FOREGROUND'
[Sat Apr 29 09:44:06.533189 2017] [mpm_event:notice] [pid 1138:tid 1996451408] AH00491: caught SIGTERM, shutting down
[Sat Apr 29 09:45:43.788696 2017] [suexec:notice] [pid 1247:tid 1996410448] AH01232: suEXEC mechanism enabled (wrapper: /usr/bin/suexec)
AH00112: Warning: DocumentRoot [/etc/httpd/docs/dummy-host.example.com] does not exist
AH00112: Warning: DocumentRoot [/etc/httpd/docs/dummy-host2.example.com] does not exist
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using fe80::ba27:ebff:fee8:6d83. Set the 'ServerName' directive globally to suppress this message
[Sat Apr 29 09:45:43.829445 2017] [mpm_event:notice] [pid 1247:tid 1996410448] AH00489: Apache/2.4.25 (Unix) configured -- resuming normal operations
[Sat Apr 29 09:45:43.829684 2017] [core:notice] [pid 1247:tid 1996410448] AH00094: Command line: '/usr/bin/httpd -D FOREGROUND'
</code></pre>
","3","4494132","0"
"7049484","473775","2011-08-13 08:59:43","5","2906","<git><gitolite>","Gitolite gives error message when pushing gitolite-admin: could not symlink","<p>The full error message is:</p>

<pre><code>could not symlink /var/lib/gitolite/.gitolite/hooks/common/gitolite-hooked to subdir/myrepo.git/hooks
</code></pre>

<p>This happens when I do any changes to gitolite-admin and push these changes. What are these hooks for? Do I need them? What's the problem with the symlink?</p>

<p>I have specified another location for my repositories in <code>$REPO_BASE</code>, but I made the gitolite user the owner of this path and all repositories using the <code>chown</code> command so it shouldn't be a permission problem.</p>
","0","473775",""
"7060636","852091","2011-08-15 00:14:25","6","5036","<git><gitolite>","Git/gitolite: moving repos after setting up gitolite","<p>I am in the final phases of getting Git and Gitolite working. This is the current situation:</p>

<p><img src=""https://i.stack.imgur.com/DVkAS.gif"" alt=""enter image description here""></p>
","2","852091","0"
"7081181","852091","2011-08-16 15:59:45","1","90","<git><gitolite>","Linking gitolite configurations to git projects","<p>OK, so I have gitolite installed on a server. It automatically sets up test repos in ~/repositories. That is nice, but I want to manage repos at other places. My files are in <code>/home/website1/www</code>, <code>/home/websites2/www/</code>, etc. So I could theoretically go to <code>/home/website1/www/</code> and run <code>git init</code>, but if I do so is there any way I can integrate them in gitolite? I do not grasp how to 'link' the two...</p>

<p>NOTE: this is a first install of both git and gitolite, so I do have files on the server but do not yet have any version control system setup. </p>
","0","852091",""
"7091599","518204","2011-08-17 10:52:29","2","2596","<git><gitolite><git-flow>","git default remote branch with gitolite","<p>I'm using <a href=""https://github.com/nvie/gitflow"" rel=""nofollow"">gitflow</a> branching model for some projects. For this reason when someone clone a repository I'd like that the default checked out branch would be the <code>develop</code> branch rather than <code>master</code>.</p>

<p>For public projects hosted on Github I can control this using the Admin section for that repository, but for private repository managed with gitolite the only working solution I found is to ssh into the hosting machine and use the <a href=""http://www.kernel.org/pub/software/scm/git/docs/git-update-ref.html"" rel=""nofollow"">git update-ref</a> command directly in the bare repository.</p>

<p>Is there any way to do this remotely, i.e. without the need to ssh into remote machine?</p>
","0","518204","0"
"7095570","55825","2011-08-17 15:39:05","2","437","<git><gitolite>","gitolite: add the same config to all repos","<p>I want to auto add the same config values for all my repos managed by gitolite. I assumed that adding the following to gitolite.conf would do the trick:</p>

<pre><code>repo @all
    config hooks.mailinglist = me@example.org
</code></pre>

<p>Although gitolite doesn't complain when I push, none of the @all config items get added to the individual repos (although any specific ones do).</p>
","0","55825",""
"62429662","1036370","2020-06-17 13:02:24","2","1539","<git><gitolite>","How can I get a list of remote repositories from gitolite?","<p>For single repo which name I already know I can use this command:</p>

<p><code>git clone gitolite3@remoteserver:repo.git</code></p>

<p>But how can I get list of all repositories on <em>remoteserver</em> available for cloning?</p>
","2","1036370","0"
"6941262","548857","2011-08-04 12:17:37","0","270","<git><centos5><gitolite>","centos5 git share folders","<p>i'm new to git and i'm having a problem
i have a problem at pushing data at my git system.
i installed git and gitolite but when i call: ""git push origin master"" it gives me this error:</p>

<pre><code>Counting objects: 12, done.
Compressing objects: 100% (9/9), done.
Writing objects: 100% (12/12), 1.47 KiB, done.
Total 12 (delta 1), reused 5 (delta 0)
remote: error: refusing to update checked out branch: refs/heads/master
remote: error: By default, updating the current branch in a non-bare repository
remote: error: is denied, because it will make the index and work tree inconsistent
remote: error: with what you pushed, and will require 'git reset --hard' to match
remote: error: the work tree to HEAD.
remote: error:
remote: error: You can set 'receive.denyCurrentBranch' configuration variable to
remote: error: 'ignore' or 'warn' in the remote repository to allow pushing into
remote: error: its current branch; however, this is not recommended unless you
remote: error: arranged to update its work tree to match what you pushed in some
remote: error: other way.
remote: error:
remote: error: To squelch this message and still keep the default behaviour, set
remote: error: 'receive.denyCurrentBranch' configuration variable to 'refuse'.
To gitolite@server.nl:gitolite-admin
 ! [remote rejected] master -&gt; master (branch is currently checked out)
error: failed to push some refs to 'gitolite@server.nl:gitolite-admin'
</code></pre>

<p>i followed this tutorial installing gitolite: <a href=""http://sites.google.com/site/senawario/home/gitolite-tutorial"" rel=""nofollow"">gitolink</a>
everything worked as i should be but at the very last step. When i execute the command i sadly got this error</p>

<p>can anyone tell me what to do or how to fix this?
already thried :
git config --bool core.bare true
changing the branch (so that it(master) isn't in use)</p>
","1","548857",""
"7216176","915708","2011-08-27 17:33:37","13","16660","<git><gitolite><gitweb>","How do I have to configure gitweb and gitolite so they'll work together?","<p>I am trying to make gitweb work with gitolite... but unsuccessful so far.<br>
I am working on a RedHat Linux machine. A user called <code>git</code> exists.</p>

<p>gitolite is installed under: <code>/home/git</code><br>
Repository location: <code>/home/git/repositories</code></p>

<p>Please note that, gitweb was working fine with plain vanilla git. Now i am trying to make it work with gitolite. </p>

<p>Here are what my files look like:</p>

<ul>
<li><p><code>/etc/gitweb.conf</code></p>

<pre><code>$projectroot = ""/home/git/repositories"";
@git_base_url_list = qw(ssh://[MyHostName]/home/git/projects.list);
$projects_list = ""/home/git/projects.list""
</code></pre></li>
<li><p><code>/home/git/projects.list</code></p>

<pre><code>myrepo1.git
myrepo2.git 
</code></pre></li>
<li><p><code>/home/git/.gitolite.rc</code>:</p>

<pre><code>$PROJECTS_LIST = $ENV{HOME} . ""/projects.list"";
$GL_GITCONFIG_KEYS = ""gitweb.url receive.denyNonFastforwards receive.denyDeletes"";
</code></pre></li>
</ul>

<p>What configuration have I missed?
I have not made any changes to Apache.</p>

<p>Web URL: <code>http://MyHostName/git</code><br>
This gives a 404 error saying - <em>No repositories found</em>.</p>
","0","915708","0"
"7235826","518204","2011-08-29 20:49:57","9","9130","<git><githooks><gitolite>","How to install hooks in gitolite","<p>I've read all <a href=""https://github.com/sitaramc/gitolite/blob/pu/doc/2-admin.mkd#_using_hooks"" rel=""nofollow noreferrer"">the documentation about hooks</a>, <a href=""https://stackoverflow.com/questions/5055190/how-to-setup-post-receive-email-git-hook-with-gitolite"">similar</a> <a href=""https://stackoverflow.com/questions/4937755/gitolite-hooks-post-receive-doesnt-seem-to-work"">questions</a> and <a href=""https://github.com/sitaramc/gitolite/blob/pu/src/gl-install#L91"" rel=""nofollow noreferrer"">a lot of code</a> but I can't track where is the error in my procedure. I need to install a simple hook in my gitolite installation (made with an rpm package on CentOS) so here is what I did:</p>

<p>To install gitolite (some time ago):</p>

<ol>
<li>Installed the rpm package</li>
<li><code># su - gitolite</code></li>
<li><code>$ gl-setup /tmp/fabio.pub</code> (as gitolite user)</li>
</ol>

<p>Now to install the hook:</p>

<ol>
<li>Created a sample file <code>post-update</code> with the hook code in <code>~gitolite/.gitolite/hooks/common</code> and <code>chmod +x</code> on it</li>
<li>run <code>gl-setup /tmp/fabio.pub</code> again as <a href=""https://github.com/sitaramc/gitolite/blob/pu/doc/2-admin.mkd#_using_hooks"" rel=""nofollow noreferrer"">stated here</a></li>
</ol>

<p>But nothing happened, the exit status from the latest command is 0, but the hook file is not symlinked in any of the repository. So what's wrong with my procedure? Have I missed something?</p>

<p>Bonus questions:</p>

<ol>
<li>If I had understood the doc my procedure is the right one? I.e. should I run gl-setup every time I update any hook?</li>
<li>In this way I install the shared hooks in every repository under this gitolite installation, is that right? Can I manually install an hook either as symlink to somewhere or just an executable script only for a given repository? Should I do that manually in the hook folder of the given repository? Should I care of hooks conflicts (i.e. would any custom hook for the single repository block any other shared hook with the same name)?</li>
</ol>

<p>Don't know if this matters, my gitolite version is <code>1.5.9.1</code>.</p>
","0","518204","0"
"7543651","962214","2011-09-25 04:23:37","2","1167","<git><gitolite>","git:// urls with gitolite","<p>I am running a gitolite system and I currently clone like this:</p>

<pre><code>git clone gitolite@debainserver.local:my-project
</code></pre>

<p>and it works fine, but I want to clone into an application that needs (no work arounds, tried them all) a git:// address. so how can I set this up.</p>

<p>To clarify a little more look at github's addresses yourself.</p>

<pre><code>git clone git://github.com/git/git.git
</code></pre>

<p>how does this work, and how can I set it up? I want to be able to go</p>

<pre><code>git clone git://debainserver.local:my-project
</code></pre>

<p>and have it clone.</p>
","0","962214","0"
"7549030","964102","2011-09-25 22:20:13","6","7914","<ssh><jenkins><gitolite>","Trying to get jenkins and gitolite to work successfully - Permission denied (publickey,password)","<p>I have been trying for days to get my gitolite work with jenkins so I can have repos hosted from server and working with Jenkins (they are on the same sever).</p>

<p>I have gitolite working but I guess I have problems with ssh.
I got some help on a chat and added private key to jenkins/.ssh.</p>

<p>I have a user ""git"" that hosts the gitolite, and I got a user ""gitolite"" and a ""jenkins"" user. I can clone a repo by using git clone git@e-ject.se:Matrix</p>

<p>But I can't use it in jenkins. I get this when I try to build.</p>

<pre><code>Checkout:workspace / /var/lib/jenkins/jobs/Matrix/workspace -
hudson.remoting.LocalChannel@dbb335
Using strategy: Default
Checkout:workspace / /var/lib/jenkins/jobs/Matrix/workspace -
hudson.remoting.LocalChannel@dbb335

Cloning the remote Git repository
Cloning repository origin
ERROR: Error cloning remote repo 'origin' : Could not clone git@e-ject.se:Matrix
ERROR: Cause: Error performing command: git clone --progress -o origin git@e-ject.se:Matrix /var/lib/jenkins/jobs/Matrix/workspace
Command ""git clone --progress -o origin git@e-ject.se:Matrix
/var/lib/jenkins/jobs/Matrix/workspace"" returned status code 128: Cloning into        /var/lib/jenkins/jobs/Matrix/workspace...
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,password).
fatal: The remote end hung up unexpectedly

Trying next repository
ERROR: Could not clone repository
FATAL: Could not clone
hudson.plugins.git.GitException: Could not clone
at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:1042)
at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:968)
at hudson.FilePath.act(FilePath.java:758)
at hudson.FilePath.act(FilePath.java:740)
at hudson.plugins.git.GitSCM.checkout(GitSCM.java:968)
at hudson.model.AbstractProject.checkout(AbstractProject.java:1193)
at hudson.model.AbstractBuild$AbstractRunner.checkout(AbstractBuild.java:566)
at hudson.model.AbstractBuild$AbstractRunner.run(AbstractBuild.java:454)
at hudson.model.Run.run(Run.java:1376)
at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46)
at hudson.model.ResourceController.execute(ResourceController.java:88)
at hudson.model.Executor.run(Executor.java:230)
</code></pre>

<p>I login to my server and su - jenkins, then type ""ssh -v git@server"" I get this.</p>

<pre><code>git@Server:~$ sudo su - jenkins
jenkins@Server:~$ ssh -v git@server
OpenSSH_5.8p1 Debian-1ubuntu3, OpenSSL 0.9.8o 01 Jun 2010
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug1: Connecting to server [127.0.1.1] port 22.
debug1: Connection established.
debug1: identity file /var/lib/jenkins/.ssh/id_rsa type -1
debug1: identity file /var/lib/jenkins/.ssh/id_rsa-cert type -1
debug1: identity file /var/lib/jenkins/.ssh/id_dsa type -1
debug1: identity file /var/lib/jenkins/.ssh/id_dsa-cert type -1
debug1: identity file /var/lib/jenkins/.ssh/id_ecdsa type -1
debug1: identity file /var/lib/jenkins/.ssh/id_ecdsa-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.8p1 Debian-1ubuntu3
debug1: match: OpenSSH_5.8p1 Debian-1ubuntu3 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.8p1 Debian-1ubuntu3
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server-&gt;client aes128-ctr hmac-md5 none
debug1: kex: client-&gt;server aes128-ctr hmac-md5 none
debug1: sending SSH2_MSG_KEX_ECDH_INIT
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ECDSA f3:ab:a6:55:83:98:c5:4f:85:c6:70:be:2f:40:1f:65
debug1: Host 'server' is known and matches the ECDSA host key.
debug1: Found key in /var/lib/jenkins/.ssh/known_hosts:3
debug1: ssh_ecdsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey,password
debug1: Next authentication method: publickey
debug1: Trying private key: /var/lib/jenkins/.ssh/id_rsa
debug1: read PEM private key done: type RSA
debug1: Authentications that can continue: publickey,password
debug1: Trying private key: /var/lib/jenkins/.ssh/id_dsa
debug1: Trying private key: /var/lib/jenkins/.ssh/id_ecdsa
debug1: Next authentication method: password
git@server's password: 
</code></pre>

<p>It still asks for password...
Anyone who have done this? Getting gitolite working with jenkins?
I'm very grateful for any help and can gladly donate 10 bucks (visa card) for helping me set this up!</p>
","5","964102",""
"25760752","4023463","2014-09-10 08:32:46","2","717","<git><branch><gitolite>","Deny WRITE access to specific branch in gitolite","<p>There is my part of my gitolite conf:</p>

<pre><code>repo myproject
    RW+             = teamlead1 teamlead2
    -               = dev1 dev2 dev3
    R   production  = dev1 dev2 dev3
    RW+             = dev1 dev2 dev3
    R               = deploy
</code></pre>

<p>So, I want:</p>

<ol>
<li>teamleads to have full control of myproject repo</li>
<li>devs to have only READ perms for ""production"" branch, and full access to any other branch</li>
<li>deploy user to have only READ permissions to any branch</li>
</ol>

<p>For the moment with such conf teamleads and devs can push to production branch. I tested it with gitolite2 and gitolite3 versions with no success.</p>

<p><strong>Update0</strong>. 
I'm really sorry, I miss ""production"" branch specification in DENY line. </p>

<p>So, I made a little modification of my gitolite.conf</p>

<pre><code>repo myproject
    RW+             = teamlead1 teamlead2
    -  production   = dev1 dev2 dev3
    RW+             = dev1 dev2 dev3
    R               = deploy
</code></pre>

<p>So, here is the output of gitolite access check(thanks to <strong>kostix</strong>):</p>

<pre><code>gitolite3@gitolite:~$ bin/gitolite access -s myproject dev1 W production
legend:
    d =&gt; skipped deny rule due to ref unknown or 'any',
    r =&gt; skipped due to refex not matching,
    p =&gt; skipped due to perm (W, +, etc) not matching,
    D =&gt; explicitly denied,
    A =&gt; explicitly allowed,
    F =&gt; denied due to fallthru (no rules matched)

  D        gitolite.conf:125        -   refs/heads/production   = dev1 dev2 dev3

W refs/heads/production myproject dev1 DENIED by refs/heads/production
</code></pre>

<p>For READ access I have:</p>

<pre><code>  D        gitolite.conf:125        -   refs/heads/production   = dev1 dev2 dev3

R refs/heads/production myproject dev1 DENIED by refs/heads/production
</code></pre>

<p>But in practice I can clone and also push to the <strong>production</strong> branch from the remote server.</p>

<pre><code>$ git push
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (2/2), 229 bytes, done.
Total 2 (delta 1), reused 0 (delta 0)
To gitolite3@gitolite.myproject.com:myproject.git
   1527c05..8485ede  production -&gt; production
</code></pre>

<p><strong>Update1</strong></p>

<p>1) for 
ssh -vvv gitolite3@gitolite.myproject.com info
I have </p>

<pre><code>hello dev1, this is gitolite3@gitolite running gitolite3 v3.6.1-6-gdc8b590 on git 2.0.4

 R W    deploy
 R W    deploy_test
 R W    myproject
</code></pre>

<p>2)for </p>

<pre><code>ssh-keygen -y
</code></pre>

<p>I've alreday made ssh keypaire with ssh-keyg-gen. By the way, situation is the same for dev2 and dev3 etc
3)I have only one string matches ""dev1"": </p>

<pre><code>command=""/srv/gitolite3/bin/gitolite-shell dev1"",no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-rsa AAAAB3Nz.....
</code></pre>
","1","4023463","0"
"7888908","1012649","2011-10-25 11:57:00","1","2561","<git><hook><gitolite><git-post-receive>","How to use post-receive hook after git push to gitolite server?","<p>I tried to use post-receive hook to make a new build on Jenkins after every push to the gitolite server, BUT it doesn't work automatically after push and I need to execute post-receive file manually by terminal to run it and make a build on Jenkins.</p>

<p>AFAIK, all I need is to:</p>

<ol>
<li><p>Modify the post-receive file on server to make what I want ""make a new build in Jenkins"".</p></li>
<li><p>Push code to the gitolite server by command ""git push"".</p></li>
</ol>

<p>and the post-receive hook will execute automatically after push process, Am I right ?</p>
","7","1012649",""
"26035911","305189","2014-09-25 10:09:12","2","463","<git><acl><redmine><gitolite>","Redmine permissions to git repos with gitolite","<p><ul>
<li>I use Redmine to browse the repositories of each project.</li>
<li>These repos are managed by gitolite with a specific user (not git).</li>
<li>Redmine seems read the repos with the user <code>git</code></li>
<li>So each newly created repo (with already branches &amp; commits) bring me the error in Redmine</p>

<blockquote>
  <p>404 - The entry or revision was not found in the repository.</li>
  <li>Today my workaround is to regularly give access to <code>git</code> at all repos recursively</li>
  </ul>
  </p>
</blockquote>

<pre><code>$ sudo setfacl -R -m u:git:rX /home/my_gitolite_user/repositories/
</code></pre>

<p><strong>Is there a way to specify as which user should Redmine read the repos ?</strong></p>

<p>I'm sure there is a good and simple way to do this.</p>
","0","305189","0"
"26066208","792589","2014-09-26 18:36:51","5","5030","<gitolite>","How to change repositories location in gitolite3","<p>I've just installed gitolite3 and as a default it creates its ""home"" /var/lib/gitolite3</p>

<p>I want that folder to be somewhere else like /home/gitolite3.</p>

<p>How do I move it there?</p>

<p>All the references I found around the web turn around a REPO_BASE variable that is nowhere to be found.</p>

<p>Any ideas? </p>
","0","792589","0"
"7927750","16784","2011-10-28 09:57:04","505","389756","<git><ssh><gitolite>","Specify an SSH key for git push for a given domain","<p>I have the following use case: I would like to be able to push to <code>git@git.company.com:gitolite-admin</code> using the private key of user <code>gitolite-admin</code>, while I want to push to <code>git@git.company.com:some_repo</code> using 'my own' private key. AFAIK, I can't solve this using <code>~/.ssh/config</code>, because the user name and server name are identical in both cases. As I mostly use my own private key, I have that defined in <code>~/.ssh/config</code> for <code>git@git.company.com</code>. Does anyone know of a way to override the key that is used for a single <code>git</code> invocation?</p>

<p>(Aside: gitolite distinguishes who is doing the pushing based on the key, so it's not a problem, in terms of access, ownership and auditing, that the user@server string is identical for different users.)</p>
","1","16784","0"
"23152450","998523","2014-04-18 10:41:59","2","1167","<git><github><git-branch><gitolite><mirroring>","Mirroring git branch","<p>I have a private repository on my own server hosted with gitolite. Now I want to opensource it on github, but still have one private branch.</p>

<p>All howtos are implying that I want to mirror whole repo with all tags and branches. But is it possible to have only common branch?</p>

<p>So, all I want is to keep my private branch up-to-date with public, but with some specific changes (these changes are even in separate catalog).</p>
","0","998523",""
"5029089","534192","2011-02-17 12:46:45","4","6093","<git><ssh-keys><ubuntu-10.10><gitolite>","How to set the ssh key to the user git while installing gitolite on Ubuntu 10.10","<p>I am trying to configure a git server on an Ubuntu Server 10.10 with gitolite and following <a href=""http://doc.ubuntu-fr.org/gitolite"" rel=""nofollow"">the tutorial On Ubuntu for Gitolite</a>.</p>

<p>I first create a user git with the following command : <code>sudo adduser git</code><br>
I set a password to this user.</p>

<p>Then, I generate a rsa key with the command : <code>ssh-keygen</code>, I call it <code>id_rsa_git</code>.</p>

<p>After that, I want to associate it to the user git with the following command : </p>

<pre><code>ssh-copy-id -i ~/.ssh/id_rsa_git.pub git@localhost
</code></pre>

<p>The prompt asks me the password for the user git, and after giving it (the good one), I get the following error : </p>

<pre><code>Permission denied, please try again.
</code></pre>

<p>I cannot go further since I am pretty noob in Linux administration. Can anybody help me ?</p>

<p>Thanks.</p>
","0","534192","0"
"5041067","623049","2011-02-18 12:04:57","6","19204","<git><gitolite>","Gitolite git clone error","<p>I am trying to setup gitolite on my server (Macos server).</p>

<p>I followed the instructions in the INSTALL document found here :
<a href=""http://sitaramc.github.com/gitolite/doc/1-INSTALL.html"" rel=""nofollow"">http://sitaramc.github.com/gitolite/doc/1-INSTALL.html</a></p>

<p>I installed the root method.</p>

<p>I got everything setup (ssh pubkey authentication and default gitolite setup)</p>

<pre><code>$ssh git@server info
hello admin, the gitolite version here is v1.5.9.1-27-gb97115f
the gitolite config gives you the following access:
     R   W  gitolite-admin
    @R_ @W_ testing
</code></pre>

<p>According to installation instruction I should be able to checkout a repository.</p>

<p>But when I try to clone the gitolite-admin repositry I get an error:</p>

<pre><code>
$ git clone git@server:gitolite-admin
Cloning into gitolite-admin...
Assertion failed: (argv0_path), function system_path, file exec_cmd.c, line 27.
error: git-shell died of signal 6
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I got the latest git version of gitolite and git v. 1.7.3.4</p>

<p>Can anybody help me?</p>

<p>Edit 1: added git clone command before error message </p>
","6","623049","0"
"23173252","2183008","2014-04-19 17:34:32","2","755","<git><gitolite>","Multiple gitolite users on one machine","<p>I've set up gitolite on a remote machine and configured it from my local. I didn't want to have my activity shown as ""admin"" and created the user and key ""noah"". After creating a repo for ""noah"", I was denied access. I believe because I was still ""admin"".</p>

<p>So I have two accounts on one machine. How do I switch?</p>

<p>Thanks</p>

<p>UPDATE:</p>

<p>Here is my local ~/.ssh/config/:</p>

<pre><code>#noah account
    Host git-noah
    HostName remote
    User git
    IdentityFile ~/.ssh/noah&lt;/code&gt;
</code></pre>

<p>command on local:
<code>git clone git-noah@remote-ip:reponame</code></p>

<p>authorized_keys on remote:
<code>command=""/usr/share/gitolite/gl-auth-command noah"",no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-rsa ...</code></p>

<p>If it matters, I'm on a Mac. I've also done <code>ssh-add -K ~/.ssh/noah</code></p>

<p>UPDATE 2:</p>

<p>Here is auth.log:</p>

<pre><code>server sshd[2834]: Invalid user git-noah from localip
server sshd[2834]: input_userauth_request: invalid user git-noah [preauth]
</code></pre>

<p>Here's the local permissions:</p>

<pre><code>drwx------+  13 noah    442 19 Apr 14:47 .ssh
</code></pre>

<p>Remote permissions:</p>

<pre><code>-rwx------ 1 git 1067 Apr 19 14:57 authorized_keys
drw------- 2 git  4096 Apr 19 14:57 .ssh
</code></pre>
","3","2183008","0"
"23374493","2525034","2014-04-29 20:18:51","1","2530","<git><gitolite>","gitolite git push FATAL denied","<p>I configured gitolite according to README from github.com/sitaramc/gitolite. The user in gitolite server is git. I changed the gitolite.conf under /home/john/gitolite-admin/conf in the workstation, where I added a foo repo. After that, I git push and I checked the server. The /home/git/repositories in the server got the new foo repo. The repo foo is RW+. In that case, I assumed that the gitolite works ok. So, I: </p>

<pre><code>git add test.txt
git commit -m ""add test file""
git remote rm origin
git remote add origin git@192.168.1.5:/home/git/repositories/foo.git
git push origin master
</code></pre>

<p>But I got the error message:</p>

<pre><code>FATAL: W any home/git/repositories/foo John DENIED by fallthru 
(or you mis-spelled the reponame)
fatal: The remote end hung up unexpectedly.
</code></pre>

<p>I have no clue about this error. Can someone give any suggestions? Thanks in advance.</p>
","0","2525034","0"
"16758681","705762","2013-05-26 11:12:53","5","3972","<git><gitolite>","How can I give read Access to everybody with gitolite","<p>in my gitolite.conf i can set</p>

<pre><code>repo    COOL_REPOSITORY
        RW+     =   me
        R       =   @all
</code></pre>

<p>This gives me writing access, and all other REGISTERED users have read access to my repository. Now my question is, can i give read access to everybody, not only to users which i have registered by storing their ssh-keys in my keydir?</p>
","0","705762","0"
"16777348","435394","2013-05-27 16:43:04","6","2915","<git><gitolite>","When Installing gitolite I get ""/tmp/id_rsa.pub does not seem to be a valid ssh pubkey file""","<p>I'm trying to install git and gitolite for our development in a CentOS linux server. Everything so far has ran ok except the step where I define the admin user for gitolite with this command:</p>

<pre><code>gitolite setup -pk /tmp/id_rsa.pub
FATAL: errors found but logfile could not be created
FATAL: /home/git/.gitolite/logs/gitolite-2013-05.log: No such file or directory
FATAL: die      '/tmp/id_rsa.pub' does not seem to be a valid ssh pubkey file
</code></pre>

<p>It looks like two errors; in <code>/home/git/</code> there's only these files</p>

<pre><code>.gitolite.rc
.bashrc
.bash_profile
.bash_logout
</code></pre>

<p>And second (which seems to be the issue), is that the pub_key is not valid. However, according to the git book the file looks alike. I generated it like this:</p>

<ol>
<li><p>Installing git in my pc (not the server)</p></li>
<li><p>From the git bash:</p></li>
</ol>

<pre>
ssh-keygen.exe
(default path)
(no password)
(no password)
</pre>

<p>I copied the generated .pub file to the tmp directory on the server via a program named WinSCP.</p>

<p>What I'm I doing wrong? I don't find the answer in google.</p>

<p>PS. If you need more information, please let me know.</p>
","2","435394","0"
"16786303","1414448","2013-05-28 07:33:46","1","48","<git><permissions><directory><gitolite>","how to restrict read permisson to some directories,while somes are with no read permission in gitolite?","<p>git version is 1.7.0.4.<br>
My repository tree is like below,<br/></p>

<pre><code>reponame
--------code
------------sevenEleven
------------out
</code></pre>

<p>I need to limit <code>sevenEleven</code> read permission only to <code>mary</code>, and <code>out</code> read permission only to <code>jack</code>.<br>
I tried following setting, but failed.<br>
For <code>mary</code>, she can read both code and <code>sevenEleven</code> directory.</p>

<pre><code>R                 =  mary
R  NAME/code/out/ =mary
</code></pre>

<p>Does anyone can help me ?</p>
","0","1414448","0"
"34395423","5498599","2015-12-21 12:11:37","-1","232","<git><apache><ubuntu-14.04><gitolite>","how to configure access list on specific branch in git","<p>I want to ask about how to configure access list on specific branch in git?
I configured git to be accessed by http using DAV in apache.
gitolite version is 1.9.1
operating system ubuntu 14.04/
thnx in advanced</p>
<h2>apache2 configuration</h2>
<pre><code>&lt;virtualhost *:80&gt;
ServerName git.example.com
ErrorLog ${APACHE_LOG_DIR}/git_error.log
CustomLog ${APACHE_LOG_DIR}/git_access.log combined

SetEnv GIT_PROJECT_ROOT /home/git/repositories
SetEnv GIT_HTTP_EXPORT_ALL
SetEnv REMOTE_USER=$REDIRECT_REMOTE_USER
ScriptAlias /hgit/ /home/git/bin/gitolite-shell
SetEnv GIT_HTTP_BACKEND &quot;/usr/lib/git-core/git-http-backend&quot;


 &lt;Location /hgit&gt;
 Options +ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch
    #AllowOverride All
 order allow,deny
 Allow from all

 AuthType Basic
 AuthName &quot;git repository&quot;
 AuthUserFile /etc/apache2/passwd.git 
 Require valid-user
 &lt;/Location&gt;
 &lt;/virtualhost&gt;
</code></pre>
","0","5498599","0"
"19111952","2164525","2013-10-01 08:57:07","2","589","<gitolite>","can gitolite work without users ssh keys for authorization","<p>My organization finds that adding 150 users pub keys for one single repo to gitolite as a huge task and administering it would require additional resource. we have around 20 this kind of repos. is there any other option other than adding users ssh keys for authorization. We are using http protocol to access the git repos. 
Thanks</p>
","0","2164525","0"
"19177928","2819697","2013-10-04 09:35:10","1","275","<gitolite><ssh-agent>","gitolite and ssh-agent. Access denied.","<p>I have a gitolite set-up on server A and I am totally able to clone repositories from my local machine.</p>

<pre><code>user@localmachine:$ git clone git@A:repo.git
</code></pre>

<p>Nevertheless, I am not able to clone the same repository from server B</p>

<pre><code>user@B:$ git clone git@A:repo.git
Cloning into 'repo'...
R access for repo DENIED to user
(Or there may be no repository at the given path. Did you spell it correctly?)
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I have ForwardAgent activated in my ~/.ssh/config and ssh-add -l gives me exactly the same output on the local machine and on server B.</p>

<p>Does anyone know what can explain this ? </p>
","3","2819697","0"
"42635091","1079354","2017-03-06 20:37:39","5","470","<git><gitolite>","Is there a way to diagnose why git init --bare doesn't create specific directories?","<p>I'm attempting to run Gitolite on my LEDE-Project router.  I've followed the instructions <a href=""https://wiki.openwrt.org/doc/howto/gitolite"" rel=""nofollow noreferrer"">provided here</a> to satisfactorily install the necessary dependencies onto my router.  My router reports Git version 
2.11.0, as does the computer I'm running this on.  The package for Git on LEDE-Project and OpenWRT <a href=""https://github.com/openwrt/packages/blob/master/net/git/Makefile"" rel=""nofollow noreferrer"">can be found here</a>, as they're sharing those repos.</p>

<p>When I create a new repository in the Gitolite way, I get an error message similar to this:</p>

<blockquote>
  <p>2017-03-06.03:11:23  28046   die could not symlink /root/.gitolite/hooks/common/update to gitolite-admin.git/hooks&lt;> at
   /root/gitolite/src/lib/Gitolite/Conf/Store.pm line 368.&lt;></p>
</blockquote>

<p>After a good nights' sleep, I eventually worked the cause of this down to <a href=""https://groups.google.com/d/msg/gitolite/2KXZ5grk1Bk/tiPi-G7_OtkJ"" rel=""nofollow noreferrer"">this specific mailing list post</a>, which suggested that <code>git init --bare</code> was not producing the right directories.</p>

<blockquote>
  <p>Try ""git init --bare"" in an empty directory and tell me if you see a 
  .git/hooks directory in it. </p>
  
  <p>Assuming you don't, you'll have to fix that somehow.  Gitolite expects a 
  'git init --bare' to create a hooks directory.</p>
</blockquote>

<p>Seems like a reasonable assumption.  My machine does this just fine.</p>

<pre><code>git init --bare foo
Initialized empty Git repository in /home/makoto/workspace/foo/foo/
cd ~/foo
ls -la
drwxrwxr-x 7 makoto makoto 4096 Mar  6 13:15 .
drwxrwxr-x 3 makoto makoto 4096 Mar  6 13:15 ..
drwxrwxr-x 2 makoto makoto 4096 Mar  6 13:15 branches
-rw-rw-r-- 1 makoto makoto   66 Mar  6 13:15 config
-rw-rw-r-- 1 makoto makoto   73 Mar  6 13:15 description
-rw-rw-r-- 1 makoto makoto   23 Mar  6 13:15 HEAD
drwxrwxr-x 2 makoto makoto 4096 Mar  6 13:15 hooks
drwxrwxr-x 2 makoto makoto 4096 Mar  6 13:15 info
drwxrwxr-x 4 makoto makoto 4096 Mar  6 13:15 objects
drwxrwxr-x 4 makoto makoto 4096 Mar  6 13:15 refs
</code></pre>

<p>On my router...not so much.</p>

<pre><code>git init --bare foo
Initialized empty Git repository in /root/foo/
cd foo/
ls -la
drwxr-xr-x    4 root     root          4096 Mar  6 13:21 .
drwxr-xr-x    1 root     root          4096 Mar  6 13:21 ..
-rw-r--r--    1 root     root            23 Mar  6 13:21 HEAD
-rw-r--r--    1 root     root            66 Mar  6 13:21 config
drwxr-xr-x    4 root     root          4096 Mar  6 13:21 objects
drwxr-xr-x    4 root     root          4096 Mar  6 13:21 refs
</code></pre>

<p>The issue as far as Gitolite is concerned is that specifically the <code>hooks/</code> folder doesn't exist.  I can't figure out <em>why</em> this is, though.</p>

<p>Is there a way for me to diagnose what folders are created when <code>git init --bare</code> is run?  I get the feeling that I can figure the rest out if I can figure out what's actually being executed when the command is run.</p>
","0","1079354","0"
"23744969","2835930","2014-05-19 18:43:19","1","209","<linux><git><ubuntu><mount><gitolite>","setup gitolite on mounted device - ubuntu","<p>I'm a first-time-user of Linux, using Ubuntu 14.04</p>

<p>I installed gitolite on /git (which is home directory for user 'git-repo') and there is a mounted directory /git/repositories (I tried to mount both network drive(CIFS), and hard disk drive(FAT32). Of course all the permissions on mounted /git/repositories for user 'git-repo' is granted)</p>

<p>However, when I try to setup, (with public key of admin user 'gitolite') it fails with an fatal error:</p>

<pre><code>$ ./gitolite/src/gitolite setup -pk ./.ssh/gitolite.pub
Initialized empty Git repository in /git/repositories/gitolite-admin.git/
FATAL: could not symlink /git/.gitolite/hooks/common/update to gitolite-admin.git/hooks
 at /git/gitolite/src/lib/Gitolite/Conf/Store.pm line 372.
</code></pre>

<p>I tried without mounting drive, It successed.
What is that FATAL error talking about, what is the problem, what is the difference between mounted directory and normal directory???</p>
","4","2835930","0"
"61335588","3446404","2020-04-21 03:44:49","3","76","<git><gitolite>","git-multimail exclude git diff and subsequent emails","<p>I am attempting to use git-multimail with gitolite to email users of updates - it was fairly straightforward to set up following the instructions <a href=""https://github.com/git-multimail/git-multimail/blob/master/doc/gitolite.rst"" rel=""nofollow noreferrer"">https://github.com/git-multimail/git-multimail/blob/master/doc/gitolite.rst</a> but I do not want multiple emails to be sent on push, only 1 summary email that appears in the same vein as</p>

<pre><code>git log --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset %ae' --abbrev-commit --date=relative 2da4f6e7..418b7f1b
</code></pre>

<p>I have tried a number of things, but my current <code>git config --list</code> looks like</p>

<pre><code>multimailhook.logopts=--pretty=format:""%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset %ae""
multimailhook.commitemailformat=html
multimailhook.announceshortlog=true
multimailhook.refchangeshowlog=true
</code></pre>

<p>The email is sent via html (colors come through), but none of the formatting is coming through - nothing I have tried has made any difference in the email content, nor quantity of emails that are sent.</p>
","0","3446404","0"
"23417421","599813","2014-05-01 22:03:05","1","130","<git><gitolite>","Can gitolite have repo and a clone of the same repo with different branches and, therefore, in effect have read access on per branch level?","<h1>Question</h1>

<p>I want branch level read access permission with gitolite, which I know is impossible. 
<a href=""https://groups.google.com/forum/#!topic/gitolite/y87WpZp1BMM"" rel=""nofollow"">https://groups.google.com/forum/#!topic/gitolite/y87WpZp1BMM</a></p>

<h1>Possible Solution</h1>

<p>However, can I have a repo and a clone of that repo (still managed by gitolite) that have different read access levels and different branches (some of which would ONLY be on the private repo, so they would be private branches)? Is there any other workarounds that are well known? </p>
","0","599813","0"
"61136951","1022657","2020-04-10 08:53:13","2","463","<git><redmine><gitolite>","Connect redmine and remote gitolite","<p>There are many similar topics (many of them very old) but I am still lost.
I have two servers, one has gitolite setup, and another has redmine setup.
User is pushing changes to the repository created on gitolite server.
Redmine is a user on this gitolite server and is pulling changes from it
and showing them in browser.</p>

<p>More precisely, I have used the following line on redmine server:</p>

<pre><code>git clone --mirror ssh://gitolite3@gitoliteserver/testing
</code></pre>

<p>Then, I configured this repository (testing.git) as a known repository
to redmine - redmine can use bare and local repositories, only.</p>

<p>When user push changes to gitolite server, redmine does not automatically
show them. I have to do the following on redmine server:</p>

<pre><code>cd testing.git
git remote update
</code></pre>

<p>I could use cron on redmine server for regular updating repository testing.git.
But many says this is inefficient and propose hooks. However, information are
very confusing. Can you help me by answering if cron is a viable solution and if
""git remote update"" is a correct command for this cron? Or give me
a clean example how to use hooks for my problem.</p>

<p>Not directly connected to the question, but I have to say.
For me, non-native english, words as miror, mirrored, mirroring, etc. are
hard to follow, please use alice and bob and such more easy terms.
Even the word remote is confusing, if I am on A then B is remote for me,
but if I am on B then A is remote for me. Thus, it is hard to read
about git on the net, and the things are further complicated by
the facts, that some solutions are github or bitbucket only variants.</p>
","0","1022657","0"
"24049518","3063925","2014-06-04 23:57:09","1","28","<git><gitolite><atlassian-sourcetree>","What does gitolite closebranch actually do?","<p>I was told to use this command line to close out a bug branch in Git, but I really don't like command line and want to use SourceTree GUI. So I'm trying to figure out what this command is actually doing. I suspect it's just tagging the branch and then deleting it. So if you know, please tell me how to do the equivalent of this gitolite closebranch command in SourceTree in Mac OS. Thanks!</p>

<pre><code>Usage: &lt;gitolite&gt; closebranch &lt;repository name&gt; &lt;branch name&gt; &lt;reason for closing&gt;
</code></pre>
","0","3063925","0"
"5832383","472556","2011-04-29 13:01:10","4","2233","<git><redmine><gitolite><gitorious><gitweb>","Migrating from gitolite to another managed GIT repository","<p>I've been using gitolite/gitweb for the past few months and have been very satisfied with the combo, but am now looking at moving towards a better-managed web front-end where I can restrict access to what visitors see.  We are expanding the use of GIT beyond its current scope and want to be able to browse code that has non-public information in it.  Currently, this code is NOT listed on gitweb due to its sensitivity.</p>

<p>I've looked at solutions such as Redmine and Indefero, but they seem to require a brand-new git repository to be generated instead of using an existing one.</p>

<p>Any feedback on how to proceed would be greatly appreciated.</p>

<p>FOLLOW-UP</p>

<p>I did find <a href=""https://apps.education.ucsb.edu/wiki/Redmine/setup"" rel=""nofollow"">this link</a> during my search this afternoon.  Does anyone have experience with this method?</p>
","3","472556",""
"5883117","53970","2011-05-04 12:08:49","0","150","<git><gitolite>","Why does git clone seem to look in the home folder not ~/repositories","<p>I have installed gitolite and can successfully push and pull gitolite-admin. I am having a problem when I add a repo in the conf file. The repo correctly gets created in ~/repositories but when I try and clone it from there I get ""fatal:'repo.git' does not appear to be a git repository.</p>

<p>I am cloning using</p>

<pre><code>git clone git@myserver:repo.git
</code></pre>

<p>If I manually create a repo in ~ I seem to be able to clone that with the above syntax so it appears that it is trying to clone from the wrong location.
If I put</p>

<pre><code>git clone git@myserver:repositories/repo.git
</code></pre>

<p>it looks like it can see it but then throws a bunch of hook errors.</p>

<p>Any ideas?</p>
","0","53970",""
"24465137","234780","2014-06-28 08:41:09","1","1581","<git><githooks><gitolite>","How to enable git multimail hook in gitolite","<p>I've cloned the git-multimail repo on my server, symlinked <code>post-receive</code> and <code>git_multimail.py</code> to <code>~/.gitolite/hooks/</code></p>

<p>Then ran <code>gitolite setup --hooks-only</code></p>

<p>In my <code>gitolite-admin/conf/gitolite.conf</code> I've added: </p>

<pre><code>repo gitolite-admin
   config multimailhook.environment = gitolite
   config multimailhook.mailingList = 'list@example.com'
   config multimailhook.refchangelist = user@example.com,user@example.com
   RW+     =   user
</code></pre>

<p>And enabled in <code>~/.gitolite.rc</code>:</p>

<pre><code>GIT_CONFIG_KEYS                 =&gt;  'multimail.*',
</code></pre>

<p>Sendmail is properly delivering my other emails.</p>

<p>I'm expecting mails on commits, but nothing happens.
How to debug this?</p>

<p>I can see that there's an option to enable logging to <code>sys.stdout</code> in <code>post-receive</code>, but where can I see the logs?</p>
","0","234780","0"
"6116548","597517","2011-05-24 20:36:55","145","151877","<git><github><gitolite><git-config>","How to tell git to use the correct identity (name and email) for a given project?","<p>I use my personal laptop for both work and personal projects and I would like to use my work email address for my commits at work (gitolite) and my personal email address for the rest (github).</p>

<p>I read about the following solutions which are all either global or temporary:</p>

<ul>
<li><code>git config --global user.email ""bob@example.com""</code></li>
<li><code>git config user.email ""bob@example.com""</code></li>
<li><code>git commit --author ""Bob &lt;bob@example.com&gt;""</code></li>
<li>setting one of the <code>GIT_AUTHOR_EMAIL</code>, <code>GIT_COMMITTER_EMAIL</code> or <code>EMAIL</code> environment variables</li>
</ul>

<p>One solution is to run manually a shell function that sets my environment to <em>work</em> or <em>personal</em>, but I am pretty sure that I will often forget to switch to the correct identity resulting in committing under the wrong identity.</p>

<p>Is there a way of binding a certain repository, project name, etc. to an identity (name, email)? What do people do?</p>
","0","597517","0"
"6434819","550672","2011-06-22 04:14:43","14","17953","<git-push><gitolite>","Pushing existing git repository to gitolite","<p>I've set up gitolite on my Ubuntu server and can add users, create empty repositories, clone the empty repository, add files, commit locally, and <code>git push origin master</code> to send it to gitolite.</p>

<p>I can also create a project in XCode4, with its own git repository, and commit changes locally.</p>

<p>Now I want to have another copy in gitolite (possibly so others can use, but also as another copy).  This is where I'm stuck, and I'm a complete newbie to git (only really have used the XCode git functionality).  Can someone direct me?</p>
","0","550672","0"
"6681139","673271","2011-07-13 15:10:16","7","2209","<git><gitolite>","Gitolite: print message after git clone finished","<p>I would like to create a message that pops up whenever someone clones a git repository using gitolite. I want to remind them to clone the hooks repo as well and to activate the contained hooks.
How can I do that?</p>
","0","673271",""
"6527145","561638","2011-06-29 20:54:25","0","168","<git><move><repository><gitolite><git-clone>","how do I move my git repositories and keep the same url for cloning?","<p>I currently have repositories in <code>/home/git/repositories/flt</code>. I can clone using <code>git clone git@hostname:flt/root.git</code>.  <code>/home/git</code> is the <code>$HOME</code> directory for the git user. I am using gitolite.</p>

<p>I want to move the flt repos to a different path which is not the git home directory.  How can I set it up so that my clone command doesn't change?  I can change git's home directory if that is necessary.
Thanks.</p>
","0","561638",""
"6529136","445543","2011-06-30 01:41:31","15","9671","<git><gitolite>","gitolite: default remotes for new repository","<p>I've installed gitolite (locally for now, to experiment) and it seems to work, except that new repositories are not tracking the remote by default after a git clone. If I remember correctly, when I clone a repository from github.com, it's already able to push and pull.</p>

<p>Here is what I tried:</p>

<pre><code>$ git clone git@localhost:sandbox
Cloning into sandbox...
warning: You appear to have cloned an empty repository.
$ echo ""A"" &gt; README
$ git add README
$ git commit README -m 'test'
$ git push
No refs in common and none specified; doing nothing.
Perhaps you should specify a branch such as 'master'.
fatal: The remote end hung up unexpectedly
error: failed to push some refs to 'git@localhost:sandbox'
</code></pre>

<p>When I try to push explicitly everything works:</p>

<pre><code>$ git push origin master
Counting objects: 6, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (6/6), 426 bytes, done.
Total 6 (delta 0), reused 0 (delta 0)
To git@localhost:sandbox
 * [new branch]      master -&gt; master
</code></pre>

<p>Is this additional step really needed? Can be set by default? On github it is, isn't?</p>

<p>Thank you</p>
","2","445543","0"
"6564309","41761","2011-07-03 17:15:57","8","16918","<git><gitolite>","git ls-remote returns 128 on any repo","<p>When using git, <code>git ls-remote</code> returns status code <code>128</code> while any other commands work flawlessly (push/pull/clone/etc). My repos are being managed with gitolite. I'm getting this error when trying to deploy rails app for the first time. When invoking said command by hand I get standard error like this:</p>

<pre><code>fatal: The remote end hung up unexpectedly
</code></pre>

<p>If this was permissions/public key issue, I wouldn't be able to push/pull to/from the repo. Why does single <code>ls-remote</code> command fail?</p>
","0","41761","0"
"43511027","7860459","2017-04-20 05:37:25","1","119","<git><apache2><gitolite>","How to get a fine grained ACL for repositories with smart http access in gitolite?","<p>How can we achieve fine grained ACL with smart http in gitolite? </p>

<p>What this exactly means is: If I restrict certain repos for some users in gitolite using ssh and if I try to clone the restricted repo, gitolite tells:</p>

<pre><code>Fatal R any (some_username) is denied. 
Please make sure the repository exists"". 
</code></pre>

<p>How to achieve the above mentioned ACL by using smart http?<br>
If possible please specify the setup(apache2) for achieving the same.</p>
","0","7860459","0"
"25325988","2005492","2014-08-15 11:56:21","1","156","<ssh><ldap><gitolite>","Let gitolite use automatically LDAP pub keys","<p>All the public keys of our users are in our LDAP. Gitolite already gets the usernames and groups out of this LDAP. But for each new user, we have to manually add the userkey to the keydir of gitolite.</p>

<p>Is there a way of letting gitolite automatically get the keys directly from LDAP?</p>
","2","2005492","0"
"44223510","3618156","2017-05-28 03:24:50","1","73","<authentication><gitolite><heroku-toolbelt><gitosis><.netrc>","How does heroku ensure only app owners can git push to the heroku bare repo","<p>Heroku has a really neat deployment mechanism. It piggybacks
on a popular git tool. To deploy, all users have to do is</p>

<pre><code>git push heroku master
</code></pre>

<p>I'm reading <a href=""https://devcenter.heroku.com/articles/authentication"" rel=""nofollow noreferrer"">https://devcenter.heroku.com/articles/authentication</a>
with the hope of setting something up so I can ditch ftp and use <code>git push</code>  to deploy updates to my non-heroku web server.</p>

<p>How does heroku ensure only authorized users can 'git push' to heroku?</p>
","0","3618156","0"
"7461715","825437","2011-09-18 13:14:04","9","16336","<git><gitolite>","in which file git stores commit history?","<p>I want to read from the file where git stores commit history to store each commit information in my project's DB and display all histories in my project view</p>
","0","825437","0"
"25671241","951064","2014-09-04 17:06:38","2","192","<git><githooks><gitolite><git-post-receive>","Calling one git hook from another hook","<p>I'm using gitolite with a post-receive hook to deploy a website.</p>

<p>Currently the script is very simple, but we want to add more complex stuff, like testing, deployment, compilation steps, etc.</p>

<p>In order to do this, I'd like to split up the post-receive hook into multiple separate files. i.e. post-receive.deploy, post-receive.compile, post-receive.test, etc. And one central post-receive hook to call them in sequence. This way we could more easily manage the steps.</p>

<p>Question is; how do I call the separate (sub-)hooks from the central post-receive hook? I can't even get them to execute, and as I understand, I need to pass along STDIN to the sub-hooks. I'm pretty much a n00b as far as shell scripting is concerned.</p>
","1","951064","0"
"36177288","6103989","2016-03-23 11:44:20","1","817","<git><github><gitolite><git-extensions>","Hosting Private GIT Repository on Windows Server using Git extension and gitolite","<p>I need to create Private GIT Repository on Windows Server (Host will be windows server and client will be windows 7 )using Git extension and gitolite for fine grain control on repository and with only open source software( if required).</p>

<p>Also is it possible to have such arrangement without SSH as I am going to implement it in my personal network only. any help will be appreciated. </p>
","1","6103989","0"
"36185288","6105748","2016-03-23 17:49:46","1","60","<git><commit><gitolite>","Can gitolite manage git commit-msg hook?","<p>I have been trying to find a way to make gitolite manage and propagate the git commit-msg hook to a specific repo but I have not been successful. Is this possible?</p>
","0","6105748","0"
"25976013","3842250","2014-09-22 14:02:20","1","1229","<installation><gitolite>","How to install gitolite?","<h3>How to install gitolitev3 in ubuntu 14.04 and once installation done how to verify?</h3>
Description:
<p>Already tried with sudo apt-get install gitolite command but now sure is it installed. How to verify it?</p>
","0","3842250","0"
"7005118","316184","2011-08-10 02:01:16","2","972","<ssh><gitolite>","Is there an easy way to use more than one private ssh key on the same gitolite client?","<p>I have a machine running gitolite that is used both for code repos and for Sparkleshare. The problem is that Sparkleshare creates it's own key pair; that key pair authenticates first, and has no permissions on the code repos, so gitolite terminates without trying any other pairs.</p>

<p>I'm thinking that I may need to figure out how to either tell Sparkleshare to use my original key, or write an alias that forces gitolite to use the correct private key--something I'm not sure is even possible.</p>
","4","316184",""
"7020437","880096","2011-08-11 03:15:54","1","2000","<git><msysgit><gitolite>","Cannot clone git repository with new user","<p>my setup is ubuntu - gitolite - msysgit. After following this tutorial : </p>

<p><a href=""https://sites.google.com/site/senawario/home/gitolite-tutorial"" rel=""nofollow"">https://sites.google.com/site/senawario/home/gitolite-tutorial</a></p>

<p>Everything works fine. </p>

<p>So I modified and commited - pushed the config file : </p>

<pre><code>repo    gitolite-admin
        RW+     =   id_rsa

repo    testing
        RW+     =   @all

repo    project-euler
        RW+     =   tester
</code></pre>

<p>Everyhting got updated etc. </p>

<p>I would now like to test this with the ""tester"" user but I can't. Shouldn't git clone tester@myServer:project-euler work?</p>

<p>If I try the above I get : </p>

<pre><code>$ git clone tester@192.168.1.3:project-euler
Cloning into project-euler...
Permission denied (publickey).
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I tried this from the same machine I used to admin the git. </p>

<p>If I try to use this : </p>

<pre><code>git git@192.168.1.3:project-euler
</code></pre>

<p>I get : R access for project-euler DENIED to id_rsa</p>

<p>Which is normal I think since the git user doesn't have access.</p>

<p>Any ideas? </p>

<p>After following @VonC links I created the config file as mentioned. I still have the same problem so I fun a ssh -v with the user in trouble. The output is : </p>

<pre><code>OpenSSH_4.6p1, OpenSSL 0.9.8e 23 Feb 2007
debug1: Reading configuration data /c/Users/Stefanos/.ssh/config
debug1: Applying options for 192.168.1.3
debug1: Connecting to 192.168.1.3 [192.168.1.3] port 22.
debug1: Connection established.
debug1: identity file /c/Users/Stefanos/.ssh/tester type 1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.8p1 Debian-1ubuntu3
debug1: match: OpenSSH_5.8p1 Debian-1ubuntu3 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_4.6
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server-&gt;client aes128-cbc hmac-md5 none
debug1: kex: client-&gt;server aes128-cbc hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Host '192.168.1.3' is known and matches the RSA host key.
debug1: Found key in /c/Users/Stefanos/.ssh/known_hosts:1
debug1: ssh_rsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey
debug1: Next authentication method: publickey
debug1: Offering public key: /c/Users/Stefanos/.ssh/tester
debug1: Authentications that can continue: publickey
debug1: No more authentication methods to try.
Permission denied (publickey).
</code></pre>

<p><strong>UPDATE</strong></p>

<p>I managed to clone the repo by using git clong git@server:repo - not tester@server:repo.</p>

<p>Also if I have the config file I can't login as admin. It logs only as tester. Probably there should be a way to configure this. Thanks for all your help.</p>
","2","880096","0"
"25248162","862595","2014-08-11 16:36:46","3","1101","<apache><ubuntu><gitolite><gitweb>","Only show repos in gitweb that user has access to via Gitolite","<p>I have gitolite setup and working with SSH key based auth. I can control access to repos via the gitolite-admin.git repo and the conf file. All of this works great over SSH but I would like to use GitWeb as a quick way to view the repos.</p>

<p>GitWeb is working great now but shows all repositories via the web interface. So my goal here is to:</p>

<ul>
<li>Authenticate users in apache2 via PAM, I already have the Ubuntu server authenticating aginst AD and all the users are available. This should not be an issue.</li>
<li>Use the user name logged in with the check gitolite permissions</li>
<li>Display apropriate REPOS in the web interface.</li>
</ul>

<p>Does anyone have a starting point for this?  The Apache part shouldn't be difficult, and I'll set it to auth all fo the /gitweb/ url. I dont know how to pass that username around and authorize it against gitolite. Any ideas?</p>

<p>Thanks,</p>

<p>Nathan</p>
","0","862595","0"
"25521433","779057","2014-08-27 07:38:20","1","2921","<git><ssh><local><gitolite>","Gitolite create repository with gitolite user locally","<p>I want to create a new repository on my gitolite server with the local account, without accessing through SSH. Is this possible? Are they some gitolite scripts that i can use? </p>

<p>If I try to configure gitolite via the git user on my system by checking out the <code>gitolite-admin</code> repo and configuring it accordingly. But i can't push my changes because the hooks will crash, since i'm not logged in via SSH.</p>

<p>Why do I want to do that? I want to setup gitolite via Chef and create a new repo. But i don't want to provide the private key to the Chef scripts.</p>

<h2>Edit</h2>

<p>For everyone whos trying to use also chef for setting up gitolite. There is a <a href=""https://tickets.opscode.com/browse/CHEF-2288"" rel=""nofollow"">bug</a> which prohibits naive usage of the bash resource, so you have to specify some environment data explicitly, since gitolite uses them: </p>

<pre><code>bash ""gitolite push"" do
  cwd ""/home/git/gitolite-admin""
  user ""git""
  group ""git""
  environment ({ 'HOME' =&gt; ::Dir.home('git'), 'USER' =&gt; 'git' })
  code ""../bin/gitolite push""
end
</code></pre>
","0","779057","0"
"7324815","788509","2011-09-06 19:04:21","0","306","<git><ssh><gitolite>","How do I set up gitolite to have repositories directory on a network drive?","<p>I am trying to set up a Windows 2003 Server as a git server.  I am attempting to install gitolite in order to manage my repositories.  The problem I'm running into is that I want to set up my repositories on a network drive for space reasons along with other considerations.  I can't figure out for the life of me how to manage this task.  When I edit the gitolite.rc file to change the directory to map to my e:\repositories folder where I want it to go I get an error.</p>

<p>Any suggestions are much appreciated.  I'm open to other solutions as well.</p>
","0","788509",""
"7332124","209706","2011-09-07 10:10:51","11","7293","<ssh><gitolite>","gitolite with non-default port","<p>To clone a repository managed by gitolite one usually uses following syntax</p>

<pre><code>git clone gitolite@server:repository
</code></pre>

<p>This tells the SSH client to connect to port 22 of <em>server</em> using <em>gitolite</em> as user name. When I try it with the port number:</p>

<pre><code>git clone gitolite@server:22:repository
</code></pre>

<p>Git complains that the repository <em>22:repository</em> is not available. What syntax should be used if the SSH server uses a different port?</p>
","1","209706","0"
"7603911","972060","2011-09-29 22:05:12","0","1677","<git><git-submodules><gitolite>","How do I properly implement git submodules using Gitolite?","<p>I would like to create submodules within my hosted repository using Gitolite.  Submodules are easy enough in git outside of Gitolite.  However, Gitolite seems to complicate things.</p>
","1","972060","0"
"44363112","6863726","2017-06-05 06:42:51","1","143","<gitolite><google-cloud-platform>","ssh clone failed in gitolite at a GCP compute engine","<p>After install gitolite in a GCP compute engine and added a new ssh public key in <code>gitolite-admin/keydir/charley_rsa.pub</code> and add a new repo for <code>charley</code>:</p>

<p><code>conf/gitolite.conf</code>:</p>

<pre><code>repo test
    RW+     =   charley
</code></pre>

<p>Then: <code>git clone gitolite-admin</code> in GCP local console is ok.</p>

<p>When we do <code>git clone</code> in remote local pc, it shows 'DENIED by fallthru' error</p>

<pre><code>git clone ssh://git@serverip/test
Cloning into 'test'...
FATAL: R any test charley_rsa DENIED by fallthru
(or you mis-spelled the reponame)
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>( clone <code>testing (@all)</code> in remote local pc is ok )</p>
","0","6863726","0"
"7635784","152381","2011-10-03 13:41:11","3","2657","<git><gitolite>","projects and gitolite remote on same machine","<p>I'm trying to setup a new development server that also will serve as a git remote host.</p>

<p>Some people will be developing on the server and push to the remote and some use there own machine and push to the server when there done.</p>

<p>We are using gitolite to facilitate those who work on there own machine so the can push and pull with there private key.</p>

<p>The problem now is that those working on the server itself have a hard time cloning, pushing and pulling. There are always permission problems with are hard to get around.</p>

<p>It just doest feel like this is the way it should work, so i was wondering if our setup is right or are we just using it in the wrong way (maybe we don't even need gitolite?)</p>
","0","152381",""
"7647295","152381","2011-10-04 11:38:51","5","880","<linux><git><ubuntu><gitolite>","gitolite package doesn't create user","<p>I installed gitolite using</p>

<pre><code>apt-get install gitolite
</code></pre>

<p>and according to this <a href=""http://www.silassewell.com/blog/2011/01/08/setup-gitolite-on-ubuntu/"" rel=""noreferrer"">tutorial</a> (and many others) there should be a gitolite user but when i do </p>

<pre><code>su - gitolite
</code></pre>

<p>i get Unknown id: gitolite</p>

<p>Do i need to created it manually? 
I have to add that this is the second time i try to install gitolite, so i first removed it and then reinstalled it. Maybe there is some stuff left that wasn't remove?</p>
","1","152381","0"
"63042368","8592812","2020-07-22 20:07:42","1","345","<linux><git><ubuntu><ssh><gitolite>","Failed to clone gitolite repo and lead to fatal error","<p>I am trying to clone the gitolite-admin.git repo <strong>from my own server</strong> after &quot;successfully&quot; installing gitolite (multiple ways: apt-package, github source), but it always gives the same error.</p>
<pre><code>$ git clone git@******:gitolite-admin
Cloning into 'gitolite-admin'...
git@******'s password:
fatal: 'gitolite-admin' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>
<hr />
<p>My setup</p>
<ul>
<li>on git user</li>
<li>Ubuntu 20.04</li>
</ul>
<hr />
<p>I tried</p>
<ul>
<li>gitolite3 apt-package</li>
<li>gitolite github version</li>
<li>editing ~/.ssh/conf (from a previous stack overflow solution 8 years ago)</li>
<li>access from same machine, but different user</li>
<li>access from my main pc (different network)</li>
</ul>
<hr />
<p>I read/watched</p>
<ul>
<li>YouTube installations (from 2013)</li>
<li>solutions from multiple different websites</li>
<li>applying ssh sections from gitolite</li>
<li>...and nearly the whole docs from gitolite</li>
</ul>
<hr />
<p>What I discovered/think</p>
<ul>
<li>keydir for example doesnt even exist in my installation</li>
<li>changing ~/.ssh/config didnt do anything</li>
<li>most of previous solutions are simply outdated</li>
</ul>
<p>I started working with gitolite only since today but already feel quite exhausted I am open for any solution offered, please help me if you can :)</p>
","0","8592812","0"
"26093734","883569","2014-09-29 06:31:16","1","633","<git><gitolite>","Gitolite: how to get user IP address who clone or push to git","<p>Let's say I'm administrating a gitolite server. Is it possible to see the IP address of a user who cloned or pushed to my hosted repository? I have a custom <code>POST_GIT</code> trigger installed that reads in <code>.gitolite/logs</code> but logs don't contain IP addresses. </p>

<p>Any advice is much appreciated.</p>
","0","883569","0"
"26097194","792589","2014-09-29 09:58:06","3","972","<git><gitolite>","Restoring gitolite backup not working","<p>I've recently had to reinstall de SO on our server. It uses a Debian OS. I've reinstalled the gitolite3 package. During the installation it asks me for a admin key. I used the exact same stanza that was found in the admin.pub in the keydir of the gitolite-admin backup that I had. </p>

<p>So then I start a test. I clone the gitolite-admin repo on another place in my computer. No problems there. I make a minor modification and push it. Still all is working. So now I copy one of my backup called aes.git into the /var/lib/gitolite3 folder. use this command to make sure permissions are right:</p>

<pre><code>chown -R gitolite3:gitolite3 dea.git/
</code></pre>

<p>And I try to clone it (and, yes, I have RW+ permissions on that repo). I get this: </p>

<pre><code>git clone gitolite3@pc00:dea.git
Cloning into 'dea'...
FATAL: R any dea admin DENIED by fallthru
(or you mis-spelled the reponame)
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>Tried it for another repo and it is the same thing. Can anyone tell me what might be going on?</p>
","0","792589",""
"7971614","1024337","2011-11-01 19:14:41","2","372","<git><gitolite>","What are reasons a git pull command may return ""fatal:"" with no additional output (not even a newline)?","<p>I am trying to pull a git repo from a gitolite server.</p>

<p><code>git pull</code> (and <code>git pull origin master</code>) both return the error ""fatal:"" with no additional output, not even a newline.  The ssh keys seem to be working properly as git clone and git fetch both function normally.  </p>

<p>The error is particularly perplexing because it is not a new repo.  I have been pushing and pulling without the error in the past and the .git/config file has not changed.  I cannot think of any changes to my system since it was operating properly. </p>

<p>How can I obtain more diagnostic information to try to understand what is going wrong?  The lack of a newline made me suspect a timeout, but it is strange that git clone and git fetch still work.</p>
","2","1024337",""
"44637554","2886364","2017-06-19 18:30:03","1","105","<git><gitolite>","Pass data to gitolite-VREF via push","<p>For my existing gitolite3-installation I want to add anonymous access, restricted to a certain number of repositories. Reading should be allowed for all these repositories, while write-operations should be protected.</p>

<p>For that I thought of passing a token with the push to the gitolite-repositories. A VREF recieves the token and checks if it's valid. If it is, the write-operation on the repository is allowed. The gitolite-conf should look like this:</p>

<pre><code>repo @anonrepos
    RW = @all

    option deny-rules = 1
    - VREF/MYTOKENREF = @all
</code></pre>

<p>(If the config contains errors, then I copied them wrong from the pc where they reside)<br>
And for the vref I thought of:</p>

<pre><code>#!/usr/bin/python3

token = input()
if is_valid(token): # TODO: define is_valid
    exit(0) # Allow the push
else:
    exit(1) # Deny it
</code></pre>

<p>So much for theory. When I try to push, I get an error because pythons <code>input()</code> raises an EOFError. So I can't pass information to the vref via stdin and not via <code>sys.argv</code> either.</p>

<p>Or am I wrong? Is there some way to pass an token to my vref, maybe via some git-command-line-trickery? Or is there some other way I can allow an anonymous push (literally everyone could push, so i need to protect these repositories) if I am sure the person behind it is legitimate? I was thinking about whitelisting the commit-id of the commit that is about to be pushed, but that isn't a flexible way to do it.</p>

<p><strong>Note:</strong> The procedure for someone to push should be like his: That someone messages me that he wants to push to a repository, I create a token and send it to him and at last he pushes to the repository successfully using the supplied token.</p>
","2","2886364","0"
"8043297","561638","2011-11-07 22:08:00","0","502","<git><email><githooks><gitolite><git-post-receive>","How do I setup multiple configs for gitolite - post-receive hook email notification?","<p>I have the post-receive hook running with a configuration in gitolite that emails a group when any files change in a repo on a certain branch.  Now, I have a request to setup email notification for a different ""TO"" when certain files change in the same repo.  How do I set up multiple configs for the post-receive email hook?  Also, how do I trigger a post-receive hook based on files that changed?  I don't believe the hook has file info, right?</p>
","0","561638",""
"8047416","1035166","2011-11-08 07:56:42","3","4177","<git><gitolite>","gitolite or gitosis: permission on directory inside of the repository","<p>For example: I have a repository - repo1 with such fs hierarchy</p>

<pre><code>repo1:
 js
 html
 php/core
 php/menu
</code></pre>

<p>And I want to give to <code>repo1:php/menu</code>, RW permission - to a freelancer, but for all repo1 - this freelancer must have only Read-Only permission.</p>

<p>Can I do this with gitolite or gitosis or may be something else?</p>
","0","1035166","0"
"8264564","195651","2011-11-25 03:26:36","4","1364","<git><gitolite>","gitolite: allow RW users of any repo RW+CD to their personal branch, disallow others","<p>In gitolite, I'd like to grant all <em>write</em> allowed users of any repo to RW+CD to their personal branch. In other words: Whoever is allowed to RW a project should be allowed to create branches, but only in their personal namespace.</p>

<p>I understand that I can basically do this like this:</p>

<pre><code>    repo    some-repo
            RW+CD   = admin
            RW  = foo frob
            R   = bar
            RW+CD dev/USER/ = foo frob #admin
</code></pre>

<p>but that means that I would have to essentially duplicate the user list for every repo. While this is okay for a small amount of repos it definitely gets ugly once the number of repos or users rises.</p>

<p>I thought about something like this:</p>

<pre><code>    repo    @all
            RW+CD dev/USER/ = @all
</code></pre>

<p>But that seems to give at least read access to <em>all</em> users on <em>all</em> projects, even if they wouldn't have read rights there otherwise.</p>

<p>What is the best solution for this?</p>
","0","195651","0"
"8087034","561638","2011-11-10 22:07:24","1","374","<githooks><gitolite>","tried to add a new update.secondary hook to my repos in gitolite and now git push fails","<p>remote: Undefined subroutine &amp;main::repo_rights called at hooks/update line 41.
remote: error: hook declined to update </p>

<p>I have removed the update hook from all of my repos in order to get around this, but I know that they are now wide open.  </p>

<p>I ran gl-setup, and I may have mixed versions of gitolite on my machine.  I am afraid that I ran the gl-setup from a version that is different than the one I am running currently.  I am not sure how to tell.  Please help. :-(</p>
","1","561638","0"
"8133106","590582","2011-11-15 07:53:08","2","914","<git><ssh-keys><openssh><gitolite>","Can't add user to gitolite repository","<p>I use gitolite script to create projects (repos) and add users.
I have already 3 users - 2 are developers, 1 is for jenkins.</p>

<p>They have access via ssh (simply generated RSA keys for each one and added them to gitolite keydir, and added users to gitolite.conf). Everthing is ok in this part - all for 3 users have access to repositories.</p>

<p>Then I tryied to add new developer - he generated keys, I made all required iterations to add him to project (edited gitolite.conf, added .pub key to keydir).
But... access is denied for him. I tryied to generate new key pair and added new user by myself from my computer (I replaced my working(!) keys by new and tryied to access project) - no access.</p>

<p>When I execute <code>ssh -vvvv git@myserver.com</code> ssh-client send the pub key to server but I have this lines in the end of stack trace:</p>

<pre><code>debug1: Next authentication method: publickey
debug1: Trying private key: ~/.ssh/identity
debug3: no such identity: ~/.ssh/identity
debug1: Trying private key: ~/.ssh/id_rsa
debug1: read PEM private key done: type RSA
debug3: sign_and_send_pubkey
debug2: we sent a publickey packet, wait for reply
debug1: Authentications that can continue: publickey,password
debug1: Trying private key: ~/.ssh/id_dsa
debug3: no such identity: ~/.ssh/id_dsa
debug2: we did not send a packet, disable method
debug3: authmethod_lookup password
debug3: remaining preferred: ,password
debug3: authmethod_is_enabled password
debug1: Next authentication method: password
git@myserver.com's password:
</code></pre>

<p>When I use my old (working) key pair <code>ssh -vvvv git@myserver.com</code> return access granted.</p>

<p>Then, I checked <code>/git/.ssh/authorized_keys</code> on server - everything is ok - keys are on right  place.
Checked keydir folder on server - keys are on right place.</p>

<p>Then I tryied to remove and than add jenkins user and keys from/to project (I used old keys) - ok, access granted.
Then I generated new key pair for jenkins user on server, removed user from project and keys from keydir, and than added new keys to gitolite keydir and new jenkins user to project (gitolite.conf) - no access.</p>

<p>Anyone have any ideas?</p>

<p>P.S. all remove/add user/keys actions were made by gitolite-admin</p>
","3","590582","0"
"26149766","2011834","2014-10-01 20:12:27","1","379","<git><bash><gitolite><git-bash>","Can't push gitolite-admin by braking gitolite.conf","<p>Usually i find my answers by trying different solutions i find on stackoverflow but really, nothing seems to work today.</p>

<p>I installed gitolite and it took me like two days before i got my main user to clone and push (proved to be the problem that i did not add the new user 'git' to the sshd-config under AllowUsers). But still, i got it working like a charm... before this afternoon, because that was when i broke it.</p>

<p>so what i did in my gitolite.conf was making a nice group:</p>

<pre><code>    @admin_group = my-desktop-name my-laptop-name my-server-user-name
    repo gitolite-admin
    RW+ = admin_group
</code></pre>

<p>and this last line was where the @ sign was forgotten. it should have been: </p>

<pre><code>    RW+ = @admin_group
</code></pre>

<p>Not knowing id did:</p>

<pre><code>    git add *
    git push
</code></pre>

<p>Here i am. Not able to push again after committing the code were i added the @ sign.</p>

<p>I did came to this page: <a href=""http://gitolite.com/gitolite/emergencies.html"" rel=""nofollow"">http://gitolite.com/gitolite/emergencies.html</a>
and followed instructions..</p>

<pre><code>   git clone     $HOME/repositories/gitolite-admin.git temp
   cd temp
</code></pre>

<p>Then i changed the config file the way i think it should be. But than ended up with: </p>

<pre><code>    ~/temp$ gitolite push
    -su: gitolite: command not found
</code></pre>

<p>Also tried to push it with 'git push' but that also did not work.
I think i'm very close with <a href=""http://gitolite.com/gitolite/emergencies.html"" rel=""nofollow"">http://gitolite.com/gitolite/emergencies.html</a>
Can anyone give me that last push?</p>

<p>As followup to what i actually did to make it all work (starting as main_user):</p>

<pre><code>    cd ~
    cp .ssh/id_rsa.pub main_user.pub
    sudo su - git
    rm -rf *
    rm -rf .*
    mkdir -p ~/bin
    git clone git://github.com/sitaramc/gitolite
    gitolite/install -ln /home/git/bin
    bin/gitolite setup -pk /home/main_user/main_user.pub
    exit
    git clone git@my_domain:gitolite-admin
</code></pre>

<p>Now i only have to do the settings again and i'm good to go. Tnx for the help VonC!</p>
","1","2011834","0"
"8604302","1055269","2011-12-22 13:08:30","5","10811","<git><gitolite><gitweb>","gitolite repository getting created but projects.list is empty","<p>i've installed and configured both gitolite and gitweb. gitolite works fine, all repositories and users work as expected.. but when i use gitweb, i see a 404 - no projects found. i went on to see that projects.list is empty. The permission of projects.list file is 640 and the user and group are same ""git"". </p>

<p>I'm guessing gitolite adds a new repository to projects.list as well, right? My project root is /home/git/repositories. </p>
","0","1055269","0"
"8605176","52074","2011-12-22 14:20:10","3","7144","<git><version-control><configuration><gitolite><gitweb>","I can't see my project in gitweb. How do you configure gitweb properly?","<p><strong>Goal: To see my project in the gitweb webpage.</strong></p>

<p>I have git+gitolite+gitweb installed. My gitolite.conf file is:</p>

<pre><code>repo    gitolite-admin
        RW+     =   ADMINUSER

repo    testing
        RW+     =   @all

repo    PROJECT1
        RW+     =   USER1
        RW+     =   USER2
        R       =   gitweb
</code></pre>

<p>When I go to my server's <a href=""http://server/gitweb/gitweb.cgi"" rel=""nofollow"">http://server/gitweb/gitweb.cgi</a> but the only projects that I can see are:</p>

<ul>
<li>testing.git</li>
</ul>

<p>On the server running gitolite. The /home/git/projects.list file has:</p>

<pre><code>PROJECT1.git
</code></pre>

<p><strong>How do I get PROJECT1 to show up when I go to the gitweb URL?</strong></p>
","2","52074","0"
"8685211","834573","2011-12-30 23:58:00","1","476","<git><ssh><cmd><msysgit><gitolite>","Can I use a gitolite repository on a non-default port from windows?","<p>I'm trying to set up some git repositories on my linux server for sharing with some friends working on a Java project. I sniffed around a little and found gitolite was supposed to be a good administration layer, so after looking at their docs I decided to follow this tutorial:</p>

<p><a href=""http://sites.google.com/site/senawario/home/gitolite-tutorial"" rel=""nofollow"">http://sites.google.com/site/senawario/home/gitolite-tutorial</a></p>

<p>Everything went well until step 6. There, the syntax used for the repository path wasn't working because sshd on the server isn't listening on the default port and that syntax doesn't like non-default ports, so after some more research I quickly discovered git supports ssh://etc. The only issue would be that it requires the full repository path to be included in the URL.</p>

<p>When I reached step 7 and the admin repository failed to push, I discovered that gitolite doesn't like full paths. I was advised by the troubleshooting section to create a host alias like so:</p>

<p><a href=""http://sitaramc.github.com/gitolite/sshhostaliases.html"" rel=""nofollow"">http://sitaramc.github.com/gitolite/sshhostaliases.html</a></p>

<p>This would supposedly allow me to use hostalias:reponame as the path. Despite the annoyance of requiring every user to do this, we went with that method, only to find out that it's not working at all. Our users are running windows and msysgit.</p>

<p>To summarize:</p>

<ul>
<li>The server's sshd listens on a non-default port; this cannot be changed.</li>
<li>gitolite seems to require relative paths. Relative paths are only available on the default port or using host aliases.</li>
<li>Our users are running windows 7 (not changeable) and msysgit (changeable, if there's anything better out there?). Our setups don't seem to like host aliases.</li>
</ul>

<p>Is there a solution for this or do we have to drop gitolite and find something else? </p>
","0","834573",""
"8690238","277186","2011-12-31 19:52:45","1","3450","<git><git-svn><githooks><gitolite>","can't push with gitolite - ENV GL_RC not set","<p>I've got a similar problem to this post here: <a href=""https://stackoverflow.com/questions/5233058/gitolite-push-error-remote-env-gl-rc-not-set"">gitolite push error -&gt; remote: ENV GL_RC not set</a></p>

<p>I've installed gitolite successfully as a non-root method with no warnings or errors.  Hoever I can't push since I get ENV GL_RC not set errors.  (If I try to manually assign that in my ENV I get a load of trouble.)</p>

<p>I can clone if I use:</p>

<pre><code>git clone git@server:repositories/gitolite-admin
</code></pre>

<p>The solution from the link above is to use the following which I can not do.  I can't clone if I use:</p>

<pre><code>git clone git@server:gitolite-admin
</code></pre>

<p>That renders a error of: </p>

<pre><code>Cloning into gitolite-admin...
fatal: 'gitolite-admin' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I can't do a package install since I'm on Ubuntu 10.04 LTS which doesn't have it in its repository list.</p>

<p>I've looked through the documentation from <a href=""http://sitaramc.github.com/"" rel=""nofollow noreferrer"">http://sitaramc.github.com/</a> however I can't seem to get it.  Any ideas how I can resolve this?</p>
","0","277186",""
"26502612","1261153","2014-10-22 07:50:23","0","101","<perl><gitolite><augeas>","Is there an augeas lens, that can edit perl hash like in .gitolite.rc?","<p>I want to edit the gitolite3`s configuration file, which is written in perl, and looks like that:</p>

<pre><code># comments

# comments

%RC = (

    # ------------------------------------------------------------------

    # comments
    UMASK                           =&gt;  0077,

    # comments
    GIT_CONFIG_KEYS                 =&gt;  '',

    # comments
    ROLES =&gt; {
        READERS                     =&gt;  1,
        WRITERS                     =&gt;  1,
    },

    # comments
    ENABLE =&gt; [

        # comments

            'help',
            'desc',
            'info',
            'perms',
            'writable',

        # comments

    ],

);

# ------------------------------------------------------------------------------
# comments
1;

# comments
</code></pre>

<p>If no augeas is available I need something that preserve the comments - they are very handy for me and future admins. </p>
","1","1261153","0"
"36368735","3951298","2016-04-02 03:11:40","1","76","<git><gitolite>","How does gitolite invoke git-receive-pack?","<p>I know, for example, user run command like ""git clone git@XXXX:Test.git"" in client, then, in the server, because of ""command"" option of authorized_keys, gitolite-shell is invoked,  if deny, gitolite exit, but if allow, gitolite would invoke 'git-receive-pack'. So, my question is how Gitolite invoke  'git-receive-pack' or' git-upload-pack', what does it do?</p>
","1","3951298","0"
"63475144","1022657","2020-08-18 19:06:15","1","72","<git><eclipse><http><gitolite>","How to clone git repo into Eclipse using dumb HTTP protocol","<p>We maintain gitolite3 server. It does not allow anonymous access and thus we added hook to export public folders to the web server. As a result, public data are accessible using &quot;dumb&quot; http protocol. This works in many usecases but the problem is with Eclipse. As found on internet, the integrated git client throws NullPointerException when git server uses &quot;dumb&quot; HTTP (i.e. the server doesn't support Smart HTTP).</p>
<p>We have this in the error log on Win10, Eclipse is version 2020-06 (4.16.0):</p>
<pre><code>java.lang.NullPointerException
    at org.eclipse.jgit.transport.WalkFetchConnection.&lt;init&gt;(WalkFetchConnection.java:161)
    at org.eclipse.jgit.transport.TransportHttp.newDumbConnection(TransportHttp.java:421)
    at org.eclipse.jgit.transport.TransportHttp.getConnection(TransportHttp.java:349)
    ...
</code></pre>
<p>My question is if it is really not possible to use &quot;dumb&quot; git server from Eclipse on Win10? Indeed, the workarround is to clone repo via separate git client and then import it into Eclipse as local git, but this is simply not elegant, enough.</p>
","1","1022657","0"
"9151070","715386","2012-02-05 16:54:55","0","1392","<git><ubuntu><gitolite><vlad-deployer>","how do I deploy my site from my gitolite repo on the same server?","<p>I am using Sinatra, Vlad the Deployer, and Gitolite trying to deploy a test site to my server. My gitolite installation is working fine as far as managing/creating repos, push and cloning etc., but when I try to deploy via Vlad to my server, I keep getting a permissions denied error on </p>

<pre><code>$ rake vlad:update
</code></pre>

<p>which returns</p>

<pre><code>rake aborted!
execution failed with status 1:ssh mysite.com unmask 02 &amp;&amp; cd ..........
</code></pre>

<p>my vlad deploy.rb file looks like this</p>

<pre><code>#deploy.rb

set :application, ""mysite.com/sample-site""
set :user,        ""me""
set :repository, ""git@mysite.com:sample-site.git""
set :domain, ""mysite.com""
set :deploy_to, ""~/sites/#{application}""
</code></pre>

<p>i think what is happening is that some how the gitolite user, named 'git', it trying to clone the repo from the server where it lives but doesn't have the proper permissions. I thought I might create a new rsa pair for user git and then just add it to the list of users in my gitolite keydir but with the gitolite install you can't ssh in any more with the ""PTY 0 error"" which seems to be normal. </p>

<p>When i would try to clone repos from the server to itself, i.e. git clone as me from a repo on the server, I would get asked for a password for git@mysite so I tried to copy my client id_rsa and id_rsa.pub to my server then add me@mysite as another user in my client gitolite-admin.conf. When I push that update it it keeps giving me an error </p>

<pre><code>Writing objects: 100% (4/4), 378 bytes, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: WARNING: a pubkey file can only have one line (key); ignoring jon@mysite.com.pub
remote:          Perhaps you're using a key in a different format (like putty/plink)?
remote:          If so, please convert it to openssh format using 'ssh-keygen -i'.
remote:          If you want to add multiple public keys for a single user, use
remote:          ""user@host.pub"" file names.  See the ""one user, many keys""
remote:          section in doc/3-faq-tips-etc.mkd for details.
remote: 
remote:         ***** WARNING *****
remote:         the following users (pubkey files in parens) do not appear in any access rules:
remote: jon@mysite.com(jon@mysite.com.pub)
remote: 
remote:         ***** WARNING *****
remote:         the following users have no pubkeys:
remote: jon@mysite
</code></pre>

<p>I originally tried to add my new server user with me@site.com.pub but then thought switching to me@mysite.pub was cleaner and might fix some issues. Now I have some artifact from that even after deleting and/or renaming everything in the key itself and the keys' name to me@mysite.pub</p>

<p>So where I am at now is that I CAN clone from the server when signed in as me, but it asks for my id_rsa password each time. When i enter it, I can download. My rake vlad:update though is getting the same errors as when i start.....</p>

<p>thanks for any help</p>
","0","715386",""
"9157522","72530","2012-02-06 08:44:11","0","420","<permissions><gitolite>","gitolite: effective permissions per branch","<p>When I run <code>ssh git@host repo</code> I receive list of my permissions</p>

<p>It says I have RW access to entire repo , while I have RW access to all but one branch</p>

<p>Are there any way to view branch permissions using gitolite?</p>

<p>Maybe this is possible via  <code>admin-defined command</code>?</p>
","0","72530",""
"52507578","999165","2018-09-25 22:42:34","-2","312","<githooks><gitolite>","what does gitolite setup fix?","<p>gitolite info didn't work, adding keys turned them into a <code>no access</code> key and did NOT create a corresponding entry in auth-keys file. </p>

<p><strong>To fix this run <code>gitolite setup</code> on gitolite server</strong></p>

<h2>Question: what could have landed me in that mess?</h2>

<p>And what does <code>gitolite setup</code> do when invoked for the n-th time (it's no longer setting things up, according to the docs it fixes hooks, but I wonder what the use case would be and which was mine)?</p>

<h2>More details on gitolite info</h2>

<p>gitolite info command is invoked like so: </p>

<pre><code>&gt; ssh git-user@ser-git
PTY allocation request failed on channel 0
hello git-admin, this is ...@... running gitolite3 3.6.7-2 (Debian) on git 2.17.1

 R W    some-repository
 R W    gitolite-admin
 R W    testing
Connection to ser-git closed.
</code></pre>

<p>Bad output is: <code>FATAL: unknown git/gitolite command: 'info'</code></p>

<h2>More details: keys without access.</h2>

<p><code>gitolite sshkeys-lint</code> was showing keys with <code>(no access)</code>, now those keys have access as I set them (now meaning after <code>gitolite setup</code>).</p>

<p><code>ssh-keygen -lf /home/repo/.ssh/authorized_keys | wc -l</code> (or without piped part, regardless) number of keys and their names indicated I didn't have the newest one added.</p>

<p>Similar question that did not work for me: <a href=""https://stackoverflow.com/questions/24149802/keydir-entries-not-propagating-to-authorized-keys"">keydir entries not propagating to authorized_keys</a></p>
","0","999165","0"
"36509391","5027790","2016-04-08 21:08:58","1","71","<git><githooks><gitolite>","Unable to execute git hook","<p>I'm using Gitolite and Redmine together. I created a bare repo (<code>contacts</code>) with RW+ permissions for the user <code>user</code>, Gitolite is running under user <code>git</code> and Redmine under <code>redmine</code>. To use Redmine I cloned <code>contacts</code> with the command <code>git clone --mirror</code> in the same machine and configured Redmine.</p>

<p>I commit and push with <code>user</code> and created a <code>post-receive</code> hook in the bare repo to fetch the changes (<code>git remote update</code>) in the local repo. </p>

<p>The problem is that the hook is never executed and I need to do it manually to update it, but when I try, I get the error <code>error: cannot open FETCH_HEAD: Permission denied</code> even when <code>user</code> is part of <code>git</code> group.</p>

<p>How to make sure the hook is working?</p>
","0","5027790","0"
"36595775","4887464","2016-04-13 10:35:09","5","69","<git><shell><gitolite>","Troubles with shebang in gitolite hooks","<p>I have Ubuntu:  </p>

<pre><code>Distributor ID: Ubuntu
Description:    Ubuntu 15.10
Release:        15.10
Codename:       wily
</code></pre>

<p>and gitolite:</p>

<pre><code>gitolite3 3.6.3-1 (Debian) on git 2.5.0
</code></pre>

<p>I have follow lines in config file:</p>

<pre><code>repo    livesearch
    option hook.post-receive = livesearch
    RW+         = @commonwrite
    R           = @commonread
</code></pre>

<p>and follow data in gitolite-admin/local/hooks/repo-specific/livesearch file:</p>

<pre><code>#!/bin/sh
/bin/sh /var/lib/gitolite3/.gitolite/local/hooks/repo-specific/common seofilters
</code></pre>

<p>If I commit to livesearch repo with such a hook file, I get:</p>

<pre><code>remote: hooks/post-receive: 18: hooks/post-receive: hooks/post-receive.h00-livesearch: not found
</code></pre>

<p>BUT!!! Just after I excluded shebang (#!/bin/sh) from the file, every think worked fine!!!</p>

<p>In both cases, I had on remote:</p>

<pre><code>lrwxrwxrwx 1 git www-data   65 Apr 13 13:23 post-receive.h00-livesearch -&gt; /var/lib/gitolite3/.gitolite/local/hooks/repo-specific/livesearch
</code></pre>

<p>and the link was fine!</p>

<p>More of it, I have other hooks, that works fine with shebang!<br>
Just new hooks doesn't works with shebang, but I didn't update nothing...   </p>

<p>What can be the issue?</p>
","0","4887464","0"
"37632237","2585092","2016-06-04 15:56:05","1","582","<git><ubuntu><redmine><nfs><gitolite>","Moving git repositories to nfs causes permission errors","<p>Im running a redmine server with the redmine-git-hosting plugin to control git repos. The repository dir points to a separate hard drive mounted at <code>/srv/share</code>. Now the setup is changing and I'm trying to move the repos to a nfs share on another server.</p>

<p>The mount works fine, I simply replaced the entry in the fstab file from <code>/etc/sdb1</code> to <code>ip:/share</code>. Now I had some permission problems beforehand since the drive is accessed by redmine (user www-data) and gitolite (user git) at the same time, so I ran a <code>chmod -R 777</code> on the whole drive to deal with this.</p>

<p>I set the Windows NFS server to the same umask (It's 000 there, for some reason it's inverted) and in fact both users can read and write to the drive. But now when trying to create a new repository with redmine, error 500 pops up. The unhelpful log entry says <code>Rugged::NetworkError (unpacking the sent packfile failed on the remote):</code></p>

<p>Now there are git repos already configured on the server and when I try to commit something to one of them the following error pops up</p>

<pre><code>Total 3 (delta 0), reused 0 (delta 0)
POST git-receive-pack (397 bytes)
remote: fatal: error when closing sha1 file: Permission denied
</code></pre>

<p>Any ideas what to do here?</p>

<p>nfs client, redmine and git server: ubuntu server 14.04.4 LTS<br>
nfs server: haneWin nfs server on Windows Server 2012R2</p>
","9","2585092","0"
"8712112","214545","2012-01-03 12:12:30","0","900","<git><git-svn><gitolite>","how to migrate from git-svn to gitolite and retain history","<p>We have been using SVN and slowly the developers have been migrating to git-svn.  Now we're ready to make the plunge and completely move to git (using gitolite).  I am not sure how to migrate our repository into gitolite and maintain history.  I don't know if I should try to convert the svn repo directly or use my local git-svn copy and push that.</p>

<p>What's the best approach?</p>
","0","214545",""
"27048707","2264590","2014-11-20 20:16:00","1","411","<git><ssh><gitolite><atlassian-sourcetree>","gitolite authentication failure","<p>I've created a gitolite git on an Ubuntu server. I configured my Linux user as the administrator of the gitolite-admin project. From 3 different machines I was able to clone the repository with no problem using my private key. 
On my own machine I keep on getting ""authentication via SSH keys failed"".
I am using pageant. I re-installed source tree and pageant but still get the same result. I am able to connect with SSH (putty and winscp) to my user on the server, using my private key with pageant.
All machines are win 7 and running the same source-tree version 1.6.11.0.
Any ideas how to proceed?</p>
","0","2264590","0"
"9309710","1140922","2012-02-16 10:34:01","5","116","<linux><git><version-control><githooks><gitolite>","How to version git&gitolite hooks?","<p>Is there a possibility to nicely version and track git hooks? Can I safely have another (nested) git repository under the hook folder on server?</p>
","2","1140922",""
"9311513","1018307","2012-02-16 12:47:16","1","1921","<git><ssh><gitolite>","osx - gitolite: login with git user from terminal","<p>I have gitolite running on my OSX Snow Leopard server, with my git user and all is going right.
I have a web server here so I need to pull from the server itself and I have no problem doing it from the server.</p>

<p>But what I want to do is to be able to login with that user using SSH from my workstation, but in my terminal doing <code>ssh git@myserver</code> results in this cryptic message:</p>

<blockquote>
  <p>PTY allocation request failed on channel 0</p>
</blockquote>

<p>so the question is: how can I pull remotely my files to update my staging server?</p>

<p>Thanks to all. I've googled for it and searched on stack overflow but found no answer</p>
","0","1018307",""
"9339272","1076545","2012-02-18 06:47:25","5","13627","<git><ssh><gitolite>","gitolite: can connect via ssh, can't clone","<p>I installed gitolite on my server using <a href=""https://sites.google.com/site/senawario/home/gitolite-tutorial"" rel=""nofollow"">this tutorial</a>. This falls under the ""non-root"" method.</p>

<p>It fails when I try to clone gitolite-admin back to my client. I get this error message:</p>

<pre><code>git clone gitolite@server.com:gitolite-admin
Cloning into gitolite-admin...
fatal: The remote end hung up unexpectedly
</code></pre>

<p>Also:</p>

<pre><code>git clone ssh://gitolite@server.com:gitolite-admin
Cloning into gitolite0admin...
Using username ""git-upload-pack 'gitolite"".
fatal: The remote end hung up unexpectedly
</code></pre>

<p>I have also tried appending <code>.git</code> to the end of the repo name, and I have also tried adding <code>repositories/gitolite-admin</code> (suggested by the errors in the tutorial linked above) and a combination of both of these and none work. I can find no results on google regarding the ""Using username"" bit, which intrigues me.</p>

<p>I can connect to the machine via ssh, and it tells me that I have access to R and W <code>gitolite-admin</code>. So, SSH is working?</p>
","0","1076545","0"
"9359929","287082","2012-02-20 10:52:34","2","2057","<git><ssh><gitolite>","Locked out of gitolite and cant gl-admin-push","<p>I stupidly formatted my laptop hard drive with the ssh keys for gitolite, I have root access to my server and have followed this answer <a href=""https://stackoverflow.com/questions/7033991/gitolite-access-repair"">Gitolite access repair</a> and have successfully made a copy of my repo in the tmp folder and fixed the file</p>

<p>My problem is that i get an error when doing ""gl-admin-push"" here is the error: </p>

<pre><code>Unable to determine correct path for gitolite scripts from the authkeys file.

Perhaps you haven't installed gitolite yet?

Or perhaps this is an HTTP mode install?  If so, please set the GL_BINDIR
environment variable to the full path of the gitolite scripts, then re-try
this command.  For example (if you followed doc/http-backend.mkd precisely):

GL_BINDIR=/var/www/gitolite-home/bin /home/git/bin/gl-admin-push 
</code></pre>

<p>My gitolite install was working fine before I locked myself out (facepalm)</p>

<p>Anny Ideas of how I can get out of this mess ?</p>
","3","287082","0"
"27124179","1069083","2014-11-25 10:26:35","2","760","<git><gitolite>","Create a git repository with gitolite and push an existing local repository to it","<p>I have a local new-repo folder with a git in it that I want to publish in gitolite on my server.</p>

<p>On my server I created a new git repository <code>new-repo</code> in the admin as root with this section:</p>

<pre><code>[group developers]
writable = old-repo new-repo
members = me@myhost
</code></pre>

<p>and pused it, but I got this error:</p>

<pre><code>Traceback (most recent call last):
  File ""/usr/bin/gitosis-serve"", line 9, in &lt;module&gt;
    load_entry_point('gitosis==0.2', 'console_scripts', 'gitosis-serve')()
  File ""/usr/lib/pymodules/python2.7/gitosis/app.py"", line 24, in run
    return app.main()
  File ""/usr/lib/pymodules/python2.7/gitosis/app.py"", line 38, in main
    self.handle_args(parser, cfg, options, args)
  File ""/usr/lib/pymodules/python2.7/gitosis/serve.py"", line 196, in handle_args
    command=cmd,
  File ""/usr/lib/pymodules/python2.7/gitosis/serve.py"", line 154, in serve
    config=cfg,
  File ""/usr/lib/pymodules/python2.7/gitosis/gitdaemon.py"", line 79, in set_export_ok
    assert ext == '.git'
AssertionError
fatal: Could not read from remote repository.
</code></pre>

<p>there isn't added any new repo in my gitolite folder and I cannot push to it.</p>

<p>What am I doing wrong?</p>

<p><em>(I use gitosis still, so maybe is gitosis so outdated by now, that it doesn't work anymore like gitolite?)</em></p>
","6","1069083","0"
"9678864","505345","2012-03-13 05:33:57","2","3254","<hook><gitolite>","gitolite hook after git push doesn't work","<p>I tried to search to find a solution. 
but, I can't.</p>

<p>I installed gitolite. And it works well.<br/>
I can git clone on the local machine, and change gitolite-admin repo too.</p>

<p>But I want to use gitolite hooking.
followed this manual</p>

<p><a href=""http://sitaramc.github.com/gitolite/hooks.html"" rel=""nofollow"">http://sitaramc.github.com/gitolite/hooks.html</a></p>

<blockquote>
  <p><strong>custom hooks</strong></p>
  
  <p>You can supply your own, custom, hook scripts if you wish. Install
  gitolite as usual, then:</p>
  
  <p>go to ~/.gitolite/hooks/common on the server and put your new hook
  there now run ""gl-setup"" again You can use this procedure to install
  new hooks as well as to update hooks that you had previously
  installed.</p>
</blockquote>

<p>So I tried to hook some basic shell script. </p>

<p>I put bash shell script on </p>

<pre><code>~/.gitolite/hooks/common
</code></pre>

<p>and named it </p>

<pre><code>update
</code></pre>

<p>update script file's owner is git, and excutable.
the shell script is like this..</p>

<pre><code>#!/bin/bash
touch /tmp/$GL_REPO
</code></pre>

<p>and I execute </p>

<pre><code>gl-setup mypubkey.pub
</code></pre>

<p>and then,
On my local git folder,
I modified some file, <code>commit</code> and <code>push</code> to gitolite server. 
push works well. every file uploaded to the gitolite's repo.
but, hooking doesn't seems to occur. Nothing happened. </p>

<p>on the server's tmp directory, no file is created.</p>

<p>Did I forget something?</p>

<p>any comments plz...</p>
","0","505345","0"
"9915482","913471","2012-03-28 20:52:52","2","3334","<git><ubuntu><gitolite>","gitolite and file permissions","<p>I have set up a gitolite repo on a ubuntu server which is intended to have developers clone/push projects we will be working on.  I'm having a problem with the post-receive hook I have in a repo. I have a post-receive hook in a particular repo checking out to a particular directory on the server, in my case is /home/user/www/projects/. The problem is When an admin pushes a repo (git push origin), the hook checks out the project to the specified directory successfully and changes the permissions on the directory (project) being checked out. However, if a regular user pushes to the repo, then the the hooks checks out the project intact without changing permissions. I already checked umask on the server which is 0002 and it shouldn't be the issue here. I'm uninstalled and reinstalled gitolite but still having the same issue.</p>
","0","913471",""
"10207919","284113","2012-04-18 10:55:11","1","1440","<git><gitolite>","issue in gitolite","<p>I have installed the gitolite in the a machine which act as a git server. I have cloned that gitolite in my local machine. Configured some repositories and user rights. While making any changes in the gitolite.conf and pushing it, the changes are not taken into the gitolite.conf-compiled.pm file. Everytime I am manually correcting the changes in that file(gitolite.conf-compiled.pm). What is the issue here. Kindly clarify</p>
","10","284113","0"
"10227009","284113","2012-04-19 11:26:08","2","983","<git><gitolite>","gitolite allows unauthorized user","<p>I have configured a repository and a group of users.<br>
I have given read access for that repository to the group. </p>

<p>But when I logged in as a user who is not there in the group I am able to read the repository.<br>
It lists that repository in the gitweb. Why it is behaving like this? </p>

<pre><code>@all    = ganeshkumar hariharasubramanian karthigayan kiruthika kuppusamy lakshmanan manojkumar nvivek sathishkumar savithri thangappan thillaiselvan vennila
repo    gitolite-admin
        RW+     =   thillaiselvan

repo    test/thillaiselvan
        RW+     =   thillaiselvan
        R       =   @all

repo    others/admin_testing
                RW+             =   root nagalenoj thillaiselvan
</code></pre>
","6","284113","0"
"10253395","1347303","2012-04-20 20:52:33","8","5927","<gitolite><tortoisegit><git-pull>","Pull not working - TortoiseGIT / Windows 7 / GIT on Debian + gitolite","<p>i have a weird issue. Im using TortoiseGIT (Win7) and my repositories are placed on a vritual server (Debian), where im using gitolite and SSH keys.</p>

<p>I can <code>clone</code> the repository to my PC, i can run <code>Fetch</code>, <code>Push</code>, <code>Commit</code>, <code>Sync</code> .. everything, but when trying to <code>Pull</code> the changes from server <code>Pushed</code> by other contributor, the following error appears:</p>

<pre><code>git.exe pull -v --progress      ""origin""
fatal: 'pull' appears to be a git command, but we were not
able to execute it. Maybe git-pull is broken?
git did not exit cleanly (exit code 128)
</code></pre>

<p>I don't understand, why just the <code>pull</code> command is not working .. thanks for any help.</p>

<p>I can make a clone of the repository, with the contributed changes .. but can not <code>Pull</code> the changes to created repository on my PC.</p>
","0","1347303",""
"10626946","1007502","2012-05-16 21:25:16","3","1567","<git><svn><linux-kernel><gitolite>","How to mirror the official Linux kernel tree in a private gitolite server?","<p>We work with embedded ARM Linux systems and have some SBC based products with custom hardware controlled by them. As such, we need to develop custom kernel drivers and sometimes adapt existing ones. Since we started using Subversion, the chosen strategy was to use a ""vendor branch"" to keep the vanilla kernels to be used and then create a branch for each product, where we would apply the required patches for the SBC and make our own modifications, resembling very much what is suggested in <a href=""https://stackoverflow.com/q/2312984/1007502"">https://stackoverflow.com/q/2312984/1007502</a></p>

<p>Thankfully, some months ago we decided to migrate our projects to git, so we setup a gitolite server for sharing the projects among the development team, migrating projects from SVN as we need and get more confortable with git. In the special case of the Linux kernel, we think it is interesting to have the option of developing our projects with our gitolite server as the remote, but we'd like to be able to fetch newer kernels from the official tree and eventually contribute something back when it reaches a state which allows that.</p>

<p>On my own machine I can see how to git clone the official kernel tree and create private branches for our products, rebasing them on newer kernels as needed (like <a href=""https://stackoverflow.com/a/2313009/1007502"">here</a>); but I'm kind of lost on how I should import the official kernel tree into gitolite in a way developers could push/pull from it instead of the official kernel repository, while also being able to keep it in sync with the latter.</p>

<p>Is this a matter of fetching updates from the official tree on our machines and pushing them back to our private gitolite server or is there a more direct approach?</p>

<p><strong>EDIT: (clarifying the question)</strong><br>
The main problem is: although I know how to initialize an empty repository for pushing untracked code into gitolite, I'm not sure how to do that for something I cloned from another git repository, such as the official kernel tree.</p>

<p>Once I have a clone of it on my machine, what is the procedure to move it to the private gitolite server?</p>

<p>Then, how is it possible to keep this now ""private"" kernel tree in sync with the official one?</p>

<p>The idea is that developers should only push to the private tree, eventually only sending patches to the official tree, if ever.</p>
","0","1007502","0"
"46169996","8247069","2017-09-12 07:04:02","1","1923","<git><gitolite>","Git - what is causing “warning: Negative patterns are ignored in git attributes”","<p>When pushing on my server the <code>post-receive</code> hook runs a simple <code>git clone</code> command.</p>

<p>The command returns the following warning and I don't know what it means or how to resolve it. Googling the error gave only results concerning gitattributes and I haven't configured any attributes. My .gitignore file also has no exclamation marks or negative values inside.</p>

<pre><code>remote: Cloning into '/var/www/html/gitrep'...        
remote: warning: Negative patterns are ignored in git attributes
remote: Use '\!' for literal leading exclamation.
</code></pre>
","0","8247069",""
"9896024","1187506","2012-03-27 19:09:33","2","849","<git><capistrano><ssh-keys><gitolite>","nameofrepo.git does not appear to be a git repository","<p>I´m trying to setup git on my own server and push my project there with capistrano.</p>

<p>it still says </p>

<blockquote>
  <p>fatal: '/home/gitolite/repositories/iminrails.git' does not appear to
  be a git repository
  but i can see iminrails.git in directory repositories on server.
  So i tried different process how to push my repo on server, but I´m still getting this error.</p>
</blockquote>

<pre><code>ofer@debianruby:/var/www/iminrails$ scp -r /tmp/iminrails.git gitolite@example.com:/home/gitolite/repositories/
Enter passphrase for key '/home/ofer/.ssh/id_rsa':
bad command: scp -r -t -- /home/gitolite/repositories/
lost connection
ofer@debianruby:/var/www/iminrails$ git push origin master:refs/heads/master
Enter passphrase for key '/home/ofer/.ssh/id_rsa':
fatal: '/home/gitolite/repositories/iminrails.git' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
</code></pre>
","2","1187506","0"
"10499002","425715","2012-05-08 12:52:36","2","6044","<git><gitolite>","please help me understand gitolite users","<p>For some reason my gitolite didn't come with a sample config file and i can't seem to find one anywhere, im sure this question is answered in that file if someone can find me a copy, please!!</p>

<p>Anyways, the format of the gitolite config file is simple enough, here's a snip from mine</p>

<pre><code>gitolite conf
# please see doc/gitolite.conf.mkd for details on syntax and features

@nmscDevs = dev1@compaid.com dev2@compaid.com dev3@compaid.com
@buildMgr = william_slepecki@compaid.com dev4@compaid.com

repo    gitolite-admin
    RW+     =   gitadmin william_slepecki@compaid.com

repo    grindstone
    RW+ = gitadmin
    RW+ prod$ = @buildMgr
    - prod$ = @nmscDevs
    RW = @nmscDevs
</code></pre>

<p>I have several public keys in my keydir folder:</p>

<pre><code>keydir/
gitadmin.pub
william_slepecki@compaid.com.pub
</code></pre>

<p>My problem is gitolite seems to be ignoring the permissions set to the individual users.  nothing works on a repository (reads, writes, etc) unless i give the gitadmin user full control.  Then it seems that everyone uses the permissions of the gitadmin user.  I clone the repos like this</p>

<pre><code>git clone git@server:grindstone.git
</code></pre>

<p>but when i try to clone with something like this</p>

<pre><code>git clone 'dev1@compaid.com'@server:grindstone.git
</code></pre>

<p>Im prompted with a password.  does each individual user need to have an account on the server so they can ssh into it?  </p>

<p>How exactly do the permissions work in gitolite?  I was lead to understand that the git user needs an account to ssh into the server, then once gitolite takes over it uses the email that is passed along with the git request to determine permissions, am I wrong here?  what am i missing?</p>

<p>BTW, here's my .ssh/config</p>

<pre><code>host server
     user git
     hostname server
     identityfile ~/.ssh/gitadmin

host server
     user william_slepecki@compaid.com
     hostname server
     identityfile ~/.ssh/id_rsa
</code></pre>

<p>Update:
I have upgraded to the latest version of gitolite, when i try to do a clone i get this</p>

<pre><code>$ git clone git@server:testing.git
Cloning into 'testing'...
FATAL: R any testing gitadmin DENIED by fallthru
(or you mis-spelled the reponame)
fatal: The remote end hung up unexpectedly
</code></pre>

<p>my config file now looks like this:</p>

<pre><code>repo testing
    RW+ = william_slepecki 
</code></pre>

<p>and my .ssh config is unchanged.  in addition, i have this in my log</p>

<pre><code>2012-05-08.13:01:13     19027   ssh     ARGV=gitadmin   SOC=git-upload-pack 'testing.git'       FROM=10.99.5.146
2012-05-08.13:01:13     19027           access(testing, gitadmin, R, 'any'),-&gt; R any testing gitadmin DENIED by fallthru
2012-05-08.13:01:13     19027           trigger,Writable,access_1,ACCESS_1,testing,gitadmin,R,any,R any testing gitadmin DENIED by fallthru
</code></pre>

<p>and here is the top snip of my global git config</p>

<pre><code>[user]
    name = Willie Slepecki
    email = william_slepecki@compaid.com
</code></pre>

<p>why in the world is this still insisting that gitadmin be on the repo and why is it not using william_slepecki?  where exactly does this get the name to use?</p>
","5","425715","0"
"28514828","391161","2015-02-14 10:50:36","2","86","<git><gitolite>","Is it safe to manually edit the config file inside a bare repository created by gitolite's wild repo feature?","<p>Suppose I create an instance of a wild repo from the following signature.</p>

<pre><code> C  repos/CREATOR/[A-Za-z].*
</code></pre>

<p>If I then want to modify the <code>config</code> file for the specific instance I created, I could use <a href=""http://gitolite.com/gitolite/git-config.html"" rel=""nofollow noreferrer"">this method</a> which is suggested by <a href=""https://stackoverflow.com/a/5063447/391161"">this answer</a>, which involves mentioning the created repo by name (inside the <code>gitolite.conf</code>) and then modifying the <code>rc</code> file to enable that feature.</p>

<p>Alternately, I could ssh to the system and just modify the <code>config</code> file under the bare repository directly to make it look the way I want. </p>

<p>If I choose this latter approach, is there any danger of <code>gitolite</code> clobbering my changes in the future, or corrupting the repository because it cannot handle the manual edits?</p>
","0","391161","0"
"11386778","496999","2012-07-08 21:17:19","2","988","<git><ssh><cron><gitolite>","Pull from gitolite in cron job","<p>I want to setup a cron job that makes a production site pull from a gitolite repository.</p>

<p>The following command works in a non-cron-context:</p>

<pre><code># m     h       dom     mon     dow     command
*       *       *       *       *       cd /home/www/test/autopulling-site/ &amp;&amp; /usr/bin/git fetch &amp;&amp; /usr/bin/git pull
</code></pre>

<p>I am suspecting that the git operation doesn't work due to the SSH key not being sent correctly in a cron context. The logs show nothing.</p>

<p>Any ideas?</p>
","1","496999",""
"11412973","1073366","2012-07-10 12:07:39","1","2656","<windows><git><ubuntu-10.04><tortoisegit><gitolite>","Cannot clone git repo from ubuntu server with TortoiseGit","<p>I'm facing some problems while <code>git clone</code> a repo from my ubuntu server running <strong>gitolite</strong>.</p>

<p>First, I got a public key from the developer who wants to clone the repository from the server. It was a rsa key created with <strong>putty</strong>. So I did the following to parse it from the putty-style to openssh format with:</p>

<p><code>ssh-keygen -i -f /tmp/ssh2/YourName.pub &gt; /tmp/openssh/YourName.pub</code> (taken from <a href=""http://gitolite.googlecode.com/git/doc/ssh-troubleshooting.mkd?r=d3a663d03f1027f909732d55d0519bdd84edb62c"" rel=""nofollow"">http://gitolite.googlecode.com/git/doc/ssh-troubleshooting.mkd?r=d3a663d03f1027f909732d55d0519bdd84edb62c</a>)</p>

<p>and uploaded the public key along with a new entry for the repo and the new user in the config file to gitolite-admin repo.</p>

<p>So far, so good.</p>

<p>The developer is using **** along with <strong>putty</strong> to connect to the server, which is running <strong>git</strong> on a <em>non-standard</em> port and he keeps on getting the same error over and over again:</p>

<pre><code>Cloning into 'D:\path\to\dirctory'...
error: Recv failure: Connection was reset while accessing http://sub.domain.com/info/refs
fatal: HTTP request failed

git did not exit cleanly (exit code 128)
</code></pre>

<p>Could anyone give me some advice about this issue?</p>

<hr>

<p>EDIT:</p>

<p>In the meantime, we managed to <code>git clone</code> the repository by addressing it with the <code>ssh://</code> protocol instead of <code>git://</code>, so it doesn't seem like it is a problem of the rsa_public.key or something like that.</p>

<p>The iptables on the server are accepting connections through the port for git, but it keeps on giving the above mentioned error.</p>
","10","1073366",""
"29306088","3720062","2015-03-27 16:56:39","1","1205","<git><ubuntu><azure><ssh><gitolite>","How to use git clone with ssh protected gitolite server","<p>I have set up gitolite on Azure Cloud according to these article: <a href=""https://www.devbridge.com/articles/create-your-own-git-server-on-azure-cloud/"" rel=""nofollow"">https://www.devbridge.com/articles/create-your-own-git-server-on-azure-cloud/</a></p>

<p>Now I want to clone the gitolite-admin repo, but I'm having problem with access.</p>

<p>My virtual machine is set up to allow for ssh2 connection and when I want to clone the gitolite-admin repo on my home computer (Windows) I need to provide the right key for it. </p>

<p>When I type from git bash</p>

<pre><code>git clone git@my-server:gitolite-admin 
</code></pre>

<p>I get </p>

<pre><code>Permission denied (publickey)
</code></pre>

<p>I think I'm little bit lost in these public-private keys.</p>

<p>I've generated according to these key for my Azure VM
<a href=""http://azure.microsoft.com/pl-pl/documentation/articles/virtual-machines-linux-use-ssh-key/"" rel=""nofollow"">http://azure.microsoft.com/pl-pl/documentation/articles/virtual-machines-linux-use-ssh-key/</a></p>

<p>Then I've uploaded admin.cer to my Azure </p>

<p>I can connect with putty, filezilla, everything works.</p>

<p>I've generated admin.pub with puttygen and uploaded it to the server.</p>

<p>Then I've done this</p>

<pre><code>ssh-keygen -i -f /tmp/ssh2/admin.pub &gt; /tmp/openssh/admin.pub
</code></pre>

<p>in order to make it work with gitolite.</p>

<p>I've setup gitolite with these key and now I can't clone it. </p>

<p>I think I just need to hook up somehow my original private key to use with git clone but have no idea how.</p>

<p>I've already put all of these keys to my <code>%HOMEPATH%/.shh/</code> folder but it doesn't worked.</p>

<p>I've even set up <code>%HOME% = %HOMEPATH%</code> as an enviromental variable in Windows.</p>

<p>Now I'm truly lost with everything I've done.</p>
","1","3720062",""
"66082818","15160464","2021-02-06 22:52:29","1","40","<git><permissions><reset><gitolite>","What about 'git reset --hard' with read permission (local/remote)?","<p>I'm new to Git and I am trying to understand the concept. Maybe someone can help me with a few theoretical questions?</p>
<p>So there is a Git on the remote server and a cloned git on my local computer.</p>
<p>After cloning the git to my local computer with a read permission (gitolite with 'R' permission), can I do any damage to the git on the remote server?</p>
<p>If I do a '<code>git reset --hard</code>' (I know that there is often a strong advise against it), does this only reset the changes on my local computer or also on the remote server?<br />
Is there a difference if I work with <code>R</code> or <code>RW+</code> authorization?</p>
","0","15160464","0"
"12467293","1678507","2012-09-17 21:23:05","4","12447","<git><ssh><github><gitolite>","Gitolite git clone requires ssh password","<p>using Gitolite on a Ubuntu server. Have a project im working on that i need a particular syntax for the git command.</p>

<p>Works great:</p>

<pre><code>git clone gitolite@servername:testing.git
</code></pre>

<p>Asks for a password</p>

<pre><code>git clone ssh://gitolite@servername/home/gitolite/repositories/testing.git
</code></pre>

<p>Ran from the same box, one after another. I can put in the password and it works. But I need to automatically work. Sounds like a problem with ssh pub/private keys. Any ideas?</p>

<p><strong>Update</strong>: Was a problem with file permissions. Not sure the difference between the too commands. But the <code>/var/log/auth.log</code> showed some errors</p>
","6","1678507","0"
"12494607","1683012","2012-09-19 12:22:28","3","2559","<git><gitolite><git-daemon>","why my git can't push to my server by gitolite use git-daemon","<p>when I use gitolite, ignoring <code>git-daemon</code>, I can do like <code>git clone git://xxx/xxx</code>,but when I push the project, it shows me the error:</p>

<pre><code>Total 2 (delta 0), reused 0 (delta 0)
remote: Empty compile time value given to use lib at hooks/update line 6
remote: Use of uninitialized value in require at hooks/update line 7.
remote: Can't locate Gitolite/Hooks/Update.pm in @INC (@INC contains:  /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at hooks/update line 7.
remote: BEGIN failed--compilation aborted at hooks/update line 7.
remote: error: hook declined to update refs/heads/master
To git://www.54cxy.com/qianfuzi
 ! [remote rejected] master -&gt; master (hook declined)
</code></pre>

<p>However, when I use <code>ssh</code> like <code>git@xxx:xxx.git</code> it worked not only can clone, but also can push, but I want to use <code>git://</code> to clone and push, so what I can do for it to work?</p>
","0","1683012",""
"12497140","656449","2012-09-19 14:44:46","1","293","<git><gitolite>","is it possible to write git hook to check git commiter to be equal to gitolite user","<p>I realize that this breaks the core idea of DVCS, and so on, but still, is it possible to  write git hook to check if git committer is the same as gitolite user (the one specified in authorized_keys)? </p>

<p>Thank you.</p>
","0","656449",""
"13428876","12448","2012-11-17 08:15:16","2","792","<git><gitolite>","How do I give a user access to all repositories in gitolite?","<p>I have a certain user (backup) that regularly clones/fetches all the repositories in our gitolite system.  I have to manually add </p>

<pre><code> R = backup 
</code></pre>

<p>to every single repo I have.  Is there an easier way to give this user access to every single repo?</p>
","0","12448",""
"13453090","801042","2012-11-19 11:44:33","2","1272","<git><gitolite>","gitolite setup reverted changes","<p>I'm experiencing a weird problem, which I think might be a bug.</p>

<p>I pushed a change in the configuration to the Git server. This included a new repository, so after pushing I logged on to the server to create and initialize the repo (as a copy of the main product repo teamer.git):</p>

<pre><code>rwel@ve-git:/home/git/repositories/teamer$ sudo su git
git@ve-git:~/repositories/teamer$ git clone --bare ../teamer.git analytics.git
git@ve-git:~/repositories/teamer$ gitolite setup 
</code></pre>

<p>The weird thing is, running ""gitolite setup"" appears to have reverted my changes! In the repository, a new commit has appeared with exactly the previous state of the configuration:</p>

<p><img src=""https://i.stack.imgur.com/8xLOv.png"" alt=""GitX screen shot"">
What has happened here and how can I fix it? If you need more info, please let me know.</p>

<p>Thanks!</p>

<hr>

<p><strong>Edit:</strong> I got some errors after pushing the new config, might have something to do with it:</p>

<pre><code>gitolite-admin rwel$ git push origin
Counting objects: 11, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (7/7), 1.07 KiB, done.
Total 7 (delta 2), reused 0 (delta 0)
remote: *** hooks.mailinglist is not set so no email will be sent
remote: *** for refs/heads/master update 85dd4c5e7592fadbdb0d445a245a8763d6e2042b-&gt;1063acec3b106b348fadac655d154a78ea15ead5
remote: FATAL: no files/dirs called 'hooks' or 'logs' are allowed
</code></pre>
","6","801042","0"
"14199550","326849","2013-01-07 16:02:58","6","6998","<gitolite><ssh-keys>","How to add a ssh key to gitolite server without using gitolite-admin?","<p>I want to add a ssh key to my gitolite server from a new workstation.
I can't do it through gitosis-admin, because I can't clone it, and I don't have access to my previous laptop containning the ssh-key with which I installed gitolite.</p>

<p>How can I add my new key to gitosis-admin/keydir without cloning gitosis-admin?</p>

<p>Thanks</p>
","0","326849","0"
"66763740","15460159","2021-03-23 13:04:43","1","53","<gitolite>","gitolite-config with user-name in branch pattern possible?","<p>I want to configure something like</p>
<pre><code>@developer  = user1 user2
repo test
    C   ^dev/$user- = @developer
    RW+ ^dev/$user- = @developer
</code></pre>
<p>So that each user in @developer has complete control over all corresponding branches under dev/ with the user-name in it.</p>
<p>Is there a way to make something like that happen?</p>
","0","15460159","0"
"36698096","6195824","2016-04-18 15:18:06","1","423","<git><gitlab><gitolite><gitlab-ci><gitlab-omnibus>","Modern way for interacting between gitlab and gitolite ; mounting filesystems","<p>on a small Ubuntu LTS server we are running <a href=""https://web.archive.org/web/20130128063824/http://sitaramc.github.com/gitolite/g2/master-toc.html"" rel=""nofollow noreferrer"">gitolite (Version 2)</a>. 
Well I didn't want to change this running configuration up to now. 
Perhaps at next LTS upgrade we are going to migrate to gitolite v3.</p>

<p>Now I got the request, if I can ""mal eben schnell"" [german for ""do it quickly and at once""] install GitLab with Continous Integration support to the same server.
After reading documentation, I know that ""Starting from version 8.0, GitLab <a href=""http://doc.gitlab.com/ce/ci/quick_start/README.html"" rel=""nofollow noreferrer"">Continuous Integration (CI) is fully integrated into GitLab itself</a>"". Nice.
And I learnd that since GitLab 5.0, it is ""<a href=""https://about.gitlab.com/2013/02/12/gitlab-without-gitolite/"" rel=""nofollow noreferrer"">without gitolite</a>"". </p>

<p>After having a look into the <a href=""http://doc.gitlab.com/ce/install/requirements.html#hardware-requirements"" rel=""nofollow noreferrer"">hardware requirements for GitLab CE Omnibus</a>,
I can easily reject the ""mal-eben-schnell"" request with ""no, not with this hardware"".</p>

<p>But now my question is: </p>

<p>How can I setup GitLab (on a newer server) in a way, that I can manage our git repositories with gitolite AND that GitLab is the user WebGUI with wiki, tracking etc. to repositories controlled by gitolite without cloning or mirroring the gitolite repositories into gitlab repositories. </p>

<p>(From filesystems point of view: the repositories should stay at the same position for gitolite and GitLab.)</p>

<p>Yes, I found <a href=""https://stackoverflow.com/questions/14523876/easy-way-to-setup-gitlab-with-existing-gitolite-configuration"">this posting but I think the answer is not valid anymore</a> with newer GitLab Versions.</p>
","0","6195824","0"
"37877260","6478400","2016-06-17 08:58:02","-1","1588","<git><gitolite>","How to stop gitolite service","<p>I want to migrate gitolite to gerrit, so I have to stop the gitolite service before the migration. I want to run the command like this <code>service gitolite stop</code>, but it did't work! Can somebody tell me the right to do that? thx  :)</p>
","2","6478400",""
"38202000","254926","2016-07-05 11:12:29","1","40","<ruby-on-rails><git><gitolite>","Howto publish a git repository with ruby as zipfile","<p>I am using <strong>OpenProject</strong> as project management software and I am not very familiar with ruby and rails, but using the gitolite-plugin works quite well.</p>

<p>I am looking for a solution to provide a link to the OpenProject users where they can directly <strong>download</strong> the gitolite-hosted <strong>repository as a zipfile</strong>.</p>

<p>Is that possible ? </p>

<p>I am willing to put pieces of code together, so even partially solutions and hints are welcome.
thx.</p>
","3","254926","0"
"53806512","10798700","2018-12-16 21:09:24","1","216","<redmine><gitolite>","Redmine 3.3.2, Redmine git hosting plugin","<p>I am trying to install the redmine Git Hosting plugin for redmine 3.3.2.
I have followed the steps at (<a href=""http://redmine-git-hosting.io/get_started/"" rel=""nofollow noreferrer"">http://redmine-git-hosting.io/get_started/</a>) but when i try the 9th step, which is to login to the git, I get asked for a password. There is no password on the GIT user, and just entering a blank password also doesn't work...</p>

<p>I can confirm that there's no password on the user:</p>

<pre><code>[root@RedmineZonderDocker2 ~]# passwd -S git
git NP 2018-12-16 0 99999 7 -1 (Empty password.)
</code></pre>

<p>The log of the plugin does state this:</p>

<pre><code>2018-12-16 20:16:47 +0000 [INFO] Testing if Redmine user 'redmine' can sudo to Gitolite user 'git'...
2018-12-16 20:16:47 +0000 [INFO] OK!
2018-12-16 20:16:47 +0000 [ERROR] Error while getting Gitolite infos, check 
your SSH keys (path, permissions) or your Git user.
</code></pre>

<p>I clearly have no idea where the problem lays, and as you might notice, i'm quite new to all this. Any help would be appreciated. </p>

<p>If you need other config files or logs, please let me know and i'll gladly provide them.</p>

<p>Kind regards</p>
","0","10798700","0"
"49790789","7989991","2018-04-12 07:47:22","1","69","<git><gitolite>","Acess denied on push to gitolite server","<p>All of the sudden I cannot push to origin/master on my gitolite server. </p>

<p>In the gitolite-admin/keydir folder I have my pub key:</p>

<pre><code>server_user.pub
</code></pre>

<p>In the gitolite-admin/conf/gitolite.conf file:</p>

<pre><code>repo gitolite-admin
    RW+ = server_user
</code></pre>

<p>in the ~/.ssh folder:</p>

<pre><code>server_user (key)
</code></pre>

<p>in the ~/.ssh/config file:</p>

<pre><code>Host    gitbox
        User gitolite
        Hostname 192.168.1.239
        Port 22
        IdentityFile ~/.ssh/server_user
</code></pre>

<p>I add,commit and when I try push I get the error:</p>

<pre><code>FATAL: W any gitolite-admin server_user DENIED by fallthru
</code></pre>

<p>Git version on the server 1.7.10.4(if that is anyway relevant).</p>
","0","7989991","0"
"14440732","95876","2013-01-21 14:27:12","1","39","<git><github><gitolite>","Adding virtual refs for repo hosted at github.com","<p>Does github.com has support for adding virual refs like gilote as discussed in <a href=""https://stackoverflow.com/questions/8047416/gitolite-or-gitosis-permission-on-directory-inside-of-the-repository"">gitolite or gitosis: permission on directory inside of the repository</a> ?</p>

<p>I need to restrict access at directory level inside the repo.</p>

<p>Any clues?</p>
","0","95876","0"
"67567383","5840652","2021-05-17 09:45:26","1","138","<git><hook><gitolite>","gitolite hooks not found","<p>I'm having trouble running some scripts with the POST_CREATE hook on gitolite3.</p>
<p>I've red the documentation on <a href=""https://gitolite.com/gitolite/non-core.html"" rel=""nofollow noreferrer"">non-core programms</a> and how one can use the gitolite-admin repo to manage those. So far so good. So I went ahead and</p>
<ul>
<li><p>Uncommented the LOCAL_CODE variable inside .gitolite.rc to point to a /local subfolder inside the gitolite-admin repo
<code>LOCAL_CODE                =&gt;  &quot;$rc{GL_ADMIN_BASE}/local&quot;,</code></p>
</li>
<li><p>Added a <a href=""https://gist.github.com/schnell18/8f31feb03e211c6fa4f1"" rel=""nofollow noreferrer"">script</a> to run with the POST_CREATE hook</p>
<pre><code> POST_CREATE                 =&gt;
 [
     'SetHead.sh',
     'SetHead',
     'local/SetHead.sh',
     'local/SetHead',
     'local/hooks/SetHead.sh',
     'local/hooks/SetHead',
     'local/hooks/common/SetHead.sh',
     'local/hooks/common/SetHead',
 ],
</code></pre>
</li>
<li><p>Ran gitolite setup --hooks-only</p>
</li>
<li><p>Created a new repository</p>
</li>
</ul>
<p>Sadly the script doesn't seem to work or isn't even found?
Any time I push the gitolite-admin repo to create a new repository I get the following warnings</p>
<pre><code>remote: WARNING: skipped trigger 'SetHead.sh' (not found or not executable)
remote: WARNING: skipped trigger 'SetHead' (not found or not executable)
remote: WARNING: skipped trigger 'local/SetHead.sh' (not found or not executable)
remote: WARNING: skipped trigger 'local/SetHead' (not found or not executable)
remote: WARNING: skipped trigger 'local/hooks/SetHead.sh' (not found or not executable)
remote: WARNING: skipped trigger 'local/hooks/SetHead' (not found or not executable)
remote: WARNING: skipped trigger 'local/hooks/common/SetHead.sh' (not found or not executable)
remote: WARNING: skipped trigger 'local/hooks/common/SetHead' (not found or not executable)
</code></pre>
<p>/edit<br />
Ok, apparently I got the paths wrong. The full path to the file on the server is</p>
<pre><code>'/home/gitolite/.gitolite/local/hooks/common/SetHead.sh'
</code></pre>
<p>But this doesn't work either. Running the script directly on the server works as expected. I found a symlink to the script inside each repositories own hook folder. Does that mean it should work?</p>
<p>/edit2<br />
Out of curiosity I've just put the script inside the /local/commands folder and enabled it by putting it's name in the ENABLE list in the .gitolite.rc file. For some reason this immediately worked...</p>
","0","5840652","0"
"67884865","7316406","2021-06-08 09:21:15","2","133","<gitolite>","gitolite can not limit user to access branch","<p>I create a new branch of a repository, set permissions on the branch, and only allow a certain user to access, the result is that either the user can access all branches(RW dev = user2), or all branches cannot access (- master = user2), please help me and  points to the maze. . .  the repository can be set to only access and modify a certain branch</p>
<p>Below is my config：</p>
<pre><code>@users  =  user2

repo gitolite-admin
    RW+     =   git1

repo testing
    RW+ master   =   git1

repo repo2
    -   master              =   @users

</code></pre>
","0","7316406","0"
"14589162","575185","2013-01-29 17:55:47","3","2367","<git><terminal><gitolite>","Initialize gitolite repository in existing folder","<p>I'm fairly new to Git and Gitolite, but yesterday I managed to get it up and running. </p>

<p>The thing is, I have a folder with many projects (let's call it <code>/projects</code>) and I'm trying to migrate them to Git. I symlinked Gitolites <code>/repositories</code> folder to this <code>/projects</code> folder, so now every new repo is created in the <code>/projects</code> folder. It works allright.</p>

<p>But now I want to make a repo for every project (subfolder) in the <code>/projects</code> folder. If I initialize a new repo in Gitolite (let's call it <code>/myproject</code>), it creates a new folder called <code>myproject.git</code> instead of using the old <code>myproject</code> folder with the files I'm already working with. </p>

<p>So, how can I turn all the individual projects folders into Git repositories, using Gitolite? I'd like not to manually download and append all those files.</p>
","0","575185","0"
"15197601","443966","2013-03-04 08:44:45","1","619","<git><gitolite><gitlab>","gitlab doesn't create project in gitolite","<p>After I create project in gitlab, I still can't to push to it. I notice there is no project create in gitolite repositories folders where it should be there.</p>

<p><code>cat /home/gitlab/gitlab/log/githost.log</code>  show below, the last time is just when I create the project in gitlab.</p>

<pre><code>March 04, 2013 15:37 -ERROR -Gitolite error -  remote: FATAL:
git config 'core.sharedRepository' not allowed remote: check
GIT_CONFIG_KEYS in the rc file To git@42.62.26.7:gitolite-admin   
1c67fcf..25792ba  master -master

March 04, 2013 15:50 -ERROR -Gitolite error -  remote: FATAL:
git config 'core.sharedRepository' not allowed remote: check
GIT_CONFIG_KEYS in the rc file To git@42.62.26.7:gitolite-admin   
19952c7..f8ccebc  master -master

March 04, 2013 15:57 -ERROR -Gitolite error -  remote: FATAL:
git config 'core.sharedRepository' not allowed remote: check
GIT_CONFIG_KEYS in the rc file To git@42.62.26.7:gitolite-admin   
359de47..3683bc1  master -master

March 04, 2013 16:21 -ERROR -Gitolite error -  remote: FATAL:
git config 'core.sharedRepository' not allowed remote: check
GIT_CONFIG_KEYS in the rc file To git@42.62.26.7:gitolite-admin   
479836c..37a2aa9  master -master

March 04, 2013 16:23 -ERROR -Gitolite error -  remote: FATAL:
git config 'core.sharedRepository' not allowed remote: check
GIT_CONFIG_KEYS in the rc file To git@42.62.26.7:gitolite-admin   
37a2aa9..8771dee  master -master

March 04, 2013 16:32 -ERROR -Gitolite error -  remote: FATAL:
git config 'core.sharedRepository' not allowed remote: check
GIT_CONFIG_KEYS in the rc file To git@42.62.26.7:gitolite-admin   
8771dee..f354a61  master -master
</code></pre>
","0","443966","0"
"16907919","2432623","2013-06-04 00:20:11","2","3608","<installation><centos><gitolite>","Install gitolite v3 on the Centos 6.4. The second user is asking a password","<p>Please help me to understand what i am doing wrong. I have server on CentOS 6.4 and I need to install gitolite v3. What am i doing? by the first i am install one using next command:</p>

<pre><code>yum install git* perl-Time-HiRes

useradd -m --system --shell /bin/bash --user-group gitolite

su - gitolite

mkdir bin


echo ""PATH=$HOME/bin:$PATH"" &gt; .bash_profile

source .bash_profile

ssh-keygen -t rsa

cp .ssh/id_rsa.pub ./gitolite.pub

git clone git://github.com/sitaramc/gitolite

gitolite/install -ln

gitolite setup -pk gitolite.pub
</code></pre>

<p>Install was successful. Than I clone gitolite-admin repositories:</p>

<pre><code>git clone gitadmin:gitolite-admin
cd gitolite-admin/keydir
</code></pre>

<p>And generate public key for the new user(lodar.pub)</p>

<pre><code>ssh-keygen -t rsa -f lodar
mv ./lodar ../../.ssh/lodar
</code></pre>

<p>Than i edit conf/gitolite.conf:</p>

<pre><code>repo gitolite-admin
   RW+   = gitolite
repo testing
   RW+   = @all
repo   empty
   RW+   = lodar
</code></pre>

<p>Commit all changes:</p>

<pre><code>git add keydir/lodar.pub
git commit -m 'add user lodar and new repo empty'
git push
</code></pre>

<p>And that is all. Push was successful too. After all manipulation i created .ssh/config</p>

<pre><code>Host gitadmin
    User gitolite
    Hostname 192.168.0.1
    Port 22
    IdentityFile ~/.ssh/gitolite

Host gitlodar
    User gitolite
    Hostname 192.168.0.1
    Port 22
    IdentityFile ~/.ssh/lodar
</code></pre>

<p>But if i try to connect using </p>

<pre><code>ssh gitlodar info
lodar@192.168.0.1's password:
</code></pre>

<p>i must to enter the password.</p>

<pre><code>ssh gitadmin info
hello, gitolite, this is gitolite@lodar-14452 running gitolite3 v3.5.1-4-g2f48a3e on git 1.7.1
R W   gitolite-amdin
R W   testing
</code></pre>

<p>What am i doing wrong?    </p>
","1","2432623","0"
"16925238","95642","2013-06-04 18:45:18","1","254","<git><gitolite>","gitolite permissoins with branches and folders","<p>In gitolite I want the <code>@developers</code> to be able to push to any branch except for <code>master</code>.<br>
I want <code>user1</code> to be able to push to any branch (including <code>master</code>) except not a certain directory on <code>master</code>.</p>

<p>How would I do that?</p>
","1","95642","0"
"16959210","2459121","2013-06-06 10:03:01","1","131","<gitolite>","Checking gitolite config before push","<p>I've just started using gitolite and I can't find a way to verify changes I've made to gitolite-admin repo, i.e. changes to configuration, before pushing. So what happens is that I make changes, commit and push only to learn that I've made a typo in the config file or a key file is missing. Nothing dramatic, but I end up with an ugly commit history, making it difficult to follow what was changed when. Is there a way around this?</p>
","0","2459121","0"
"51648212","8081633","2018-08-02 07:45:39","2","317","<git><gitlab><gitolite>","How to recover git repositories","<p>Somehow my local git server stopped working. Whenever i tried to clone/push/pull getting below error. </p>

<pre><code>$ git pull origin
FATAL: parse './conf/gitolite.conf-compiled.pm' failed: No such file or directory
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>

<p>But the required <code>gitolite.conf-compiled.pm</code> file exists</p>

<pre><code>/home/git/.gitolite/conf/gitolite.conf
/home/git/.gitolite/conf/gitolite.conf-compiled.pm
/home/git/.gitolite/conf/rule_info
</code></pre>

<p>So, now the question is how do i get all the repositories code. When i navigate to one of the repository and the directory structure is like below</p>

<pre><code>root@INLT-TRE0012:/home/git/repositories/cl.git# ls
branches  config  description  gl-conf  gl-slave-tregit1.status  HEAD  hooks  info  objects  refs
</code></pre>
","1","8081633","0"
"38394303","420284","2016-07-15 10:51:07","3","716","<git><gitolite>","How to prevent users from deleting commit from remote git repository","<p>I have a git remote repository setup on a shared hosting service with access to git over https. I want to prevent some or all developers from deleting commits from remote repository. How can I achieve this?</p>
","0","420284","0"
"38398018","420284","2016-07-15 13:59:31","1","1196","<git><gitolite>","ip address and command logs for git clone, pull and push","<p>Is there a way to keep track of which user did git clone, pull and push from which ip address from a remote git repository?</p>

<p>If not default git then is it possible with gitolite or other similar tool?</p>
","0","420284","0"
"72152945","13663683","2022-05-07 13:22:48","1","88","<http><ssh><repository><public><gitolite>","make gitolite repository public","<p>How we can gain read access to public gitolite repos, without authentiaction?</p>
<h2>More description</h2>
<p>As gitolite provide authorization over repos, you can define some repos that all users can access. But about authentication and how this access can be achieved, I couldnt find any appropriate solution.</p>
<p><em><strong>gitolite</strong></em>: <em><a href=""https://gitolite.com/gitolite/concepts.html#authentication-and-authorisation"" rel=""nofollow noreferrer"">Gitolite does not do authentication. It only does authorisation.</a></em></p>
<p>If we want to use 2 popular git protocol: SSH and HTTP for our works.</p>
<p>I think it is not appropriate to provide public access over ssh for security reason(and not even sure how it can be done). So if we want to have public access over HTTP how can this be achieved?</p>
<p>And it seems that apache had some changes to block unauthenticated access.</p>
<p><em><strong>gitolite</strong></em>: <em><a href=""https://gitolite.com/gitolite/http.html#allowing-unauthenticated-access"" rel=""nofollow noreferrer"">This does not seem to happen any more. Apache seems to insist on a userid, period</a></em></p>
<p>public repos can define in gitolite conf:</p>
<pre><code>repo testing
    RW+     =   @all public
</code></pre>
<p>where 'public' is defined in <a href=""https://gitolite.com/gitolite/http.html#allowing-unauthenticated-access"" rel=""nofollow noreferrer"">.gitolite.rc</a> and @all is for all users.</p>
<pre><code>HTTP_ANON_USER      =&gt;  'public',
</code></pre>
<p><s> So it seems answers from before 2019 will not work (I tried this work for excluding an uri from authentication but failed):</p>
<p><a href=""https://stackoverflow.com/a/16759565/13663683"">https://stackoverflow.com/a/16759565/13663683</a></p>
<p>my config was:</p>
<pre><code>    &lt;Location /git&gt;       
        SetEnvIf Request_URI &quot;^/git/public_repo/$&quot; NOPASSWD=true
        AuthType Basic
        AuthName &quot;Git Access&quot;
        Require valid-user
        AuthUserFile /etc/apache2/git.passwd
        Order Deny,Allow
        Satisfy any
        Deny from all
        Require valid-user
        Allow from env=NOPASSWD
    &lt;/Location&gt;
</code></pre>
</s>
And some works where inefficient to implement, because they have overhead:
<p><a href=""https://commentedcode.org/blog/2017/06/12/gitolite-public-http-access/"" rel=""nofollow noreferrer"">https://commentedcode.org/blog/2017/06/12/gitolite-public-http-access/</a></p>
<p>and some works with broken links:</p>
<p><a href=""https://stackoverflow.com/questions/4878230/public-repository-with-gitolite"">public repository with gitolite</a></p>
<p>TY.</p>
<hr />
<h2>Update</h2>
<p>I was able to do this work with some tweak around apache config</p>
<p><a href=""https://stackoverflow.com/a/16759565/13663683"">https://stackoverflow.com/a/16759565/13663683</a></p>
<p>This will create public repo with no authentication, but still lack in someway. You need to absolutely define your public repo subtree and this lack dynamic locations.
And more important with this approach you can not define a user to fill this repo, because no-auth route have higher priority.</p>
","0","13663683","0"
"73367618","17979365","2022-08-16 00:27:39","1","62","<gitolite><cgit>","New cgit/gitolite not allowing access to copied repostiory","<p>Is there any way to get a log of what failed during cloning?</p>
<p>But cloning my copied repository is denied:</p>
<pre><code>$ git clone git@192.168.8.20:linux linux-999
Cloning into 'linux-999'...
FATAL: R any linux user1 DENIED by fallthru
(or you mis-spelled the reponame)
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
</code></pre>
<p>The gitolite.conf file:</p>
<pre><code> ...
repo testing
    RW+     =   @all

repo linux
    RW+     =   @all

</code></pre>
<p>The repositories on the server are all owned by the gitolite user.</p>
","0","17979365","0"
"72640654","19349234","2022-06-16 04:56:54","1","52","<git><git-push><packet><gitolite><networkstream>","How to send only specific packets in git push?","<p>I have been trying to optimize git push for a while and I noticed these extra delievery of packets that we might not need and can be avoided. Note - I am behind a gitolite layer at the remote end.</p>
<p>So when I do a</p>
<p><code>git push origin &lt;ref for the commit&gt;</code>,</p>
<p>the remote side executes a</p>
<p><code>git receive-pack &lt;path/to/submodule&gt;</code>.</p>
<p>After this in trace log for the packet shows packets containing information regarding <strong>all</strong> the commits the repository has (which may become very large over the course of time).</p>
<p>The trace looks something like -</p>
<pre><code>18:47:03.556493 pkt-line.c:80           packet:         push&lt; &lt;commit hash&gt; refs/tags/commit/&lt;commit-hash&gt;
.
.
.
.
</code></pre>
<p>What I was expecting it to be was to send only two such packets -</p>
<ol>
<li>One for the submodule commit.</li>
<li>One for the root commit.</li>
</ol>
<p>Can someone-explain to me why this is happening and if there is a way to overpower this check of deltas between local and remote versions and send only these two packets ?</p>
","2","19349234","0"
"56428214","9266188","2019-06-03 13:16:24","1","67","<git><gitolite><git-daemon>","Aborting ""git push"" - open git-daemon-export-ok.19906 failed: Permission denied at pathto/gitolite.pm line 115","<p>I am using gitolite and now I am not able to push some changes / new files to the repository. I made no changes on permission's and I worked not on the git scripts. Do you hav an idea which reason this could be?</p>

<pre><code>git push

Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 422 bytes | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: creating testrepo123...
remote: Initialized empty Git repository in /path/to/testrepo123.git/
remote:
remote:                 ***** ABORTING *****
remote:         open git-daemon-export-ok.19906 failed: Permission denied at /path/to/gitolite.pm line 115
To hasselbl@git.devlab.de.tmo:gitolite-admin.git
   dde5c24..ea1f2f9  master -&gt; master
</code></pre>

<p>It is also not possible to create new repository. Git will create the repository on serverside but users are not able to work with them (permission)</p>

<p>I made no changes on permission side.
I hope you have an idea, all my web researches end without a result.</p>

<p>Kind regards,
Nils</p>
","1","9266188","0"